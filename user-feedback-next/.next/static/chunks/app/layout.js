/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/layout"],{

/***/ "(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/client.js":
/*!************************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/react/client.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   ConvexAuthActionsContext: () => (/* binding */ ConvexAuthActionsContext),\n/* harmony export */   ConvexAuthTokenContext: () => (/* binding */ ConvexAuthTokenContext),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nconst ConvexAuthActionsContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst ConvexAuthInternalContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useAuth() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexAuthInternalContext);\n}\nconst ConvexAuthTokenContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nconst VERIFIER_STORAGE_KEY = \"__convexAuthOAuthVerifier\";\nconst JWT_STORAGE_KEY = \"__convexAuthJWT\";\nconst REFRESH_TOKEN_STORAGE_KEY = \"__convexAuthRefreshToken\";\nconst SERVER_STATE_FETCH_TIME_STORAGE_KEY = \"__convexAuthServerStateFetchTime\";\nfunction AuthProvider({ client, serverState, onChange, storage, storageNamespace, replaceURL, children, }) {\n    const token = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(serverState?._state.token ?? null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(token.current === null);\n    const [tokenState, setTokenState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(token.current);\n    const verbose = client.verbose ?? false;\n    const logVerbose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message) => {\n        if (verbose) {\n            console.debug(`${new Date().toISOString()} ${message}`);\n        }\n    }, [verbose]);\n    const { storageSet, storageGet, storageRemove, storageKey } = useNamespacedStorage(storage, storageNamespace);\n    const [isRefreshingToken, setIsRefreshingToken] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const setToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (args) => {\n        const wasAuthenticated = token.current !== null;\n        let newToken;\n        if (args.tokens === null) {\n            token.current = null;\n            if (args.shouldStore) {\n                await storageRemove(JWT_STORAGE_KEY);\n                await storageRemove(REFRESH_TOKEN_STORAGE_KEY);\n            }\n            newToken = null;\n        }\n        else {\n            const { token: value } = args.tokens;\n            token.current = value;\n            if (args.shouldStore) {\n                const { refreshToken } = args.tokens;\n                await storageSet(JWT_STORAGE_KEY, value);\n                await storageSet(REFRESH_TOKEN_STORAGE_KEY, refreshToken);\n            }\n            newToken = value;\n        }\n        if (wasAuthenticated !== (newToken !== null)) {\n            await onChange?.();\n        }\n        setTokenState(newToken);\n        setIsLoading(false);\n    }, [storageSet, storageRemove]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const listener = async (e) => {\n            if (isRefreshingToken) {\n                // There are 3 different ways to trigger this pop up so just try all of\n                // them.\n                e.preventDefault();\n                // This confirmation message doesn't actually appear in most modern\n                // browsers but we tried.\n                const confirmationMessage = \"Are you sure you want to leave? Your changes may not be saved.\";\n                e.returnValue = true;\n                return confirmationMessage;\n            }\n        };\n        browserAddEventListener(\"beforeunload\", listener);\n        return () => {\n            browserRemoveEventListener(\"beforeunload\", listener);\n        };\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // We're listening for:\n        // 1. sibling tabs in case of localStorage\n        // 2. other frames in case of sessionStorage\n        const listener = (event) => {\n            void (async () => {\n                // TODO: Test this if statement works in iframes correctly\n                if (event.storageArea !== storage) {\n                    return;\n                }\n                // Another tab/frame set the access token, use it\n                if (event.key === storageKey(JWT_STORAGE_KEY)) {\n                    const value = event.newValue;\n                    logVerbose(`synced access token, is null: ${value === null}`);\n                    // We don't write into storage since the event came from there and\n                    // we'd trigger a loop, plus we get each key as a separate event so\n                    // we don't have the refresh key here.\n                    await setToken({\n                        shouldStore: false,\n                        tokens: value === null ? null : { token: value },\n                    });\n                }\n            })();\n        };\n        browserAddEventListener(\"storage\", listener);\n        return () => browserRemoveEventListener(\"storage\", listener);\n    }, [setToken]);\n    const verifyCodeAndSetToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (args) => {\n        const { tokens } = await client.unauthenticatedCall(\"auth:signIn\", \"code\" in args\n            ? { params: { code: args.code }, verifier: args.verifier }\n            : args);\n        logVerbose(`retrieved tokens, is null: ${tokens === null}`);\n        await setToken({ shouldStore: true, tokens: tokens ?? null });\n        return tokens !== null;\n    }, [client, setToken]);\n    const signIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (provider, args) => {\n        const params = args instanceof FormData\n            ? Array.from(args.entries()).reduce((acc, [key, value]) => {\n                acc[key] = value;\n                return acc;\n            }, {})\n            : args ?? {};\n        const verifier = (await storageGet(VERIFIER_STORAGE_KEY)) ?? undefined;\n        await storageRemove(VERIFIER_STORAGE_KEY);\n        const result = await client.authenticatedCall(\"auth:signIn\", { provider, params, verifier });\n        if (result.redirect !== undefined) {\n            const url = new URL(result.redirect);\n            await storageSet(VERIFIER_STORAGE_KEY, result.verifier);\n            // Do not redirect in React Native\n            if (window.location !== undefined) {\n                window.location.href = url.toString();\n            }\n            return { signingIn: false, redirect: url };\n        }\n        else if (result.tokens !== undefined) {\n            const { tokens } = result;\n            logVerbose(`signed in and got tokens, is null: ${tokens === null}`);\n            await setToken({ shouldStore: true, tokens });\n            return { signingIn: result.tokens !== null };\n        }\n        return { signingIn: false };\n    }, [client, setToken, storageGet]);\n    const signOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            await client.authenticatedCall(\"auth:signOut\");\n        }\n        catch (error) {\n            // Ignore any errors, they are usually caused by being\n            // already signed out, which is ok.\n        }\n        logVerbose(`signed out, erasing tokens`);\n        await setToken({ shouldStore: true, tokens: null });\n    }, [setToken, client]);\n    const fetchAccessToken = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ({ forceRefreshToken }) => {\n        if (forceRefreshToken) {\n            const tokenBeforeLockAquisition = token.current;\n            return await browserMutex(REFRESH_TOKEN_STORAGE_KEY, async () => {\n                const tokenAfterLockAquisition = token.current;\n                // Another tab or frame just refreshed the token, we can use it\n                // and skip another refresh.\n                if (tokenAfterLockAquisition !== tokenBeforeLockAquisition) {\n                    logVerbose(`returning synced token, is null: ${tokenAfterLockAquisition === null}`);\n                    return tokenAfterLockAquisition;\n                }\n                const refreshToken = (await storageGet(REFRESH_TOKEN_STORAGE_KEY)) ?? null;\n                if (refreshToken !== null) {\n                    setIsRefreshingToken(true);\n                    await verifyCodeAndSetToken({ refreshToken }).finally(() => {\n                        setIsRefreshingToken(false);\n                    });\n                    logVerbose(`returning retrieved token, is null: ${tokenAfterLockAquisition === null}`);\n                    return token.current;\n                }\n                else {\n                    setIsRefreshingToken(false);\n                    logVerbose(`returning null, there is no refresh token`);\n                    return null;\n                }\n            });\n        }\n        return token.current;\n    }, [verifyCodeAndSetToken, signOut, storageGet]);\n    const signingInWithCodeFromURL = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // Has to happen in useEffect to avoid SSR.\n        if (storage === undefined) {\n            throw new Error(\"`localStorage` is not available in this environment, \" +\n                \"set the `storage` prop on `ConvexAuthProvider`!\");\n        }\n        const readStateFromStorage = async () => {\n            const token = (await storageGet(JWT_STORAGE_KEY)) ?? null;\n            logVerbose(`retrieved token from storage, is null: ${token === null}`);\n            await setToken({\n                shouldStore: false,\n                tokens: token === null ? null : { token },\n            });\n        };\n        if (serverState !== undefined) {\n            // First check that this isn't a subsequent render\n            // with stale serverState.\n            const timeFetched = storageGet(SERVER_STATE_FETCH_TIME_STORAGE_KEY);\n            const setTokensFromServerState = (timeFetched) => {\n                if (!timeFetched || serverState._timeFetched > +timeFetched) {\n                    const { token, refreshToken } = serverState._state;\n                    const tokens = token === null || refreshToken === null\n                        ? null\n                        : { token, refreshToken };\n                    void storageSet(SERVER_STATE_FETCH_TIME_STORAGE_KEY, serverState._timeFetched.toString());\n                    void setToken({ tokens, shouldStore: true });\n                }\n                else {\n                    void readStateFromStorage();\n                }\n            };\n            // We want to avoid async if possible.\n            if (timeFetched instanceof Promise) {\n                void timeFetched.then(setTokensFromServerState);\n            }\n            else {\n                setTokensFromServerState(timeFetched);\n            }\n            return;\n        }\n        const code = typeof window?.location !== \"undefined\"\n            ? new URLSearchParams(window.location.search).get(\"code\")\n            : null;\n        // code from URL is only consumed initially,\n        // ref avoids racing in Strict mode\n        if (signingInWithCodeFromURL.current || code) {\n            if (code && !signingInWithCodeFromURL.current) {\n                signingInWithCodeFromURL.current = true;\n                const url = new URL(window.location.href);\n                url.searchParams.delete(\"code\");\n                void (async () => {\n                    await replaceURL(url.pathname + url.search + url.hash);\n                    await signIn(undefined, { code });\n                    signingInWithCodeFromURL.current = false;\n                })();\n            }\n        }\n        else {\n            void readStateFromStorage();\n        }\n    }, \n    // Explicitly chosen dependencies.\n    // This effect should mostly only run once\n    // on mount.\n    [client, storageGet]);\n    const actions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ signIn, signOut }), [signIn, signOut]);\n    const isAuthenticated = tokenState !== null;\n    const authState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({\n        isLoading,\n        isAuthenticated,\n        fetchAccessToken,\n    }), [fetchAccessToken, isLoading, isAuthenticated]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthInternalContext.Provider, { value: authState, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthActionsContext.Provider, { value: actions, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ConvexAuthTokenContext.Provider, { value: tokenState, children: children }) }) }));\n}\nfunction useNamespacedStorage(peristentStorage, namespace) {\n    const inMemoryStorage = useInMemoryStorage();\n    const storage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => peristentStorage ?? inMemoryStorage(), [peristentStorage]);\n    const escapedNamespace = namespace.replace(/[^a-zA-Z0-9]/g, \"\");\n    const storageKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => `${key}_${escapedNamespace}`, [namespace]);\n    const storageSet = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key, value) => storage.setItem(storageKey(key), value), [storage, storageKey]);\n    const storageGet = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => storage.getItem(storageKey(key)), [storage, storageKey]);\n    const storageRemove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key) => storage.removeItem(storageKey(key)), [storage, storageKey]);\n    return { storageSet, storageGet, storageRemove, storageKey };\n}\nfunction useInMemoryStorage() {\n    const [inMemoryStorage, setInMemoryStorage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    return () => ({\n        getItem: (key) => inMemoryStorage[key],\n        setItem: (key, value) => {\n            setInMemoryStorage((prev) => ({ ...prev, [key]: value }));\n        },\n        removeItem: (key) => {\n            setInMemoryStorage((prev) => {\n                const { [key]: _, ...rest } = prev;\n                return rest;\n            });\n        },\n    });\n}\n// In the browser, executes the callback as the only tab / frame at a time.\nasync function browserMutex(key, callback) {\n    const lockManager = window?.navigator?.locks;\n    return lockManager !== undefined\n        ? await lockManager.request(key, callback)\n        : await manualMutex(key, callback);\n}\nfunction getMutexValue(key) {\n    if (globalThis.__convexAuthMutexes === undefined) {\n        globalThis.__convexAuthMutexes = {};\n    }\n    let mutex = globalThis.__convexAuthMutexes[key];\n    if (mutex === undefined) {\n        globalThis.__convexAuthMutexes[key] = {\n            currentlyRunning: null,\n            waiting: [],\n        };\n    }\n    mutex = globalThis.__convexAuthMutexes[key];\n    return mutex;\n}\nfunction setMutexValue(key, value) {\n    globalThis.__convexAuthMutexes[key] = value;\n}\nasync function enqueueCallbackForMutex(key, callback) {\n    const mutex = getMutexValue(key);\n    if (mutex.currentlyRunning === null) {\n        setMutexValue(key, {\n            currentlyRunning: callback().finally(() => {\n                const nextCb = getMutexValue(key).waiting.shift();\n                getMutexValue(key).currentlyRunning = null;\n                setMutexValue(key, {\n                    ...getMutexValue(key),\n                    currentlyRunning: nextCb === undefined ? null : enqueueCallbackForMutex(key, nextCb),\n                });\n            }),\n            waiting: [],\n        });\n    }\n    else {\n        setMutexValue(key, {\n            ...mutex,\n            waiting: [...mutex.waiting, callback],\n        });\n    }\n}\nasync function manualMutex(key, callback) {\n    const outerPromise = new Promise((resolve, reject) => {\n        const wrappedCallback = () => {\n            return callback()\n                .then((v) => resolve(v))\n                .catch((e) => reject(e));\n        };\n        void enqueueCallbackForMutex(key, wrappedCallback);\n    });\n    return outerPromise;\n}\nfunction browserAddEventListener(type, listener, options) {\n    window.addEventListener?.(type, listener, options);\n}\nfunction browserRemoveEventListener(type, listener, options) {\n    window.removeEventListener?.(type, listener, options);\n}\n//# sourceMappingURL=client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3QvcmVhY3QvY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRDtBQUNzRDtBQUMvRixpQ0FBaUMsb0RBQWE7QUFDckQsa0NBQWtDLG9EQUFhO0FBQ3hDO0FBQ1AsV0FBVyxpREFBVTtBQUNyQjtBQUNPLCtCQUErQixvREFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QixpRkFBaUY7QUFDaEgsa0JBQWtCLDZDQUFNO0FBQ3hCLHNDQUFzQywrQ0FBUTtBQUM5Qyx3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQSx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQSw2QkFBNkIsMEJBQTBCLEVBQUUsUUFBUTtBQUNqRTtBQUNBLEtBQUs7QUFDTCxZQUFZLG9EQUFvRDtBQUNoRSxzREFBc0QsK0NBQVE7QUFDOUQscUJBQXFCLGtEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZUFBZTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGNBQWM7QUFDeEUscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFD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UztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3Byb2plY3RzL3VzZXItZmVlZGJhY2stYXBwbGljYXRpb24vdXNlci1mZWVkYmFjay1uZXh0L25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3QvcmVhY3QvY2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlLCB9IGZyb20gXCJyZWFjdFwiO1xuZXhwb3J0IGNvbnN0IENvbnZleEF1dGhBY3Rpb25zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbmNvbnN0IENvbnZleEF1dGhJbnRlcm5hbENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChDb252ZXhBdXRoSW50ZXJuYWxDb250ZXh0KTtcbn1cbmV4cG9ydCBjb25zdCBDb252ZXhBdXRoVG9rZW5Db250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IFZFUklGSUVSX1NUT1JBR0VfS0VZID0gXCJfX2NvbnZleEF1dGhPQXV0aFZlcmlmaWVyXCI7XG5jb25zdCBKV1RfU1RPUkFHRV9LRVkgPSBcIl9fY29udmV4QXV0aEpXVFwiO1xuY29uc3QgUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSA9IFwiX19jb252ZXhBdXRoUmVmcmVzaFRva2VuXCI7XG5jb25zdCBTRVJWRVJfU1RBVEVfRkVUQ0hfVElNRV9TVE9SQUdFX0tFWSA9IFwiX19jb252ZXhBdXRoU2VydmVyU3RhdGVGZXRjaFRpbWVcIjtcbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjbGllbnQsIHNlcnZlclN0YXRlLCBvbkNoYW5nZSwgc3RvcmFnZSwgc3RvcmFnZU5hbWVzcGFjZSwgcmVwbGFjZVVSTCwgY2hpbGRyZW4sIH0pIHtcbiAgICBjb25zdCB0b2tlbiA9IHVzZVJlZihzZXJ2ZXJTdGF0ZT8uX3N0YXRlLnRva2VuID8/IG51bGwpO1xuICAgIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0b2tlbi5jdXJyZW50ID09PSBudWxsKTtcbiAgICBjb25zdCBbdG9rZW5TdGF0ZSwgc2V0VG9rZW5TdGF0ZV0gPSB1c2VTdGF0ZSh0b2tlbi5jdXJyZW50KTtcbiAgICBjb25zdCB2ZXJib3NlID0gY2xpZW50LnZlcmJvc2UgPz8gZmFsc2U7XG4gICAgY29uc3QgbG9nVmVyYm9zZSA9IHVzZUNhbGxiYWNrKChtZXNzYWdlKSA9PiB7XG4gICAgICAgIGlmICh2ZXJib3NlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0gJHttZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfSwgW3ZlcmJvc2VdKTtcbiAgICBjb25zdCB7IHN0b3JhZ2VTZXQsIHN0b3JhZ2VHZXQsIHN0b3JhZ2VSZW1vdmUsIHN0b3JhZ2VLZXkgfSA9IHVzZU5hbWVzcGFjZWRTdG9yYWdlKHN0b3JhZ2UsIHN0b3JhZ2VOYW1lc3BhY2UpO1xuICAgIGNvbnN0IFtpc1JlZnJlc2hpbmdUb2tlbiwgc2V0SXNSZWZyZXNoaW5nVG9rZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHNldFRva2VuID0gdXNlQ2FsbGJhY2soYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgY29uc3Qgd2FzQXV0aGVudGljYXRlZCA9IHRva2VuLmN1cnJlbnQgIT09IG51bGw7XG4gICAgICAgIGxldCBuZXdUb2tlbjtcbiAgICAgICAgaWYgKGFyZ3MudG9rZW5zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChhcmdzLnNob3VsZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgc3RvcmFnZVJlbW92ZShKV1RfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2VSZW1vdmUoUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdUb2tlbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IHRva2VuOiB2YWx1ZSB9ID0gYXJncy50b2tlbnM7XG4gICAgICAgICAgICB0b2tlbi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAoYXJncy5zaG91bGRTdG9yZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVmcmVzaFRva2VuIH0gPSBhcmdzLnRva2VucztcbiAgICAgICAgICAgICAgICBhd2FpdCBzdG9yYWdlU2V0KEpXVF9TVE9SQUdFX0tFWSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2VTZXQoUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSwgcmVmcmVzaFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1Rva2VuID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc0F1dGhlbnRpY2F0ZWQgIT09IChuZXdUb2tlbiAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGF3YWl0IG9uQ2hhbmdlPy4oKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUb2tlblN0YXRlKG5ld1Rva2VuKTtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9LCBbc3RvcmFnZVNldCwgc3RvcmFnZVJlbW92ZV0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlZnJlc2hpbmdUb2tlbikge1xuICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFyZSAzIGRpZmZlcmVudCB3YXlzIHRvIHRyaWdnZXIgdGhpcyBwb3AgdXAgc28ganVzdCB0cnkgYWxsIG9mXG4gICAgICAgICAgICAgICAgLy8gdGhlbS5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb25maXJtYXRpb24gbWVzc2FnZSBkb2Vzbid0IGFjdHVhbGx5IGFwcGVhciBpbiBtb3N0IG1vZGVyblxuICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJzIGJ1dCB3ZSB0cmllZC5cbiAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtYXRpb25NZXNzYWdlID0gXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmU/IFlvdXIgY2hhbmdlcyBtYXkgbm90IGJlIHNhdmVkLlwiO1xuICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25NZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBicm93c2VyQWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBicm93c2VyUmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gV2UncmUgbGlzdGVuaW5nIGZvcjpcbiAgICAgICAgLy8gMS4gc2libGluZyB0YWJzIGluIGNhc2Ugb2YgbG9jYWxTdG9yYWdlXG4gICAgICAgIC8vIDIuIG90aGVyIGZyYW1lcyBpbiBjYXNlIG9mIHNlc3Npb25TdG9yYWdlXG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB2b2lkIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGVzdCB0aGlzIGlmIHN0YXRlbWVudCB3b3JrcyBpbiBpZnJhbWVzIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5zdG9yYWdlQXJlYSAhPT0gc3RvcmFnZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFub3RoZXIgdGFiL2ZyYW1lIHNldCB0aGUgYWNjZXNzIHRva2VuLCB1c2UgaXRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBzdG9yYWdlS2V5KEpXVF9TVE9SQUdFX0tFWSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC5uZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbG9nVmVyYm9zZShgc3luY2VkIGFjY2VzcyB0b2tlbiwgaXMgbnVsbDogJHt2YWx1ZSA9PT0gbnVsbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd3JpdGUgaW50byBzdG9yYWdlIHNpbmNlIHRoZSBldmVudCBjYW1lIGZyb20gdGhlcmUgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlJ2QgdHJpZ2dlciBhIGxvb3AsIHBsdXMgd2UgZ2V0IGVhY2gga2V5IGFzIGEgc2VwYXJhdGUgZXZlbnQgc29cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSB0aGUgcmVmcmVzaCBrZXkgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0VG9rZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU3RvcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiB7IHRva2VuOiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgICAgICBicm93c2VyQWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4gYnJvd3NlclJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGxpc3RlbmVyKTtcbiAgICB9LCBbc2V0VG9rZW5dKTtcbiAgICBjb25zdCB2ZXJpZnlDb2RlQW5kU2V0VG9rZW4gPSB1c2VDYWxsYmFjayhhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCB7IHRva2VucyB9ID0gYXdhaXQgY2xpZW50LnVuYXV0aGVudGljYXRlZENhbGwoXCJhdXRoOnNpZ25JblwiLCBcImNvZGVcIiBpbiBhcmdzXG4gICAgICAgICAgICA/IHsgcGFyYW1zOiB7IGNvZGU6IGFyZ3MuY29kZSB9LCB2ZXJpZmllcjogYXJncy52ZXJpZmllciB9XG4gICAgICAgICAgICA6IGFyZ3MpO1xuICAgICAgICBsb2dWZXJib3NlKGByZXRyaWV2ZWQgdG9rZW5zLCBpcyBudWxsOiAke3Rva2VucyA9PT0gbnVsbH1gKTtcbiAgICAgICAgYXdhaXQgc2V0VG9rZW4oeyBzaG91bGRTdG9yZTogdHJ1ZSwgdG9rZW5zOiB0b2tlbnMgPz8gbnVsbCB9KTtcbiAgICAgICAgcmV0dXJuIHRva2VucyAhPT0gbnVsbDtcbiAgICB9LCBbY2xpZW50LCBzZXRUb2tlbl0pO1xuICAgIGNvbnN0IHNpZ25JbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChwcm92aWRlciwgYXJncykgPT4ge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBhcmdzIGluc3RhbmNlb2YgRm9ybURhdGFcbiAgICAgICAgICAgID8gQXJyYXkuZnJvbShhcmdzLmVudHJpZXMoKSkucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KVxuICAgICAgICAgICAgOiBhcmdzID8/IHt9O1xuICAgICAgICBjb25zdCB2ZXJpZmllciA9IChhd2FpdCBzdG9yYWdlR2V0KFZFUklGSUVSX1NUT1JBR0VfS0VZKSkgPz8gdW5kZWZpbmVkO1xuICAgICAgICBhd2FpdCBzdG9yYWdlUmVtb3ZlKFZFUklGSUVSX1NUT1JBR0VfS0VZKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmF1dGhlbnRpY2F0ZWRDYWxsKFwiYXV0aDpzaWduSW5cIiwgeyBwcm92aWRlciwgcGFyYW1zLCB2ZXJpZmllciB9KTtcbiAgICAgICAgaWYgKHJlc3VsdC5yZWRpcmVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlc3VsdC5yZWRpcmVjdCk7XG4gICAgICAgICAgICBhd2FpdCBzdG9yYWdlU2V0KFZFUklGSUVSX1NUT1JBR0VfS0VZLCByZXN1bHQudmVyaWZpZXIpO1xuICAgICAgICAgICAgLy8gRG8gbm90IHJlZGlyZWN0IGluIFJlYWN0IE5hdGl2ZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHNpZ25pbmdJbjogZmFsc2UsIHJlZGlyZWN0OiB1cmwgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQudG9rZW5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdG9rZW5zIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICBsb2dWZXJib3NlKGBzaWduZWQgaW4gYW5kIGdvdCB0b2tlbnMsIGlzIG51bGw6ICR7dG9rZW5zID09PSBudWxsfWApO1xuICAgICAgICAgICAgYXdhaXQgc2V0VG9rZW4oeyBzaG91bGRTdG9yZTogdHJ1ZSwgdG9rZW5zIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2lnbmluZ0luOiByZXN1bHQudG9rZW5zICE9PSBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2lnbmluZ0luOiBmYWxzZSB9O1xuICAgIH0sIFtjbGllbnQsIHNldFRva2VuLCBzdG9yYWdlR2V0XSk7XG4gICAgY29uc3Qgc2lnbk91dCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudC5hdXRoZW50aWNhdGVkQ2FsbChcImF1dGg6c2lnbk91dFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgZXJyb3JzLCB0aGV5IGFyZSB1c3VhbGx5IGNhdXNlZCBieSBiZWluZ1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBzaWduZWQgb3V0LCB3aGljaCBpcyBvay5cbiAgICAgICAgfVxuICAgICAgICBsb2dWZXJib3NlKGBzaWduZWQgb3V0LCBlcmFzaW5nIHRva2Vuc2ApO1xuICAgICAgICBhd2FpdCBzZXRUb2tlbih7IHNob3VsZFN0b3JlOiB0cnVlLCB0b2tlbnM6IG51bGwgfSk7XG4gICAgfSwgW3NldFRva2VuLCBjbGllbnRdKTtcbiAgICBjb25zdCBmZXRjaEFjY2Vzc1Rva2VuID0gdXNlQ2FsbGJhY2soYXN5bmMgKHsgZm9yY2VSZWZyZXNoVG9rZW4gfSkgPT4ge1xuICAgICAgICBpZiAoZm9yY2VSZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuQmVmb3JlTG9ja0FxdWlzaXRpb24gPSB0b2tlbi5jdXJyZW50O1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGJyb3dzZXJNdXRleChSRUZSRVNIX1RPS0VOX1NUT1JBR0VfS0VZLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5BZnRlckxvY2tBcXVpc2l0aW9uID0gdG9rZW4uY3VycmVudDtcbiAgICAgICAgICAgICAgICAvLyBBbm90aGVyIHRhYiBvciBmcmFtZSBqdXN0IHJlZnJlc2hlZCB0aGUgdG9rZW4sIHdlIGNhbiB1c2UgaXRcbiAgICAgICAgICAgICAgICAvLyBhbmQgc2tpcCBhbm90aGVyIHJlZnJlc2guXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuQWZ0ZXJMb2NrQXF1aXNpdGlvbiAhPT0gdG9rZW5CZWZvcmVMb2NrQXF1aXNpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBsb2dWZXJib3NlKGByZXR1cm5pbmcgc3luY2VkIHRva2VuLCBpcyBudWxsOiAke3Rva2VuQWZ0ZXJMb2NrQXF1aXNpdGlvbiA9PT0gbnVsbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuQWZ0ZXJMb2NrQXF1aXNpdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gKGF3YWl0IHN0b3JhZ2VHZXQoUkVGUkVTSF9UT0tFTl9TVE9SQUdFX0tFWSkpID8/IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hUb2tlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1JlZnJlc2hpbmdUb2tlbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdmVyaWZ5Q29kZUFuZFNldFRva2VuKHsgcmVmcmVzaFRva2VuIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNSZWZyZXNoaW5nVG9rZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbG9nVmVyYm9zZShgcmV0dXJuaW5nIHJldHJpZXZlZCB0b2tlbiwgaXMgbnVsbDogJHt0b2tlbkFmdGVyTG9ja0FxdWlzaXRpb24gPT09IG51bGx9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5jdXJyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNSZWZyZXNoaW5nVG9rZW4oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBsb2dWZXJib3NlKGByZXR1cm5pbmcgbnVsbCwgdGhlcmUgaXMgbm8gcmVmcmVzaCB0b2tlbmApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW4uY3VycmVudDtcbiAgICB9LCBbdmVyaWZ5Q29kZUFuZFNldFRva2VuLCBzaWduT3V0LCBzdG9yYWdlR2V0XSk7XG4gICAgY29uc3Qgc2lnbmluZ0luV2l0aENvZGVGcm9tVVJMID0gdXNlUmVmKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBIYXMgdG8gaGFwcGVuIGluIHVzZUVmZmVjdCB0byBhdm9pZCBTU1IuXG4gICAgICAgIGlmIChzdG9yYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBsb2NhbFN0b3JhZ2VgIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudCwgXCIgK1xuICAgICAgICAgICAgICAgIFwic2V0IHRoZSBgc3RvcmFnZWAgcHJvcCBvbiBgQ29udmV4QXV0aFByb3ZpZGVyYCFcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVhZFN0YXRlRnJvbVN0b3JhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IChhd2FpdCBzdG9yYWdlR2V0KEpXVF9TVE9SQUdFX0tFWSkpID8/IG51bGw7XG4gICAgICAgICAgICBsb2dWZXJib3NlKGByZXRyaWV2ZWQgdG9rZW4gZnJvbSBzdG9yYWdlLCBpcyBudWxsOiAke3Rva2VuID09PSBudWxsfWApO1xuICAgICAgICAgICAgYXdhaXQgc2V0VG9rZW4oe1xuICAgICAgICAgICAgICAgIHNob3VsZFN0b3JlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0b2tlbnM6IHRva2VuID09PSBudWxsID8gbnVsbCA6IHsgdG9rZW4gfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoc2VydmVyU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgdGhhdCB0aGlzIGlzbid0IGEgc3Vic2VxdWVudCByZW5kZXJcbiAgICAgICAgICAgIC8vIHdpdGggc3RhbGUgc2VydmVyU3RhdGUuXG4gICAgICAgICAgICBjb25zdCB0aW1lRmV0Y2hlZCA9IHN0b3JhZ2VHZXQoU0VSVkVSX1NUQVRFX0ZFVENIX1RJTUVfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgY29uc3Qgc2V0VG9rZW5zRnJvbVNlcnZlclN0YXRlID0gKHRpbWVGZXRjaGVkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aW1lRmV0Y2hlZCB8fCBzZXJ2ZXJTdGF0ZS5fdGltZUZldGNoZWQgPiArdGltZUZldGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0b2tlbiwgcmVmcmVzaFRva2VuIH0gPSBzZXJ2ZXJTdGF0ZS5fc3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IHRva2VuID09PSBudWxsIHx8IHJlZnJlc2hUb2tlbiA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHsgdG9rZW4sIHJlZnJlc2hUb2tlbiB9O1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHN0b3JhZ2VTZXQoU0VSVkVSX1NUQVRFX0ZFVENIX1RJTUVfU1RPUkFHRV9LRVksIHNlcnZlclN0YXRlLl90aW1lRmV0Y2hlZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCBzZXRUb2tlbih7IHRva2Vucywgc2hvdWxkU3RvcmU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2b2lkIHJlYWRTdGF0ZUZyb21TdG9yYWdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gYXZvaWQgYXN5bmMgaWYgcG9zc2libGUuXG4gICAgICAgICAgICBpZiAodGltZUZldGNoZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdm9pZCB0aW1lRmV0Y2hlZC50aGVuKHNldFRva2Vuc0Zyb21TZXJ2ZXJTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUb2tlbnNGcm9tU2VydmVyU3RhdGUodGltZUZldGNoZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGUgPSB0eXBlb2Ygd2luZG93Py5sb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIlxuICAgICAgICAgICAgPyBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpLmdldChcImNvZGVcIilcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgLy8gY29kZSBmcm9tIFVSTCBpcyBvbmx5IGNvbnN1bWVkIGluaXRpYWxseSxcbiAgICAgICAgLy8gcmVmIGF2b2lkcyByYWNpbmcgaW4gU3RyaWN0IG1vZGVcbiAgICAgICAgaWYgKHNpZ25pbmdJbldpdGhDb2RlRnJvbVVSTC5jdXJyZW50IHx8IGNvZGUpIHtcbiAgICAgICAgICAgIGlmIChjb2RlICYmICFzaWduaW5nSW5XaXRoQ29kZUZyb21VUkwuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHNpZ25pbmdJbldpdGhDb2RlRnJvbVVSTC5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcImNvZGVcIik7XG4gICAgICAgICAgICAgICAgdm9pZCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXBsYWNlVVJMKHVybC5wYXRobmFtZSArIHVybC5zZWFyY2ggKyB1cmwuaGFzaCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNpZ25Jbih1bmRlZmluZWQsIHsgY29kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmluZ0luV2l0aENvZGVGcm9tVVJMLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdm9pZCByZWFkU3RhdGVGcm9tU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgfSwgXG4gICAgLy8gRXhwbGljaXRseSBjaG9zZW4gZGVwZW5kZW5jaWVzLlxuICAgIC8vIFRoaXMgZWZmZWN0IHNob3VsZCBtb3N0bHkgb25seSBydW4gb25jZVxuICAgIC8vIG9uIG1vdW50LlxuICAgIFtjbGllbnQsIHN0b3JhZ2VHZXRdKTtcbiAgICBjb25zdCBhY3Rpb25zID0gdXNlTWVtbygoKSA9PiAoeyBzaWduSW4sIHNpZ25PdXQgfSksIFtzaWduSW4sIHNpZ25PdXRdKTtcbiAgICBjb25zdCBpc0F1dGhlbnRpY2F0ZWQgPSB0b2tlblN0YXRlICE9PSBudWxsO1xuICAgIGNvbnN0IGF1dGhTdGF0ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgICAgIGZldGNoQWNjZXNzVG9rZW4sXG4gICAgfSksIFtmZXRjaEFjY2Vzc1Rva2VuLCBpc0xvYWRpbmcsIGlzQXV0aGVudGljYXRlZF0pO1xuICAgIHJldHVybiAoX2pzeChDb252ZXhBdXRoSW50ZXJuYWxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBhdXRoU3RhdGUsIGNoaWxkcmVuOiBfanN4KENvbnZleEF1dGhBY3Rpb25zQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogYWN0aW9ucywgY2hpbGRyZW46IF9qc3goQ29udmV4QXV0aFRva2VuQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdG9rZW5TdGF0ZSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pKTtcbn1cbmZ1bmN0aW9uIHVzZU5hbWVzcGFjZWRTdG9yYWdlKHBlcmlzdGVudFN0b3JhZ2UsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGluTWVtb3J5U3RvcmFnZSA9IHVzZUluTWVtb3J5U3RvcmFnZSgpO1xuICAgIGNvbnN0IHN0b3JhZ2UgPSB1c2VNZW1vKCgpID0+IHBlcmlzdGVudFN0b3JhZ2UgPz8gaW5NZW1vcnlTdG9yYWdlKCksIFtwZXJpc3RlbnRTdG9yYWdlXSk7XG4gICAgY29uc3QgZXNjYXBlZE5hbWVzcGFjZSA9IG5hbWVzcGFjZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywgXCJcIik7XG4gICAgY29uc3Qgc3RvcmFnZUtleSA9IHVzZUNhbGxiYWNrKChrZXkpID0+IGAke2tleX1fJHtlc2NhcGVkTmFtZXNwYWNlfWAsIFtuYW1lc3BhY2VdKTtcbiAgICBjb25zdCBzdG9yYWdlU2V0ID0gdXNlQ2FsbGJhY2soKGtleSwgdmFsdWUpID0+IHN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5KGtleSksIHZhbHVlKSwgW3N0b3JhZ2UsIHN0b3JhZ2VLZXldKTtcbiAgICBjb25zdCBzdG9yYWdlR2V0ID0gdXNlQ2FsbGJhY2soKGtleSkgPT4gc3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkoa2V5KSksIFtzdG9yYWdlLCBzdG9yYWdlS2V5XSk7XG4gICAgY29uc3Qgc3RvcmFnZVJlbW92ZSA9IHVzZUNhbGxiYWNrKChrZXkpID0+IHN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlS2V5KGtleSkpLCBbc3RvcmFnZSwgc3RvcmFnZUtleV0pO1xuICAgIHJldHVybiB7IHN0b3JhZ2VTZXQsIHN0b3JhZ2VHZXQsIHN0b3JhZ2VSZW1vdmUsIHN0b3JhZ2VLZXkgfTtcbn1cbmZ1bmN0aW9uIHVzZUluTWVtb3J5U3RvcmFnZSgpIHtcbiAgICBjb25zdCBbaW5NZW1vcnlTdG9yYWdlLCBzZXRJbk1lbW9yeVN0b3JhZ2VdID0gdXNlU3RhdGUoe30pO1xuICAgIHJldHVybiAoKSA9PiAoe1xuICAgICAgICBnZXRJdGVtOiAoa2V5KSA9PiBpbk1lbW9yeVN0b3JhZ2Vba2V5XSxcbiAgICAgICAgc2V0SXRlbTogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHNldEluTWVtb3J5U3RvcmFnZSgocHJldikgPT4gKHsgLi4ucHJldiwgW2tleV06IHZhbHVlIH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlSXRlbTogKGtleSkgPT4ge1xuICAgICAgICAgICAgc2V0SW5NZW1vcnlTdG9yYWdlKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBba2V5XTogXywgLi4ucmVzdCB9ID0gcHJldjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuLy8gSW4gdGhlIGJyb3dzZXIsIGV4ZWN1dGVzIHRoZSBjYWxsYmFjayBhcyB0aGUgb25seSB0YWIgLyBmcmFtZSBhdCBhIHRpbWUuXG5hc3luYyBmdW5jdGlvbiBicm93c2VyTXV0ZXgoa2V5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGxvY2tNYW5hZ2VyID0gd2luZG93Py5uYXZpZ2F0b3I/LmxvY2tzO1xuICAgIHJldHVybiBsb2NrTWFuYWdlciAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gYXdhaXQgbG9ja01hbmFnZXIucmVxdWVzdChrZXksIGNhbGxiYWNrKVxuICAgICAgICA6IGF3YWl0IG1hbnVhbE11dGV4KGtleSwgY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gZ2V0TXV0ZXhWYWx1ZShrZXkpIHtcbiAgICBpZiAoZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5fX2NvbnZleEF1dGhNdXRleGVzID0ge307XG4gICAgfVxuICAgIGxldCBtdXRleCA9IGdsb2JhbFRoaXMuX19jb252ZXhBdXRoTXV0ZXhlc1trZXldO1xuICAgIGlmIChtdXRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGdsb2JhbFRoaXMuX19jb252ZXhBdXRoTXV0ZXhlc1trZXldID0ge1xuICAgICAgICAgICAgY3VycmVudGx5UnVubmluZzogbnVsbCxcbiAgICAgICAgICAgIHdhaXRpbmc6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtdXRleCA9IGdsb2JhbFRoaXMuX19jb252ZXhBdXRoTXV0ZXhlc1trZXldO1xuICAgIHJldHVybiBtdXRleDtcbn1cbmZ1bmN0aW9uIHNldE11dGV4VmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgIGdsb2JhbFRoaXMuX19jb252ZXhBdXRoTXV0ZXhlc1trZXldID0gdmFsdWU7XG59XG5hc3luYyBmdW5jdGlvbiBlbnF1ZXVlQ2FsbGJhY2tGb3JNdXRleChrZXksIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgbXV0ZXggPSBnZXRNdXRleFZhbHVlKGtleSk7XG4gICAgaWYgKG11dGV4LmN1cnJlbnRseVJ1bm5pbmcgPT09IG51bGwpIHtcbiAgICAgICAgc2V0TXV0ZXhWYWx1ZShrZXksIHtcbiAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmc6IGNhbGxiYWNrKCkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENiID0gZ2V0TXV0ZXhWYWx1ZShrZXkpLndhaXRpbmcuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBnZXRNdXRleFZhbHVlKGtleSkuY3VycmVudGx5UnVubmluZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2V0TXV0ZXhWYWx1ZShrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZ2V0TXV0ZXhWYWx1ZShrZXkpLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nOiBuZXh0Q2IgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBlbnF1ZXVlQ2FsbGJhY2tGb3JNdXRleChrZXksIG5leHRDYiksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHdhaXRpbmc6IFtdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldE11dGV4VmFsdWUoa2V5LCB7XG4gICAgICAgICAgICAuLi5tdXRleCxcbiAgICAgICAgICAgIHdhaXRpbmc6IFsuLi5tdXRleC53YWl0aW5nLCBjYWxsYmFja10sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIG1hbnVhbE11dGV4KGtleSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBvdXRlclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHdyYXBwZWRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHYpID0+IHJlc29sdmUodikpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiByZWplY3QoZSkpO1xuICAgICAgICB9O1xuICAgICAgICB2b2lkIGVucXVldWVDYWxsYmFja0Zvck11dGV4KGtleSwgd3JhcHBlZENhbGxiYWNrKTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0ZXJQcm9taXNlO1xufVxuZnVuY3Rpb24gYnJvd3NlckFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj8uKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGJyb3dzZXJSZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/Lih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@convex-dev/auth/dist/react/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthProvider: () => (/* binding */ ConvexAuthProvider),\n/* harmony export */   useAuthActions: () => (/* binding */ useAuthActions),\n/* harmony export */   useAuthToken: () => (/* binding */ useAuthToken)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var convex_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convex/browser */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/client.js\");\n/**\n * React bindings for Convex Auth.\n *\n * @module\n */ /* __next_internal_client_entry_do_not_use__ useAuthActions,ConvexAuthProvider,useAuthToken auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n/**\n * Use this hook to access the `signIn` and `signOut` methods:\n *\n * ```ts\n * import { useAuthActions } from \"@convex-dev/auth/react\";\n *\n * function SomeComponent() {\n *   const { signIn, signOut } = useAuthActions();\n *   // ...\n * }\n * ```\n */ function useAuthActions() {\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_client_js__WEBPACK_IMPORTED_MODULE_4__.ConvexAuthActionsContext);\n}\n_s(useAuthActions, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n/**\n * Replace your `ConvexProvider` with this component to enable authentication.\n *\n * ```tsx\n * import { ConvexAuthProvider } from \"@convex-dev/auth/react\";\n * import { ConvexReactClient } from \"convex/react\";\n * import { ReactNode } from \"react\";\n *\n * const convex = new ConvexReactClient(/* ... *\\/);\n *\n * function RootComponent({ children }: { children: ReactNode }) {\n *   return <ConvexAuthProvider client={convex}>{children}</ConvexAuthProvider>;\n * }\n * ```\n */ function ConvexAuthProvider(props) {\n    var _window;\n    _s1();\n    const { client, storage, storageNamespace, replaceURL, children } = props;\n    const authClient = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"ConvexAuthProvider.useMemo[authClient]\": ()=>{\n            var _client_options;\n            return {\n                authenticatedCall (action, args) {\n                    return client.action(action, args);\n                },\n                unauthenticatedCall (action, args) {\n                    return new convex_browser__WEBPACK_IMPORTED_MODULE_1__.ConvexHttpClient(client.address).action(action, args);\n                },\n                verbose: (_client_options = client.options) === null || _client_options === void 0 ? void 0 : _client_options.verbose\n            };\n        }\n    }[\"ConvexAuthProvider.useMemo[authClient]\"], [\n        client\n    ]);\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_client_js__WEBPACK_IMPORTED_MODULE_4__.AuthProvider, {\n        client: authClient,\n        storage: storage !== null && storage !== void 0 ? storage : // Handle SSR, RN, Web, etc.\n        // Pretend we always have storage, the component checks\n        // it in first useEffect.\n        typeof window === \"undefined\" ? undefined : (_window = window) === null || _window === void 0 ? void 0 : _window.localStorage,\n        storageNamespace: storageNamespace !== null && storageNamespace !== void 0 ? storageNamespace : client.address,\n        replaceURL: replaceURL !== null && replaceURL !== void 0 ? replaceURL : (url)=>{\n            window.history.replaceState({}, \"\", url);\n        },\n        children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(convex_react__WEBPACK_IMPORTED_MODULE_2__.ConvexProviderWithAuth, {\n            client: client,\n            useAuth: _client_js__WEBPACK_IMPORTED_MODULE_4__.useAuth,\n            children: children\n        })\n    });\n}\n_s1(ConvexAuthProvider, \"UsiM8QGKYmrHWVKrCawyalFrwbs=\");\n_c = ConvexAuthProvider;\n/**\n * Use this hook to access the JWT token on the client, for authenticating\n * your Convex HTTP actions.\n *\n * You should not pass this token to other servers (think of it\n * as an \"ID token\").\n *\n * ```ts\n * import { useAuthToken } from \"@convex-dev/auth/react\";\n *\n * function SomeComponent() {\n *   const token = useAuthToken();\n *   const onClick = async () => {\n *     await fetch(`${CONVEX_SITE_URL}/someEndpoint`, {\n *       headers: {\n *         Authorization: `Bearer ${token}`,\n *       },\n *     });\n *   };\n *   // ...\n * }\n * ```\n */ function useAuthToken() {\n    _s2();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_client_js__WEBPACK_IMPORTED_MODULE_4__.ConvexAuthTokenContext);\n} //# sourceMappingURL=index.js.map\n_s2(useAuthToken, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"ConvexAuthProvider\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AY29udmV4LWRldi9hdXRoL2Rpc3QvcmVhY3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7OztHQUlHOztBQUkrQztBQUN1QjtBQUVsQjtBQU1sQztBQUdyQjs7Ozs7Ozs7Ozs7R0FXRyxDQUNHOztJQUNKLE9BQU8saURBQVUsQ0FBQyxnRUFBd0IsQ0FBQyxDQUFDO0FBQzlDLENBQUM7R0FGZSxjQUFjO0FBSTlCOzs7Ozs7Ozs7Ozs7OztHQWNHLENBQ0csNEJBQTZCLEtBMENsQztRQTBCb0QsTUFBTTs7SUF6QnpELE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDMUUsTUFBTSxVQUFVLEdBQUcsOENBQU87a0RBQ3hCLEdBQUcsRUFBRTs7bUJBQ0Y7Z0JBQ0MsaUJBQWlCLEVBQUMsTUFBTSxFQUFFLElBQUk7b0JBQzVCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3JDLENBQUM7Z0JBQ0QsbUJBQW1CLEVBQUMsTUFBTSxFQUFFLElBQUk7b0JBQzlCLE9BQU8sSUFBSSw0REFBZ0IsQ0FBRSxNQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUN6RCxNQUFNLEVBQ04sSUFBSSxDQUNMLENBQUM7Z0JBQ0osQ0FBQztnQkFDRCxPQUFPLEdBQUcsTUFBYyxtQkFBQyxPQUFPLG9FQUFFLE9BQU87YUFDMUMsQ0FBc0I7O2lEQUN6QjtRQUFDLE1BQU07S0FBQyxDQUNULENBQUM7SUFDRixPQUFPLHVEQUNKLG9EQUFZO1FBQ1gsTUFBTSxFQUFFLFVBQVU7UUFDbEIsT0FBTywyQ0FDTCxPQUFPLEdBQ1AsNEJBQTRCO1FBQzVCLHVEQUF1RDtRQUN2RCx5QkFBeUI7UUFDeEIsT0FBTyxNQUFNLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxzRUFBUyxZQUFZLENBQUU7UUFFckUsZ0JBQWdCLDZEQUFFLGdCQUFnQixHQUFLLE1BQWMsQ0FBQyxPQUFPO1FBQzdELFVBQVUseUJBQ1IsVUFBVSwyQkFDVCxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ1AsTUFBTSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzQyxDQUFDLENBQUM7UUFBQSxVQUdKLHVEQUFDLGdFQUFzQjtZQUFDLE1BQU0sRUFBRSxNQUFNO1lBQUUsT0FBTyxFQUFFLCtDQUFPO1lBQUEsVUFDckQsUUFBUTtRQUFBLEVBQ2M7SUFBQSxFQUNaLENBQ2hCO0FBQ0gsQ0FBQzs7S0FuRmUsa0JBQWtCO0FBNkxsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNCRyxDQUNHOztJQUNKLE9BQU8saURBQVUsQ0FBQyw4REFBc0IsQ0FBQyxDQUFDO0FBQzVDLENBQUM7SUFGZSxZQUFZIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3Byb2plY3RzL3NyYy9yZWFjdC9pbmRleC50c3giXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/http_client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/http_client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexHttpClient: () => (/* binding */ ConvexHttpClient),\n/* harmony export */   STATUS_CODE_BAD_REQUEST: () => (/* binding */ STATUS_CODE_BAD_REQUEST),\n/* harmony export */   STATUS_CODE_OK: () => (/* binding */ STATUS_CODE_OK),\n/* harmony export */   STATUS_CODE_UDF_FAILED: () => (/* binding */ STATUS_CODE_UDF_FAILED),\n/* harmony export */   setFetch: () => (/* binding */ setFetch)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nconst STATUS_CODE_OK = 200;\nconst STATUS_CODE_BAD_REQUEST = 400;\nconst STATUS_CODE_UDF_FAILED = 560;\nlet specifiedFetch = void 0;\nfunction setFetch(f) {\n    specifiedFetch = f;\n}\nclass ConvexHttpClient {\n    /**\n   * Obtain the {@link ConvexHttpClient}'s URL to its backend.\n   * @deprecated Use url, which returns the url without /api at the end.\n   *\n   * @returns The URL to the Convex backend, including the client's API version.\n   */ backendUrl() {\n        return \"\".concat(this.address, \"/api\");\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   *\n   * Should be called whenever the token changes (i.e. due to expiration and refresh).\n   *\n   * @param value - JWT-encoded OpenID Connect identity token.\n   */ setAuth(value) {\n        this.clearAuth();\n        this.auth = value;\n    }\n    /**\n   * Set admin auth token to allow calling internal queries, mutations, and actions\n   * and acting as an identity.\n   *\n   * @internal\n   */ setAdminAuth(token, actingAsIdentity) {\n        this.clearAuth();\n        if (actingAsIdentity !== void 0) {\n            const bytes = new TextEncoder().encode(JSON.stringify(actingAsIdentity));\n            const actingAsIdentityEncoded = btoa(String.fromCodePoint(...bytes));\n            this.adminAuth = \"\".concat(token, \":\").concat(actingAsIdentityEncoded);\n        } else {\n            this.adminAuth = token;\n        }\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.auth = void 0;\n        this.adminAuth = void 0;\n    }\n    /**\n   * Sets whether the result log lines should be printed on the console or not.\n   *\n   * @internal\n   */ setDebug(debug) {\n        this.debug = debug;\n    }\n    /**\n   * Used to customize the fetch behavior in some runtimes.\n   *\n   * @internal\n   */ setFetchOptions(fetchOptions) {\n        this.fetchOptions = fetchOptions;\n    }\n    /**\n   * This API is experimental: it may change or disappear.\n   *\n   * Execute a Convex query function at the same timestamp as every other\n   * consistent query execution run by this HTTP client.\n   *\n   * This doesn't make sense for long-lived ConvexHttpClients as Convex\n   * backends can read a limited amount into the past: beyond 30 seconds\n   * in the past may not be available.\n   *\n   * Create a new client to use a consistent time.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   *\n   * @deprecated This API is experimental: it may change or disappear.\n   */ async consistentQuery(query) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const timestampPromise = this.getTimestamp();\n        return await this.queryInner(query, queryArgs, {\n            timestampPromise\n        });\n    }\n    async getTimestamp() {\n        if (this.encodedTsPromise) {\n            return this.encodedTsPromise;\n        }\n        return this.encodedTsPromise = this.getTimestampInner();\n    }\n    async getTimestampInner() {\n        const localFetch = specifiedFetch || fetch;\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_2__.version)\n        };\n        const response = await localFetch(\"\".concat(this.address, \"/api/query_ts\"), {\n            ...this.fetchOptions,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n        const { ts } = await response.json();\n        return ts;\n    }\n    /**\n   * Execute a Convex query function.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ async query(query) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        return await this.queryInner(query, queryArgs, {});\n    }\n    async queryInner(query, queryArgs, options) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const args = [\n            (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(queryArgs)\n        ];\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_2__.version)\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = \"Convex \".concat(this.adminAuth);\n        } else if (this.auth) {\n            headers[\"Authorization\"] = \"Bearer \".concat(this.auth);\n        }\n        const localFetch = specifiedFetch || fetch;\n        const timestamp = options.timestampPromise ? await options.timestampPromise : void 0;\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args,\n            ...timestamp ? {\n                ts: timestamp\n            } : {}\n        });\n        const endpoint = timestamp ? \"\".concat(this.address, \"/api/query_at_ts\") : \"\".concat(this.address, \"/api/query\");\n        const response = await localFetch(endpoint, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            var _respJSON_logLines;\n            for (const line of (_respJSON_logLines = respJSON.logLines) !== null && _respJSON_logLines !== void 0 ? _respJSON_logLines : []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"query\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(\"Invalid response: \".concat(JSON.stringify(respJSON)));\n        }\n    }\n    async mutationInner(mutation, mutationArgs) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(mutation);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(mutationArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_2__.version)\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = \"Convex \".concat(this.adminAuth);\n        } else if (this.auth) {\n            headers[\"Authorization\"] = \"Bearer \".concat(this.auth);\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(\"\".concat(this.address, \"/api/mutation\"), {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            var _respJSON_logLines;\n            for (const line of (_respJSON_logLines = respJSON.logLines) !== null && _respJSON_logLines !== void 0 ? _respJSON_logLines : []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"mutation\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(\"Invalid response: \".concat(JSON.stringify(respJSON)));\n        }\n    }\n    async processMutationQueue() {\n        if (this.isProcessingQueue) {\n            return;\n        }\n        this.isProcessingQueue = true;\n        while(this.mutationQueue.length > 0){\n            const { mutation, args, resolve, reject } = this.mutationQueue.shift();\n            try {\n                const result = await this.mutationInner(mutation, args);\n                resolve(result);\n            } catch (error) {\n                reject(error);\n            }\n        }\n        this.isProcessingQueue = false;\n    }\n    enqueueMutation(mutation, args) {\n        return new Promise((resolve, reject)=>{\n            this.mutationQueue.push({\n                mutation,\n                args,\n                resolve,\n                reject\n            });\n            void this.processMutationQueue();\n        });\n    }\n    /**\n   * Execute a Convex mutation function. Mutations are queued by default.\n   *\n   * @param name - The name of the mutation.\n   * @param args - The arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - An optional object containing\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const [fnArgs, options] = args;\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(fnArgs);\n        const queued = !(options === null || options === void 0 ? void 0 : options.skipQueue);\n        if (queued) {\n            return await this.enqueueMutation(mutation, mutationArgs);\n        } else {\n            return await this.mutationInner(mutation, mutationArgs);\n        }\n    }\n    /**\n   * Execute a Convex action function. Actions are not queued.\n   *\n   * @param name - The name of the action.\n   * @param args - The arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(action) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(action);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(actionArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_2__.version)\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = \"Convex \".concat(this.adminAuth);\n        } else if (this.auth) {\n            headers[\"Authorization\"] = \"Bearer \".concat(this.auth);\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(\"\".concat(this.address, \"/api/action\"), {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            var _respJSON_logLines;\n            for (const line of (_respJSON_logLines = respJSON.logLines) !== null && _respJSON_logLines !== void 0 ? _respJSON_logLines : []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"action\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(\"Invalid response: \".concat(JSON.stringify(respJSON)));\n        }\n    }\n    /**\n   * Execute a Convex function of an unknown type. These function calls are not queued.\n   *\n   * @param name - The name of the function.\n   * @param args - The arguments object for the function. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the function's result.\n   *\n   * @internal\n   */ async function(anyFunction, componentPath) {\n        for(var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++){\n            args[_key - 2] = arguments[_key];\n        }\n        const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = typeof anyFunction === \"string\" ? anyFunction : (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(anyFunction);\n        const body = JSON.stringify({\n            componentPath,\n            path: name,\n            format: \"convex_encoded_json\",\n            args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(functionArgs)\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_2__.version)\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = \"Convex \".concat(this.adminAuth);\n        } else if (this.auth) {\n            headers[\"Authorization\"] = \"Bearer \".concat(this.auth);\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(\"\".concat(this.address, \"/api/function\"), {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            var _respJSON_logLines;\n            for (const line of (_respJSON_logLines = respJSON.logLines) !== null && _respJSON_logLines !== void 0 ? _respJSON_logLines : []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"any\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(\"Invalid response: \".concat(JSON.stringify(respJSON)));\n        }\n    }\n    /**\n   * Create a new {@link ConvexHttpClient}.\n   *\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - An object of options.\n   * - `skipConvexDeploymentUrlCheck` - Skip validating that the Convex deployment URL looks like\n   * `https://happy-animal-123.convex.cloud` or localhost. This can be useful if running a self-hosted\n   * Convex backend that uses a different URL.\n   * - `logger` - A logger or a boolean. If not provided, logs to the console.\n   * You can construct your own logger to customize logging to log elsewhere\n   * or not log at all, or use `false` as a shorthand for a no-op logger.\n   * A logger is an object with 4 methods: log(), warn(), error(), and logVerbose().\n   * These methods can receive multiple arguments of any types, like console.log().\n   * - `auth` - A JWT containing identity claims accessible in Convex functions.\n   * This identity may expire so it may be necessary to call `setAuth()` later,\n   * but for short-lived clients it's convenient to specify this value here.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"encodedTsPromise\");\n        __publicField(this, \"debug\");\n        __publicField(this, \"fetchOptions\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"mutationQueue\", []);\n        __publicField(this, \"isProcessingQueue\", false);\n        if (typeof options === \"boolean\") {\n            throw new Error(\"skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.\");\n        }\n        const opts = options !== null && options !== void 0 ? options : {};\n        if (opts.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.validateDeploymentUrl)(address);\n        }\n        this.logger = (options === null || options === void 0 ? void 0 : options.logger) === false ? (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.instantiateNoopLogger)({\n            verbose: false\n        }) : (options === null || options === void 0 ? void 0 : options.logger) !== true && (options === null || options === void 0 ? void 0 : options.logger) ? options.logger : (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.instantiateDefaultLogger)({\n            verbose: false\n        });\n        this.address = address;\n        this.debug = true;\n        this.auth = void 0;\n        this.adminAuth = void 0;\n        if (options === null || options === void 0 ? void 0 : options.auth) {\n            this.setAuth(options.auth);\n        }\n    }\n}\nfunction forwardErrorData(errorData, error) {\n    error.data = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(errorData);\n    return error;\n} //# sourceMappingURL=http_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9odHRwX2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS087QUFDMEM7QUFDekI7QUFNakI7QUFNQTtBQU9BLE1BQU0saUJBQWlCO0FBQ3ZCLE1BQU0sMEJBQTBCO0FBSWhDLE1BQU0seUJBQXlCO0FBR3RDLElBQUksaUJBQXNEO0FBQ25ELFNBQVMsU0FBUyxHQUE0QjtJQUNuRCxpQkFBaUI7QUFDbkI7QUF1Qk8sTUFBTSxpQkFBaUI7SUFnRTVCOzs7OztHQUFBLEdBUUEsYUFBcUI7UUFDbkIsT0FBTyxHQUFlLE9BQVosS0FBSyxPQUFPO0lBQ3hCO0lBQUE7Ozs7O0dBQUEsR0FRQSxJQUFJLE1BQU07UUFDUixPQUFPLEtBQUs7SUFDZDtJQUFBOzs7Ozs7R0FBQSxHQVNBLFFBQVEsT0FBZTtRQUNyQixLQUFLLFVBQVU7UUFDZixLQUFLLE9BQU87SUFDZDtJQUFBOzs7OztHQUFBLEdBUUEsYUFBYSxPQUFlLGtCQUEyQztRQUNyRSxLQUFLLFVBQVU7UUFDZixJQUFJLHFCQUFxQixRQUFXO1lBRWxDLE1BQU0sUUFBUSxJQUFJLFlBQVksRUFBRSxPQUFPLEtBQUssVUFBVSxnQkFBZ0IsQ0FBQztZQUN2RSxNQUFNLDBCQUEwQixLQUFLLE9BQU8sY0FBYyxHQUFHLEtBQUssQ0FBQztZQUNuRSxLQUFLLFlBQVksVUFBRyxLQUFLLE9BQTJCLE9BQXZCLHVCQUF1QjtRQUN0RCxPQUFPO1lBQ0wsS0FBSyxZQUFZO1FBQ25CO0lBQ0Y7SUFBQTs7R0FBQSxHQUtBLFlBQVk7UUFDVixLQUFLLE9BQU87UUFDWixLQUFLLFlBQVk7SUFDbkI7SUFBQTs7OztHQUFBLEdBT0EsU0FBUyxPQUFnQjtRQUN2QixLQUFLLFFBQVE7SUFDZjtJQUFBOzs7O0dBQUEsR0FPQSxnQkFBZ0IsY0FBNEI7UUFDMUMsS0FBSyxlQUFlO0lBQ3RCO0lBQUE7Ozs7Ozs7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LE1BQTJCLE9BQU8sOERBQVksQ0FBQyxTQUFTO0lBQ3pELE9BQU87QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvYnJvd3Nlci9odHRwX2NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBGdW5jdGlvblJlZmVyZW5jZSxcbiAgRnVuY3Rpb25SZXR1cm5UeXBlLFxuICBPcHRpb25hbFJlc3RBcmdzLFxuICBnZXRGdW5jdGlvbk5hbWUsXG59IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MsIHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIENvbnZleEVycm9yLFxuICBKU09OVmFsdWUsXG4gIGNvbnZleFRvSnNvbixcbiAganNvblRvQ29udmV4LFxufSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIsXG4gIGluc3RhbnRpYXRlTm9vcExvZ2dlcixcbiAgbG9nRm9yRnVuY3Rpb24sXG4gIExvZ2dlcixcbn0gZnJvbSBcIi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHtcbiAgQXJnc0FuZE9wdGlvbnMsXG4gIEZ1bmN0aW9uQXJncyxcbiAgVXNlcklkZW50aXR5QXR0cmlidXRlcyxcbn0gZnJvbSBcIi4uL3NlcnZlci9pbmRleC5qc1wiO1xuXG5leHBvcnQgY29uc3QgU1RBVFVTX0NPREVfT0sgPSAyMDA7XG5leHBvcnQgY29uc3QgU1RBVFVTX0NPREVfQkFEX1JFUVVFU1QgPSA0MDA7XG4vLyBTcGVjaWFsIGN1c3RvbSA1eHggSFRUUCBzdGF0dXMgY29kZSB0byBtZWFuIHRoYXQgdGhlIFVERiByZXR1cm5lZCBhbiBlcnJvci5cbi8vXG4vLyBNdXN0IG1hdGNoIHRoZSBjb25zdGFudCBvZiB0aGUgc2FtZSBuYW1lIGluIHRoZSBiYWNrZW5kLlxuZXhwb3J0IGNvbnN0IFNUQVRVU19DT0RFX1VERl9GQUlMRUQgPSA1NjA7XG5cbi8vIEFsbG93IGZldGNoIHRvIGJlIHNoaW1tZWQgaW4gZm9yIE5vZGUuanMgPCAxOFxubGV0IHNwZWNpZmllZEZldGNoOiB0eXBlb2YgZ2xvYmFsVGhpcy5mZXRjaCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRGZXRjaChmOiB0eXBlb2YgZ2xvYmFsVGhpcy5mZXRjaCkge1xuICBzcGVjaWZpZWRGZXRjaCA9IGY7XG59XG5cbmV4cG9ydCB0eXBlIEh0dHBNdXRhdGlvbk9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBTa2lwIHRoZSBkZWZhdWx0IHF1ZXVlIG9mIG11dGF0aW9ucyBhbmQgcnVuIHRoaXMgaW1tZWRpYXRlbHkuXG4gICAqXG4gICAqIFRoaXMgYWxsb3dzIHRoZSBzYW1lIEh0dHBDb252ZXhDbGllbnQgdG8gYmUgdXNlZCB0byByZXF1ZXN0IG11bHRpcGxlXG4gICAqIG11dGF0aW9ucyBpbiBwYXJhbGxlbCwgc29tZXRoaW5nIG5vdCBwb3NzaWJsZSB3aXRoIFdlYlNvY2tldC1iYXNlZCBjbGllbnRzLlxuICAgKi9cbiAgc2tpcFF1ZXVlOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBBIENvbnZleCBjbGllbnQgdGhhdCBydW5zIHF1ZXJpZXMgYW5kIG11dGF0aW9ucyBvdmVyIEhUVFAuXG4gKlxuICogVGhpcyBjbGllbnQgaXMgc3RhdGVmdWwgKGl0IGhhcyB1c2VyIGNyZWRlbnRpYWxzIGFuZCBxdWV1ZXMgbXV0YXRpb25zKVxuICogc28gdGFrZSBjYXJlIHRvIGF2b2lkIHNoYXJpbmcgaXQgYmV0d2VlbiByZXF1ZXN0cyBpbiBhIHNlcnZlci5cbiAqXG4gKiBUaGlzIGlzIGFwcHJvcHJpYXRlIGZvciBzZXJ2ZXItc2lkZSBjb2RlIChsaWtlIE5ldGxpZnkgTGFtYmRhcykgb3Igbm9uLXJlYWN0aXZlXG4gKiB3ZWJhcHBzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnZleEh0dHBDbGllbnQge1xuICBwcml2YXRlIHJlYWRvbmx5IGFkZHJlc3M6IHN0cmluZztcbiAgcHJpdmF0ZSBhdXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgYWRtaW5BdXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZW5jb2RlZFRzUHJvbWlzZT86IFByb21pc2U8c3RyaW5nPjtcbiAgcHJpdmF0ZSBkZWJ1ZzogYm9vbGVhbjtcbiAgcHJpdmF0ZSBmZXRjaE9wdGlvbnM/OiBGZXRjaE9wdGlvbnM7XG4gIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XG4gIHByaXZhdGUgbXV0YXRpb25RdWV1ZTogQXJyYXk8e1xuICAgIG11dGF0aW9uOiBGdW5jdGlvblJlZmVyZW5jZTxcIm11dGF0aW9uXCI+O1xuICAgIGFyZ3M6IEZ1bmN0aW9uQXJnczxhbnk+O1xuICAgIHJlc29sdmU6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAgIHJlamVjdDogKGVycm9yOiBhbnkpID0+IHZvaWQ7XG4gIH0+ID0gW107XG4gIHByaXZhdGUgaXNQcm9jZXNzaW5nUXVldWU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBDb252ZXhIdHRwQ2xpZW50fS5cbiAgICpcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgdXJsIG9mIHlvdXIgQ29udmV4IGRlcGxveW1lbnQsIG9mdGVuIHByb3ZpZGVkXG4gICAqIGJ5IGFuIGVudmlyb25tZW50IHZhcmlhYmxlLiBFLmcuIGBodHRwczovL3NtYWxsLW1vdXNlLTEyMy5jb252ZXguY2xvdWRgLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCBvZiBvcHRpb25zLlxuICAgKiAtIGBza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrYCAtIFNraXAgdmFsaWRhdGluZyB0aGF0IHRoZSBDb252ZXggZGVwbG95bWVudCBVUkwgbG9va3MgbGlrZVxuICAgKiBgaHR0cHM6Ly9oYXBweS1hbmltYWwtMTIzLmNvbnZleC5jbG91ZGAgb3IgbG9jYWxob3N0LiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgcnVubmluZyBhIHNlbGYtaG9zdGVkXG4gICAqIENvbnZleCBiYWNrZW5kIHRoYXQgdXNlcyBhIGRpZmZlcmVudCBVUkwuXG4gICAqIC0gYGxvZ2dlcmAgLSBBIGxvZ2dlciBvciBhIGJvb2xlYW4uIElmIG5vdCBwcm92aWRlZCwgbG9ncyB0byB0aGUgY29uc29sZS5cbiAgICogWW91IGNhbiBjb25zdHJ1Y3QgeW91ciBvd24gbG9nZ2VyIHRvIGN1c3RvbWl6ZSBsb2dnaW5nIHRvIGxvZyBlbHNld2hlcmVcbiAgICogb3Igbm90IGxvZyBhdCBhbGwsIG9yIHVzZSBgZmFsc2VgIGFzIGEgc2hvcnRoYW5kIGZvciBhIG5vLW9wIGxvZ2dlci5cbiAgICogQSBsb2dnZXIgaXMgYW4gb2JqZWN0IHdpdGggNCBtZXRob2RzOiBsb2coKSwgd2FybigpLCBlcnJvcigpLCBhbmQgbG9nVmVyYm9zZSgpLlxuICAgKiBUaGVzZSBtZXRob2RzIGNhbiByZWNlaXZlIG11bHRpcGxlIGFyZ3VtZW50cyBvZiBhbnkgdHlwZXMsIGxpa2UgY29uc29sZS5sb2coKS5cbiAgICogLSBgYXV0aGAgLSBBIEpXVCBjb250YWluaW5nIGlkZW50aXR5IGNsYWltcyBhY2Nlc3NpYmxlIGluIENvbnZleCBmdW5jdGlvbnMuXG4gICAqIFRoaXMgaWRlbnRpdHkgbWF5IGV4cGlyZSBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGNhbGwgYHNldEF1dGgoKWAgbGF0ZXIsXG4gICAqIGJ1dCBmb3Igc2hvcnQtbGl2ZWQgY2xpZW50cyBpdCdzIGNvbnZlbmllbnQgdG8gc3BlY2lmeSB0aGlzIHZhbHVlIGhlcmUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2s/OiBib29sZWFuO1xuICAgICAgbG9nZ2VyPzogTG9nZ2VyIHwgYm9vbGVhbjtcbiAgICAgIGF1dGg/OiBzdHJpbmc7XG4gICAgfSxcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcInNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgcGFzcyBhbiBvcHRpb25zIG9iamVjdCwgYHsgc2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjazogdHJ1ZSB9YC5cIixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBvcHRpb25zID8/IHt9O1xuICAgIGlmIChvcHRzLnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPVxuICAgICAgb3B0aW9ucz8ubG9nZ2VyID09PSBmYWxzZVxuICAgICAgICA/IGluc3RhbnRpYXRlTm9vcExvZ2dlcih7IHZlcmJvc2U6IGZhbHNlIH0pXG4gICAgICAgIDogb3B0aW9ucz8ubG9nZ2VyICE9PSB0cnVlICYmIG9wdGlvbnM/LmxvZ2dlclxuICAgICAgICAgID8gb3B0aW9ucy5sb2dnZXJcbiAgICAgICAgICA6IGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcih7IHZlcmJvc2U6IGZhbHNlIH0pO1xuICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgdGhpcy5kZWJ1ZyA9IHRydWU7XG4gICAgdGhpcy5hdXRoID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYWRtaW5BdXRoID0gdW5kZWZpbmVkO1xuICAgIGlmIChvcHRpb25zPy5hdXRoKSB7XG4gICAgICB0aGlzLnNldEF1dGgob3B0aW9ucy5hdXRoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2J0YWluIHRoZSB7QGxpbmsgQ29udmV4SHR0cENsaWVudH0ncyBVUkwgdG8gaXRzIGJhY2tlbmQuXG4gICAqIEBkZXByZWNhdGVkIFVzZSB1cmwsIHdoaWNoIHJldHVybnMgdGhlIHVybCB3aXRob3V0IC9hcGkgYXQgdGhlIGVuZC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIFVSTCB0byB0aGUgQ29udmV4IGJhY2tlbmQsIGluY2x1ZGluZyB0aGUgY2xpZW50J3MgQVBJIHZlcnNpb24uXG4gICAqL1xuICBiYWNrZW5kVXJsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke3RoaXMuYWRkcmVzc30vYXBpYDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFkZHJlc3MgZm9yIHRoaXMgY2xpZW50LCB1c2VmdWwgZm9yIGNyZWF0aW5nIGEgbmV3IGNsaWVudC5cbiAgICpcbiAgICogTm90IGd1YXJhbnRlZWQgdG8gbWF0Y2ggdGhlIGFkZHJlc3Mgd2l0aCB3aGljaCB0aGlzIGNsaWVudCB3YXMgY29uc3RydWN0ZWQ6XG4gICAqIGl0IG1heSBiZSBjYW5vbmljYWxpemVkLlxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4gdG8gYmUgdXNlZCBmb3Igc3Vic2VxdWVudCBxdWVyaWVzIGFuZCBtdXRhdGlvbnMuXG4gICAqXG4gICAqIFNob3VsZCBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIHRva2VuIGNoYW5nZXMgKGkuZS4gZHVlIHRvIGV4cGlyYXRpb24gYW5kIHJlZnJlc2gpLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgLSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBpZGVudGl0eSB0b2tlbi5cbiAgICovXG4gIHNldEF1dGgodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgdGhpcy5hdXRoID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFkbWluIGF1dGggdG9rZW4gdG8gYWxsb3cgY2FsbGluZyBpbnRlcm5hbCBxdWVyaWVzLCBtdXRhdGlvbnMsIGFuZCBhY3Rpb25zXG4gICAqIGFuZCBhY3RpbmcgYXMgYW4gaWRlbnRpdHkuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0QWRtaW5BdXRoKHRva2VuOiBzdHJpbmcsIGFjdGluZ0FzSWRlbnRpdHk/OiBVc2VySWRlbnRpdHlBdHRyaWJ1dGVzKSB7XG4gICAgdGhpcy5jbGVhckF1dGgoKTtcbiAgICBpZiAoYWN0aW5nQXNJZGVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFbmNvZGUgdGhlIGlkZW50aXR5IHRvIGEgYmFzZTY0IHN0cmluZ1xuICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoYWN0aW5nQXNJZGVudGl0eSkpO1xuICAgICAgY29uc3QgYWN0aW5nQXNJZGVudGl0eUVuY29kZWQgPSBidG9hKFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmJ5dGVzKSk7XG4gICAgICB0aGlzLmFkbWluQXV0aCA9IGAke3Rva2VufToke2FjdGluZ0FzSWRlbnRpdHlFbmNvZGVkfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRtaW5BdXRoID0gdG9rZW47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBjdXJyZW50IGF1dGhlbnRpY2F0aW9uIHRva2VuIGlmIHNldC5cbiAgICovXG4gIGNsZWFyQXV0aCgpIHtcbiAgICB0aGlzLmF1dGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5hZG1pbkF1dGggPSB1bmRlZmluZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB3aGV0aGVyIHRoZSByZXN1bHQgbG9nIGxpbmVzIHNob3VsZCBiZSBwcmludGVkIG9uIHRoZSBjb25zb2xlIG9yIG5vdC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXREZWJ1ZyhkZWJ1ZzogYm9vbGVhbikge1xuICAgIHRoaXMuZGVidWcgPSBkZWJ1ZztcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGN1c3RvbWl6ZSB0aGUgZmV0Y2ggYmVoYXZpb3IgaW4gc29tZSBydW50aW1lcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRGZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zOiBGZXRjaE9wdGlvbnMpIHtcbiAgICB0aGlzLmZldGNoT3B0aW9ucyA9IGZldGNoT3B0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWw6IGl0IG1heSBjaGFuZ2Ugb3IgZGlzYXBwZWFyLlxuICAgKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IHF1ZXJ5IGZ1bmN0aW9uIGF0IHRoZSBzYW1lIHRpbWVzdGFtcCBhcyBldmVyeSBvdGhlclxuICAgKiBjb25zaXN0ZW50IHF1ZXJ5IGV4ZWN1dGlvbiBydW4gYnkgdGhpcyBIVFRQIGNsaWVudC5cbiAgICpcbiAgICogVGhpcyBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGxvbmctbGl2ZWQgQ29udmV4SHR0cENsaWVudHMgYXMgQ29udmV4XG4gICAqIGJhY2tlbmRzIGNhbiByZWFkIGEgbGltaXRlZCBhbW91bnQgaW50byB0aGUgcGFzdDogYmV5b25kIDMwIHNlY29uZHNcbiAgICogaW4gdGhlIHBhc3QgbWF5IG5vdCBiZSBhdmFpbGFibGUuXG4gICAqXG4gICAqIENyZWF0ZSBhIG5ldyBjbGllbnQgdG8gdXNlIGEgY29uc2lzdGVudCB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHF1ZXJ5J3MgcmVzdWx0LlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBUaGlzIEFQSSBpcyBleHBlcmltZW50YWw6IGl0IG1heSBjaGFuZ2Ugb3IgZGlzYXBwZWFyLlxuICAgKi9cbiAgYXN5bmMgY29uc2lzdGVudFF1ZXJ5PFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gICAgcXVlcnk6IFF1ZXJ5LFxuICAgIC4uLmFyZ3M6IE9wdGlvbmFsUmVzdEFyZ3M8UXVlcnk+XG4gICk6IFByb21pc2U8RnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5Pj4ge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcblxuICAgIGNvbnN0IHRpbWVzdGFtcFByb21pc2UgPSB0aGlzLmdldFRpbWVzdGFtcCgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnF1ZXJ5SW5uZXIocXVlcnksIHF1ZXJ5QXJncywgeyB0aW1lc3RhbXBQcm9taXNlIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRUaW1lc3RhbXAoKSB7XG4gICAgaWYgKHRoaXMuZW5jb2RlZFRzUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlZFRzUHJvbWlzZTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLmVuY29kZWRUc1Byb21pc2UgPSB0aGlzLmdldFRpbWVzdGFtcElubmVyKCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRUaW1lc3RhbXBJbm5lcigpIHtcbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG5cbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YCxcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChgJHt0aGlzLmFkZHJlc3N9L2FwaS9xdWVyeV90c2AsIHtcbiAgICAgIC4uLnRoaXMuZmV0Y2hPcHRpb25zLFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdHMgfSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpIGFzIHsgdHM6IHN0cmluZyB9O1xuICAgIHJldHVybiB0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHF1ZXJ5J3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgcXVlcnk8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICAgLi4uYXJnczogT3B0aW9uYWxSZXN0QXJnczxRdWVyeT5cbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+PiB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnF1ZXJ5SW5uZXIocXVlcnksIHF1ZXJ5QXJncywge30pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBxdWVyeUlubmVyPFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gICAgcXVlcnk6IFF1ZXJ5LFxuICAgIHF1ZXJ5QXJnczogRnVuY3Rpb25BcmdzPFF1ZXJ5PixcbiAgICBvcHRpb25zOiB7IHRpbWVzdGFtcFByb21pc2U/OiBQcm9taXNlPHN0cmluZz4gfSxcbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+PiB7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgY29uc3QgYXJncyA9IFtjb252ZXhUb0pzb24ocXVlcnlBcmdzKV07XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWAsXG4gICAgfTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYENvbnZleCAke3RoaXMuYWRtaW5BdXRofWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3RoaXMuYXV0aH1gO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG5cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBvcHRpb25zLnRpbWVzdGFtcFByb21pc2VcbiAgICAgID8gYXdhaXQgb3B0aW9ucy50aW1lc3RhbXBQcm9taXNlXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3MsXG4gICAgICAuLi4odGltZXN0YW1wID8geyB0czogdGltZXN0YW1wIH0gOiB7fSksXG4gICAgfSk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aW1lc3RhbXBcbiAgICAgID8gYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlfYXRfdHNgXG4gICAgICA6IGAke3RoaXMuYWRkcmVzc30vYXBpL3F1ZXJ5YDtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChlbmRwb2ludCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vayAmJiByZXNwb25zZS5zdGF0dXMgIT09IFNUQVRVU19DT0RFX1VERl9GQUlMRUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkocmVzcEpTT04pfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbXV0YXRpb25Jbm5lcjxNdXRhdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIj4+KFxuICAgIG11dGF0aW9uOiBNdXRhdGlvbixcbiAgICBtdXRhdGlvbkFyZ3M6IEZ1bmN0aW9uQXJnczxNdXRhdGlvbj4sXG4gICk6IFByb21pc2U8RnVuY3Rpb25SZXR1cm5UeXBlPE11dGF0aW9uPj4ge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24obXV0YXRpb25BcmdzKV0sXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWAsXG4gICAgfTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYENvbnZleCAke3RoaXMuYWRtaW5BdXRofWA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dGgpIHtcbiAgICAgIGhlYWRlcnNbXCJBdXRob3JpemF0aW9uXCJdID0gYEJlYXJlciAke3RoaXMuYXV0aH1gO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbEZldGNoID0gc3BlY2lmaWVkRmV0Y2ggfHwgZmV0Y2g7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBsb2NhbEZldGNoKGAke3RoaXMuYWRkcmVzc30vYXBpL211dGF0aW9uYCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vayAmJiByZXNwb25zZS5zdGF0dXMgIT09IFNUQVRVU19DT0RFX1VERl9GQUlMRUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIHJlc3BKU09OLmxvZ0xpbmVzID8/IFtdKSB7XG4gICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJtdXRhdGlvblwiLCBuYW1lLCBsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChyZXNwSlNPTi5zdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzcEpTT04udmFsdWUpO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGlmIChyZXNwSlNPTi5lcnJvckRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IGZvcndhcmRFcnJvckRhdGEoXG4gICAgICAgICAgICByZXNwSlNPTi5lcnJvckRhdGEsXG4gICAgICAgICAgICBuZXcgQ29udmV4RXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NNdXRhdGlvblF1ZXVlKCkge1xuICAgIGlmICh0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1Byb2Nlc3NpbmdRdWV1ZSA9IHRydWU7XG4gICAgd2hpbGUgKHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IG11dGF0aW9uLCBhcmdzLCByZXNvbHZlLCByZWplY3QgfSA9IHRoaXMubXV0YXRpb25RdWV1ZS5zaGlmdCgpITtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubXV0YXRpb25Jbm5lcihtdXRhdGlvbiwgYXJncyk7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaXNQcm9jZXNzaW5nUXVldWUgPSBmYWxzZTtcbiAgfVxuXG4gIHByaXZhdGUgZW5xdWV1ZU11dGF0aW9uPE11dGF0aW9uIGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJtdXRhdGlvblwiPj4oXG4gICAgbXV0YXRpb246IE11dGF0aW9uLFxuICAgIGFyZ3M6IEZ1bmN0aW9uQXJnczxNdXRhdGlvbj4sXG4gICk6IFByb21pc2U8RnVuY3Rpb25SZXR1cm5UeXBlPE11dGF0aW9uPj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLm11dGF0aW9uUXVldWUucHVzaCh7IG11dGF0aW9uLCBhcmdzLCByZXNvbHZlLCByZWplY3QgfSk7XG4gICAgICB2b2lkIHRoaXMucHJvY2Vzc011dGF0aW9uUXVldWUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IG11dGF0aW9uIGZ1bmN0aW9uLiBNdXRhdGlvbnMgYXJlIHF1ZXVlZCBieSBkZWZhdWx0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbmFsIG9iamVjdCBjb250YWluaW5nXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgbXV0YXRpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIj4+KFxuICAgIG11dGF0aW9uOiBNdXRhdGlvbixcbiAgICAuLi5hcmdzOiBBcmdzQW5kT3B0aW9uczxNdXRhdGlvbiwgSHR0cE11dGF0aW9uT3B0aW9ucz5cbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8TXV0YXRpb24+PiB7XG4gICAgY29uc3QgW2ZuQXJncywgb3B0aW9uc10gPSBhcmdzO1xuICAgIGNvbnN0IG11dGF0aW9uQXJncyA9IHBhcnNlQXJncyhmbkFyZ3MpO1xuICAgIGNvbnN0IHF1ZXVlZCA9ICFvcHRpb25zPy5za2lwUXVldWU7XG5cbiAgICBpZiAocXVldWVkKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbnF1ZXVlTXV0YXRpb24obXV0YXRpb24sIG11dGF0aW9uQXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLm11dGF0aW9uSW5uZXIobXV0YXRpb24sIG11dGF0aW9uQXJncyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggYWN0aW9uIGZ1bmN0aW9uLiBBY3Rpb25zIGFyZSBub3QgcXVldWVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgYWN0aW9uPEFjdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwiYWN0aW9uXCI+PihcbiAgICBhY3Rpb246IEFjdGlvbixcbiAgICAuLi5hcmdzOiBPcHRpb25hbFJlc3RBcmdzPEFjdGlvbj5cbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8QWN0aW9uPj4ge1xuICAgIGNvbnN0IGFjdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShhY3Rpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oYWN0aW9uQXJncyldLFxuICAgIH0pO1xuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gLFxuICAgIH07XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBDb252ZXggJHt0aGlzLmFkbWluQXV0aH1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0aGlzLmF1dGh9YDtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChgJHt0aGlzLmFkZHJlc3N9L2FwaS9hY3Rpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcImFjdGlvblwiLCBuYW1lLCBsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChyZXNwSlNPTi5zdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzcEpTT04udmFsdWUpO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGlmIChyZXNwSlNPTi5lcnJvckRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IGZvcndhcmRFcnJvckRhdGEoXG4gICAgICAgICAgICByZXNwSlNPTi5lcnJvckRhdGEsXG4gICAgICAgICAgICBuZXcgQ29udmV4RXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIENvbnZleCBmdW5jdGlvbiBvZiBhbiB1bmtub3duIHR5cGUuIFRoZXNlIGZ1bmN0aW9uIGNhbGxzIGFyZSBub3QgcXVldWVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGZ1bmN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uPFxuICAgIEFueUZ1bmN0aW9uIGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiIHwgXCJtdXRhdGlvblwiIHwgXCJhY3Rpb25cIj4sXG4gID4oXG4gICAgYW55RnVuY3Rpb246IEFueUZ1bmN0aW9uIHwgc3RyaW5nLFxuICAgIGNvbXBvbmVudFBhdGg/OiBzdHJpbmcsXG4gICAgLi4uYXJnczogT3B0aW9uYWxSZXN0QXJnczxBbnlGdW5jdGlvbj5cbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8QW55RnVuY3Rpb24+PiB7XG4gICAgY29uc3QgZnVuY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPVxuICAgICAgdHlwZW9mIGFueUZ1bmN0aW9uID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gYW55RnVuY3Rpb25cbiAgICAgICAgOiBnZXRGdW5jdGlvbk5hbWUoYW55RnVuY3Rpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBjb21wb25lbnRQYXRoOiBjb21wb25lbnRQYXRoLFxuICAgICAgcGF0aDogbmFtZSxcbiAgICAgIGZvcm1hdDogXCJjb252ZXhfZW5jb2RlZF9qc29uXCIsXG4gICAgICBhcmdzOiBjb252ZXhUb0pzb24oZnVuY3Rpb25BcmdzKSxcbiAgICB9KTtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YCxcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvZnVuY3Rpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcImFueVwiLCBuYW1lLCBsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChyZXNwSlNPTi5zdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzcEpTT04udmFsdWUpO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGlmIChyZXNwSlNPTi5lcnJvckRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IGZvcndhcmRFcnJvckRhdGEoXG4gICAgICAgICAgICByZXNwSlNPTi5lcnJvckRhdGEsXG4gICAgICAgICAgICBuZXcgQ29udmV4RXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHJlc3BKU09OKX1gKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9yd2FyZEVycm9yRGF0YShlcnJvckRhdGE6IEpTT05WYWx1ZSwgZXJyb3I6IENvbnZleEVycm9yPHN0cmluZz4pIHtcbiAgKGVycm9yIGFzIENvbnZleEVycm9yPGFueT4pLmRhdGEgPSBqc29uVG9Db252ZXgoZXJyb3JEYXRhKTtcbiAgcmV0dXJuIGVycm9yO1xufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG50eXBlIEZldGNoT3B0aW9ucyA9IHsgY2FjaGU6IFwiZm9yY2UtY2FjaGVcIiB8IFwibm8tc3RvcmVcIiB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/http_client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* reexport safe */ _sync_client_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient),\n/* harmony export */   ConvexClient: () => (/* reexport safe */ _simple_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexClient),\n/* harmony export */   ConvexHttpClient: () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_2__.ConvexHttpClient)\n/* harmony export */ });\n/* harmony import */ var _sync_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sync/client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/client.js\");\n/* harmony import */ var _simple_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simple_client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/simple_client.js\");\n/* harmony import */ var _http_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http_client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/http_client.js\");\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBa0JpQztBQVVKO0FBUUkiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL2Jyb3dzZXIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUb29scyBmb3IgYWNjZXNzaW5nIENvbnZleCBpbiB0aGUgYnJvd3Nlci5cbiAqXG4gKiAqKklmIHlvdSBhcmUgdXNpbmcgUmVhY3QsIHVzZSB0aGUge0BsaW5rIHJlYWN0fSBtb2R1bGUgaW5zdGVhZC4qKlxuICpcbiAqICMjIFVzYWdlXG4gKlxuICogQ3JlYXRlIGEge0BsaW5rIENvbnZleEh0dHBDbGllbnR9IHRvIGNvbm5lY3QgdG8gdGhlIENvbnZleCBDbG91ZC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBDb252ZXhIdHRwQ2xpZW50IH0gZnJvbSBcImNvbnZleC9icm93c2VyXCI7XG4gKiAvLyB0eXBpY2FsbHkgbG9hZGVkIGZyb20gYW4gZW52aXJvbm1lbnQgdmFyaWFibGVcbiAqIGNvbnN0IGFkZHJlc3MgPSBcImh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZFwiO1xuICogY29uc3QgY29udmV4ID0gbmV3IENvbnZleEh0dHBDbGllbnQoYWRkcmVzcyk7XG4gKiBgYGBcbiAqXG4gKiBAbW9kdWxlXG4gKi9cbmV4cG9ydCB7IEJhc2VDb252ZXhDbGllbnQgfSBmcm9tIFwiLi9zeW5jL2NsaWVudC5qc1wiO1xuZXhwb3J0IHR5cGUge1xuICBCYXNlQ29udmV4Q2xpZW50T3B0aW9ucyxcbiAgTXV0YXRpb25PcHRpb25zLFxuICBTdWJzY3JpYmVPcHRpb25zLFxuICBDb25uZWN0aW9uU3RhdGUsXG4gIEF1dGhUb2tlbkZldGNoZXIsXG59IGZyb20gXCIuL3N5bmMvY2xpZW50LmpzXCI7XG5leHBvcnQgdHlwZSB7IFBhZ2luYXRpb25TdGF0dXMgfSBmcm9tIFwiLi9zeW5jL3BhZ2luYXRpb24uanNcIjtcbmV4cG9ydCB0eXBlIHsgQ29udmV4Q2xpZW50T3B0aW9ucyB9IGZyb20gXCIuL3NpbXBsZV9jbGllbnQuanNcIjtcbmV4cG9ydCB7IENvbnZleENsaWVudCB9IGZyb20gXCIuL3NpbXBsZV9jbGllbnQuanNcIjtcbmV4cG9ydCB0eXBlIHtcbiAgT3B0aW1pc3RpY1VwZGF0ZSxcbiAgT3B0aW1pc3RpY0xvY2FsU3RvcmUsXG59IGZyb20gXCIuL3N5bmMvb3B0aW1pc3RpY191cGRhdGVzLmpzXCI7XG5leHBvcnQgdHlwZSB7IFF1ZXJ5VG9rZW4gfSBmcm9tIFwiLi9zeW5jL3VkZl9wYXRoX3V0aWxzLmpzXCI7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSB7IFBhZ2luYXRlZFF1ZXJ5VG9rZW4gfSBmcm9tIFwiLi9zeW5jL3VkZl9wYXRoX3V0aWxzLmpzXCI7XG5leHBvcnQgeyBDb252ZXhIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cF9jbGllbnQuanNcIjtcbmV4cG9ydCB0eXBlIHsgSHR0cE11dGF0aW9uT3B0aW9ucyB9IGZyb20gXCIuL2h0dHBfY2xpZW50LmpzXCI7XG5leHBvcnQgdHlwZSB7IFF1ZXJ5Sm91cm5hbCB9IGZyb20gXCIuL3N5bmMvcHJvdG9jb2wuanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIHsgVXNlcklkZW50aXR5QXR0cmlidXRlcyB9IGZyb20gXCIuL3N5bmMvcHJvdG9jb2wuanNcIjtcbmV4cG9ydCB0eXBlIHsgRnVuY3Rpb25SZXN1bHQgfSBmcm9tIFwiLi9zeW5jL2Z1bmN0aW9uX3Jlc3VsdC5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLogger: () => (/* binding */ DefaultLogger),\n/* harmony export */   createHybridErrorStacktrace: () => (/* binding */ createHybridErrorStacktrace),\n/* harmony export */   forwardData: () => (/* binding */ forwardData),\n/* harmony export */   instantiateDefaultLogger: () => (/* binding */ instantiateDefaultLogger),\n/* harmony export */   instantiateNoopLogger: () => (/* binding */ instantiateNoopLogger),\n/* harmony export */   logFatalError: () => (/* binding */ logFatalError),\n/* harmony export */   logForFunction: () => (/* binding */ logForFunction)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst INFO_COLOR = \"color:rgb(0, 145, 255)\";\nfunction prefix_for_source(source) {\n    switch(source){\n        case \"query\":\n            return \"Q\";\n        case \"mutation\":\n            return \"M\";\n        case \"action\":\n            return \"A\";\n        case \"any\":\n            return \"?\";\n    }\n}\nclass DefaultLogger {\n    addLogLineListener(func) {\n        let id = Math.random().toString(36).substring(2, 15);\n        for(let i = 0; i < 10; i++){\n            if (this._onLogLineFuncs[id] === void 0) {\n                break;\n            }\n            id = Math.random().toString(36).substring(2, 15);\n        }\n        this._onLogLineFuncs[id] = func;\n        return ()=>{\n            delete this._onLogLineFuncs[id];\n        };\n    }\n    logVerbose() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        if (this._verbose) {\n            for (const func of Object.values(this._onLogLineFuncs)){\n                func(\"debug\", \"\".concat(/* @__PURE__ */ new Date().toISOString()), ...args);\n            }\n        }\n    }\n    log() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"info\", ...args);\n        }\n    }\n    warn() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"warn\", ...args);\n        }\n    }\n    error() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"error\", ...args);\n        }\n    }\n    constructor(options){\n        __publicField(this, \"_onLogLineFuncs\");\n        __publicField(this, \"_verbose\");\n        this._onLogLineFuncs = {};\n        this._verbose = options.verbose;\n    }\n}\nfunction instantiateDefaultLogger(options) {\n    const logger = new DefaultLogger(options);\n    logger.addLogLineListener(function(level) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        switch(level){\n            case \"debug\":\n                console.debug(...args);\n                break;\n            case \"info\":\n                console.log(...args);\n                break;\n            case \"warn\":\n                console.warn(...args);\n                break;\n            case \"error\":\n                console.error(...args);\n                break;\n            default:\n                {\n                    level;\n                    console.log(...args);\n                }\n        }\n    });\n    return logger;\n}\nfunction instantiateNoopLogger(options) {\n    return new DefaultLogger(options);\n}\nfunction logForFunction(logger, type, source, udfPath, message) {\n    const prefix = prefix_for_source(source);\n    if (typeof message === \"object\") {\n        message = \"ConvexError \".concat(JSON.stringify(message.errorData, null, 2));\n    }\n    if (type === \"info\") {\n        const match = message.match(/^\\[.*?\\] /);\n        if (match === null) {\n            logger.error(\"[CONVEX \".concat(prefix, \"(\").concat(udfPath, \")] Could not parse console.log\"));\n            return;\n        }\n        const level = message.slice(1, match[0].length - 2);\n        const args = message.slice(match[0].length);\n        logger.log(\"%c[CONVEX \".concat(prefix, \"(\").concat(udfPath, \")] [\").concat(level, \"]\"), INFO_COLOR, args);\n    } else {\n        logger.error(\"[CONVEX \".concat(prefix, \"(\").concat(udfPath, \")] \").concat(message));\n    }\n}\nfunction logFatalError(logger, message) {\n    const errorMessage = \"[CONVEX FATAL ERROR] \".concat(message);\n    logger.error(errorMessage);\n    return new Error(errorMessage);\n}\nfunction createHybridErrorStacktrace(source, udfPath, result) {\n    const prefix = prefix_for_source(source);\n    return \"[CONVEX \".concat(prefix, \"(\").concat(udfPath, \")] \").concat(result.errorMessage, \"\\n  Called by client\");\n}\nfunction forwardData(result, error) {\n    error.data = result.errorData;\n    return error;\n} //# sourceMappingURL=logging.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9sb2dnaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxNQUFNLGFBQWE7QUFJbkIsU0FBUyxrQkFBa0IsUUFBaUI7SUFDMUMsT0FBUSxRQUFRO1FBQ2QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87SUFDWDtBQUNGO0FBZ0JPLE1BQU0sY0FBZ0M7SUFZM0MsbUJBQ0UsTUFDWTtRQUNaLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxVQUFVLEdBQUcsRUFBRTtRQUNuRCxRQUFTLElBQUksR0FBRyxJQUFJLElBQUksSUFBSztZQUMzQixJQUFJLEtBQUssZ0JBQWdCLEVBQUUsTUFBTSxRQUFXO2dCQUMxQztZQUNGO1lBQ0EsS0FBSyxLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxVQUFVLEdBQUcsRUFBRTtRQUNqRDtRQUNBLEtBQUssZ0JBQWdCLEVBQUUsSUFBSTtRQUMzQixPQUFPO1lBQ0wsT0FBTyxLQUFLLGdCQUFnQixFQUFFO1FBQ2hDO0lBQ0Y7SUFFQSxhQUEyQjtRQUEzQjtZQUFjLEtBQWQsdUJBQWM7O1FBQ1osSUFBSSxLQUFLLFVBQVU7WUFDakIsV0FBVyxRQUFRLE9BQU8sT0FBTyxLQUFLLGVBQWUsRUFBRztnQkFDdEQsS0FBSyxTQUFTLEdBQTJCLEdBQUksSUFBL0IsYUFBRyxPQUFJLEtBQUssRUFBRSxZQUFZLENBQUMsTUFBTyxJQUFJO1lBQ3REO1FBQ0Y7SUFDRjtJQUVBLE1BQW9CO1FBQXBCO2lCQUFBLHVCQUFPOztRQUNMLFdBQVcsUUFBUSxPQUFPLE9BQU8sS0FBSyxlQUFlLEVBQUc7WUFDdEQsS0FBSyxRQUFRLEdBQUcsSUFBSTtRQUN0QjtJQUNGO0lBRUEsT0FBcUI7UUFBckI7WUFBUSxLQUFSLHVCQUFROztRQUNOLFdBQVcsUUFBUSxPQUFPLE9BQU8sS0FBSyxlQUFlLEVBQUc7WUFDdEQsS0FBSyxRQUFRLEdBQUcsSUFBSTtRQUN0QjtJQUNGO0lBRUEsUUFBc0I7UUFBdEI7WUFBUyxLQUFULHVCQUFTOztRQUNQLFdBQVcsUUFBUSxPQUFPLE9BQU8sS0FBSyxlQUFlLEVBQUc7WUFDdEQsS0FBSyxTQUFTLEdBQUcsSUFBSTtRQUN2QjtJQUNGO0lBN0NBLFlBQVksUUFBK0I7UUFOM0Msb0JBQVE7UUFJUixvQkFBUTtRQUdOLEtBQUssa0JBQWtCLENBQUM7UUFDeEIsS0FBSyxXQUFXLFFBQVE7SUFDMUI7QUEyQ0Y7QUFFTyxTQUFTLHlCQUF5QixTQUU5QjtJQUNULE1BQU0sU0FBUyxJQUFJLGNBQWMsT0FBTztJQUN4QyxPQUFPLG1CQUFtQixTQUFDO3lDQUFVLFNBQVM7OztRQUM1QyxPQUFRLE9BQU87WUFDYixLQUFLO2dCQUNILFFBQVEsTUFBTSxHQUFHLElBQUk7Z0JBQ3JCO1lBQ0YsS0FBSztnQkFDSCxRQUFRLElBQUksR0FBRyxJQUFJO2dCQUNuQjtZQUNGLEtBQUs7Z0JBQ0gsUUFBUSxLQUFLLEdBQUcsSUFBSTtnQkFDcEI7WUFDRixLQUFLO2dCQUNILFFBQVEsTUFBTSxHQUFHLElBQUk7Z0JBQ3JCO1lBQ0Y7Z0JBQVM7b0JBQ1A7b0JBQ0EsUUFBUSxJQUFJLEdBQUcsSUFBSTtnQkFDckI7UUFDRjtJQUNGLENBQUM7SUFDRCxPQUFPO0FBQ1Q7QUFFTyxTQUFTLHNCQUFzQixTQUF1QztJQUMzRSxPQUFPLElBQUksY0FBYyxPQUFPO0FBQ2xDO0FBRU8sU0FBUyxlQUNkLFFBQ0EsTUFDQSxRQUNBLFNBQ0EsU0FDQTtJQUNBLE1BQU0sU0FBUyxrQkFBa0IsTUFBTTtJQUV2QyxJQUFJLE9BQU8sWUFBWSxVQUFVO1FBQy9CLFVBQVUsZUFBeUQsT0FBMUMsS0FBSyxVQUFVLFFBQVEsV0FBVyxNQUFNLENBQUMsQ0FBQztJQUNyRTtJQUNBLElBQUksU0FBUyxRQUFRO1FBQ25CLE1BQU0sUUFBUSxRQUFRLE1BQU0sV0FBVztRQUN2QyxJQUFJLFVBQVUsTUFBTTtZQUNsQixPQUFPLE1BQ0wsa0JBQVcsTUFBTSxPQUFXLE9BQVAsT0FBTztZQUU5QjtRQUNGO1FBQ0EsTUFBTSxRQUFRLFFBQVEsTUFBTSxHQUFHLE1BQU0sQ0FBQyxFQUFFLFNBQVMsQ0FBQztRQUNsRCxNQUFNLE9BQU8sUUFBUSxNQUFNLE1BQU0sQ0FBQyxFQUFFLE1BQU07UUFFMUMsT0FBTyxJQUFJLG9CQUFhLE1BQU0sY0FBSSxPQUFPLFVBQVksT0FBTCxLQUFLLFFBQUssWUFBWSxJQUFJO0lBQzVFLE9BQU87UUFDTCxPQUFPLE1BQU0sa0JBQVcsTUFBTSxjQUFJLE9BQU8sU0FBYSxDQUFFLE1BQVQsT0FBTztJQUN4RDtBQUNGO0FBRU8sU0FBUyxjQUFjLFFBQWdCLFNBQXdCO0lBQ3BFLE1BQU0sZUFBZSx3QkFBK0IsT0FBUCxPQUFPO0lBQ3BELE9BQU8sTUFBTSxZQUFZO0lBQ3pCLE9BQU8sSUFBSSxNQUFNLFlBQVk7QUFDL0I7QUFFTyxTQUFTLDRCQUNkLFFBQ0EsU0FDQSxRQUNRO0lBQ1IsTUFBTSxTQUFTLGtCQUFrQixNQUFNO0lBQ3ZDLE9BQU8sa0JBQVcsTUFBTSxjQUFJLE9BQU8sU0FBeUIsT0FBbkIsT0FBTyxZQUFZO0FBQzlEO0FBRU8sU0FBUyxZQUNkLFFBQ0EsT0FDQTtJQUNDLE1BQTJCLE9BQU8sT0FBTztJQUMxQyxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL2Jyb3dzZXIvbG9nZ2luZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovIC8vIFRoaXMgaXMgdGhlIG9uZSBmaWxlIHdoZXJlIHdlIGNhbiBgY29uc29sZS5sb2dgIGZvciB0aGUgZGVmYXVsdCBsb2dnZXIgaW1wbGVtZW50YXRpb24uXG5pbXBvcnQgeyBDb252ZXhFcnJvciwgVmFsdWUgfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvbkZhaWx1cmUgfSBmcm9tIFwiLi9zeW5jL2Z1bmN0aW9uX3Jlc3VsdC5qc1wiO1xuXG4vLyBUaGlzIGlzIGJsdWUgIzkgZnJvbSBodHRwczovL3d3dy5yYWRpeC11aS5jb20vZG9jcy9jb2xvcnMvcGFsZXR0ZS1jb21wb3NpdGlvbi90aGUtc2NhbGVzXG4vLyBJdCBtdXN0IGxvb2sgZ29vZCBpbiBib3RoIGxpZ2h0IGFuZCBkYXJrIG1vZGUuXG5jb25zdCBJTkZPX0NPTE9SID0gXCJjb2xvcjpyZ2IoMCwgMTQ1LCAyNTUpXCI7XG5cbmV4cG9ydCB0eXBlIFVkZlR5cGUgPSBcInF1ZXJ5XCIgfCBcIm11dGF0aW9uXCIgfCBcImFjdGlvblwiIHwgXCJhbnlcIjtcblxuZnVuY3Rpb24gcHJlZml4X2Zvcl9zb3VyY2Uoc291cmNlOiBVZGZUeXBlKSB7XG4gIHN3aXRjaCAoc291cmNlKSB7XG4gICAgY2FzZSBcInF1ZXJ5XCI6XG4gICAgICByZXR1cm4gXCJRXCI7XG4gICAgY2FzZSBcIm11dGF0aW9uXCI6XG4gICAgICByZXR1cm4gXCJNXCI7XG4gICAgY2FzZSBcImFjdGlvblwiOlxuICAgICAgcmV0dXJuIFwiQVwiO1xuICAgIGNhc2UgXCJhbnlcIjpcbiAgICAgIHJldHVybiBcIj9cIjtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBMb2dMZXZlbCA9IFwiZGVidWdcIiB8IFwiaW5mb1wiIHwgXCJ3YXJuXCIgfCBcImVycm9yXCI7XG5cbi8qKlxuICogQSBsb2dnZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2cgbWVzc2FnZXMuIEJ5IGRlZmF1bHQsIHRoaXMgaXMgYSB3cmFwcGVyXG4gKiBhcm91bmQgYGNvbnNvbGVgLCBidXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gbm90IGxvZyBhdCBhbGwgb3IgdG8gbG9nIHNvbWV3aGVyZVxuICogZWxzZS5cbiAqL1xuZXhwb3J0IHR5cGUgTG9nZ2VyID0ge1xuICBsb2dWZXJib3NlKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgbG9nKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgd2FybiguLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gIGVycm9yKC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbn07XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TG9nZ2VyIGltcGxlbWVudHMgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBfb25Mb2dMaW5lRnVuY3M6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgKGxldmVsOiBMb2dMZXZlbCwgLi4uYXJnczogYW55W10pID0+IHZvaWRcbiAgPjtcbiAgcHJpdmF0ZSBfdmVyYm9zZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IHZlcmJvc2U6IGJvb2xlYW4gfSkge1xuICAgIHRoaXMuX29uTG9nTGluZUZ1bmNzID0ge307XG4gICAgdGhpcy5fdmVyYm9zZSA9IG9wdGlvbnMudmVyYm9zZTtcbiAgfVxuXG4gIGFkZExvZ0xpbmVMaXN0ZW5lcihcbiAgICBmdW5jOiAobGV2ZWw6IExvZ0xldmVsLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcbiAgKTogKCkgPT4gdm9pZCB7XG4gICAgbGV0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9vbkxvZ0xpbmVGdW5jc1tpZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbiAgICB9XG4gICAgdGhpcy5fb25Mb2dMaW5lRnVuY3NbaWRdID0gZnVuYztcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGVsZXRlIHRoaXMuX29uTG9nTGluZUZ1bmNzW2lkXTtcbiAgICB9O1xuICB9XG5cbiAgbG9nVmVyYm9zZSguLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmICh0aGlzLl92ZXJib3NlKSB7XG4gICAgICBmb3IgKGNvbnN0IGZ1bmMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9vbkxvZ0xpbmVGdW5jcykpIHtcbiAgICAgICAgZnVuYyhcImRlYnVnXCIsIGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gLCAuLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBsb2coLi4uYXJnczogYW55W10pIHtcbiAgICBmb3IgKGNvbnN0IGZ1bmMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9vbkxvZ0xpbmVGdW5jcykpIHtcbiAgICAgIGZ1bmMoXCJpbmZvXCIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oLi4uYXJnczogYW55W10pIHtcbiAgICBmb3IgKGNvbnN0IGZ1bmMgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9vbkxvZ0xpbmVGdW5jcykpIHtcbiAgICAgIGZ1bmMoXCJ3YXJuXCIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgZm9yIChjb25zdCBmdW5jIG9mIE9iamVjdC52YWx1ZXModGhpcy5fb25Mb2dMaW5lRnVuY3MpKSB7XG4gICAgICBmdW5jKFwiZXJyb3JcIiwgLi4uYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIob3B0aW9uczoge1xuICB2ZXJib3NlOiBib29sZWFuO1xufSk6IExvZ2dlciB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBEZWZhdWx0TG9nZ2VyKG9wdGlvbnMpO1xuICBsb2dnZXIuYWRkTG9nTGluZUxpc3RlbmVyKChsZXZlbCwgLi4uYXJncykgPT4ge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YXJuXCI6XG4gICAgICAgIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGxldmVsIHNhdGlzZmllcyBuZXZlcjtcbiAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGxvZ2dlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbnRpYXRlTm9vcExvZ2dlcihvcHRpb25zOiB7IHZlcmJvc2U6IGJvb2xlYW4gfSk6IExvZ2dlciB7XG4gIHJldHVybiBuZXcgRGVmYXVsdExvZ2dlcihvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ0ZvckZ1bmN0aW9uKFxuICBsb2dnZXI6IExvZ2dlcixcbiAgdHlwZTogXCJpbmZvXCIgfCBcImVycm9yXCIsXG4gIHNvdXJjZTogVWRmVHlwZSxcbiAgdWRmUGF0aDogc3RyaW5nLFxuICBtZXNzYWdlOiBzdHJpbmcgfCB7IGVycm9yRGF0YTogVmFsdWUgfSxcbikge1xuICBjb25zdCBwcmVmaXggPSBwcmVmaXhfZm9yX3NvdXJjZShzb3VyY2UpO1xuXG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIikge1xuICAgIG1lc3NhZ2UgPSBgQ29udmV4RXJyb3IgJHtKU09OLnN0cmluZ2lmeShtZXNzYWdlLmVycm9yRGF0YSwgbnVsbCwgMil9YDtcbiAgfVxuICBpZiAodHlwZSA9PT0gXCJpbmZvXCIpIHtcbiAgICBjb25zdCBtYXRjaCA9IG1lc3NhZ2UubWF0Y2goL15cXFsuKj9cXF0gLyk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgIGBbQ09OVkVYICR7cHJlZml4fSgke3VkZlBhdGh9KV0gQ291bGQgbm90IHBhcnNlIGNvbnNvbGUubG9nYCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gbWVzc2FnZS5zbGljZSgxLCBtYXRjaFswXS5sZW5ndGggLSAyKTtcbiAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuXG4gICAgbG9nZ2VyLmxvZyhgJWNbQ09OVkVYICR7cHJlZml4fSgke3VkZlBhdGh9KV0gWyR7bGV2ZWx9XWAsIElORk9fQ09MT1IsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci5lcnJvcihgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldICR7bWVzc2FnZX1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nRmF0YWxFcnJvcihsb2dnZXI6IExvZ2dlciwgbWVzc2FnZTogc3RyaW5nKTogRXJyb3Ige1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgW0NPTlZFWCBGQVRBTCBFUlJPUl0gJHttZXNzYWdlfWA7XG4gIGxvZ2dlci5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICByZXR1cm4gbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXG4gIHNvdXJjZTogVWRmVHlwZSxcbiAgdWRmUGF0aDogc3RyaW5nLFxuICByZXN1bHQ6IEZ1bmN0aW9uRmFpbHVyZSxcbik6IHN0cmluZyB7XG4gIGNvbnN0IHByZWZpeCA9IHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSk7XG4gIHJldHVybiBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldICR7cmVzdWx0LmVycm9yTWVzc2FnZX1cXG4gIENhbGxlZCBieSBjbGllbnRgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZERhdGEoXG4gIHJlc3VsdDogRnVuY3Rpb25GYWlsdXJlLFxuICBlcnJvcjogQ29udmV4RXJyb3I8c3RyaW5nPixcbikge1xuICAoZXJyb3IgYXMgQ29udmV4RXJyb3I8YW55PikuZGF0YSA9IHJlc3VsdC5lcnJvckRhdGE7XG4gIHJldHVybiBlcnJvcjtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/simple_client.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/simple_client.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexClient: () => (/* binding */ ConvexClient),\n/* harmony export */   setDefaultWebSocketConstructor: () => (/* binding */ setDefaultWebSocketConstructor)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sync/paginated_query_client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\");\n/* harmony import */ var _sync_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sync/udf_path_utils.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nlet defaultWebSocketConstructor;\nfunction setDefaultWebSocketConstructor(ws) {\n    defaultWebSocketConstructor = ws;\n}\nclass ConvexClient {\n    /**\n   * Once closed no registered callbacks will fire again.\n   */ get closed() {\n        return this._closed;\n    }\n    get client() {\n        if (this._client) return this._client;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    /**\n   * @internal\n   */ get paginatedClient() {\n        if (this._paginatedClient) return this._paginatedClient;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    /**\n   * Call a callback whenever a new result for a query is received. The callback\n   * will run soon after being registered if a result for the query is already\n   * in memory.\n   *\n   * The return value is an {@link Unsubscribe} object which is both a function\n   * an an object with properties. Both of the patterns below work with this object:\n   *\n   *```ts\n   * // call the return value as a function\n   * const unsubscribe = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   * unsubscribe();\n   *\n   * // unpack the return value into its properties\n   * const {\n   *   getCurrentValue,\n   *   unsubscribe,\n   * } = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   *```\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   * If not provided, errors will be thrown instead of calling the callback.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the onUpdate function.\n   */ onUpdate(query, args, callback, onError) {\n        if (this.disabled) {\n            return this.createDisabledUnsubscribe();\n        }\n        const { queryToken, unsubscribe } = this.client.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        const queryInfo = {\n            queryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args,\n            paginationOptions: void 0\n        };\n        this.listeners.add(queryInfo);\n        if (this.queryResultReady(queryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>this.client.localQueryResultByToken(queryToken),\n            getQueryLogs: ()=>this.client.localQueryLogs(queryToken)\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    /**\n   * Call a callback whenever a new result for a paginated query is received.\n   *\n   * This is an experimental preview: the final API may change.\n   * In particular, caching behavior, page splitting, and required paginated query options\n   * may change.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param options - Options for the paginated query including initialNumItems and id.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the callback.\n   */ onPaginatedUpdate_experimental(query, args, options, callback, onError) {\n        if (this.disabled) {\n            return this.createDisabledUnsubscribe();\n        }\n        const paginationOptions = {\n            initialNumItems: options.initialNumItems,\n            id: -1\n        };\n        const { paginatedQueryToken, unsubscribe } = this.paginatedClient.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args, // Simple client doesn't use IDs, there's no expectation that these queries remain separate.\n        paginationOptions);\n        const queryInfo = {\n            queryToken: paginatedQueryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args,\n            paginationOptions\n        };\n        this.listeners.add(queryInfo);\n        if (!!this.paginatedClient.localQueryResultByToken(paginatedQueryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>{\n                const result = this.paginatedClient.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args, paginationOptions);\n                return result;\n            },\n            getQueryLogs: ()=>[]\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    // Run all callbacks that have never been run before if they have a query\n    // result available now.\n    callNewListenersWithCurrentValues() {\n        this.callNewListenersWithCurrentValuesTimer = void 0;\n        this._transition({\n            queries: [],\n            paginatedQueries: []\n        }, true);\n    }\n    queryResultReady(queryToken) {\n        return this.client.hasLocalQueryResultByToken(queryToken);\n    }\n    createDisabledUnsubscribe() {\n        const disabledUnsubscribe = ()=>{};\n        const unsubscribeProps = {\n            unsubscribe: disabledUnsubscribe,\n            getCurrentValue: ()=>void 0,\n            getQueryLogs: ()=>void 0\n        };\n        Object.assign(disabledUnsubscribe, unsubscribeProps);\n        return disabledUnsubscribe;\n    }\n    async close() {\n        if (this.disabled) return;\n        this.listeners.clear();\n        this._closed = true;\n        if (this._paginatedClient) {\n            this._paginatedClient = void 0;\n        }\n        return this.client.close();\n    }\n    /**\n   * Get the current JWT auth token and decoded claims.\n   */ getAuth() {\n        if (this.disabled) return;\n        return this.client.getCurrentAuthClaims();\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT (typically an OpenID Connect Identity Token)\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (this.disabled) return;\n        this.client.setAuth(fetchToken, onChange !== null && onChange !== void 0 ? onChange : ()=>{});\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        if (this.closed) {\n            throw new Error(\"ConvexClient has already been closed.\");\n        }\n        if (this.disabled) return;\n        this.client.setAdminAuth(token, identity);\n    }\n    /**\n   * @internal\n   */ _transition(param) {\n        let { queries, paginatedQueries } = param, callNewListeners = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n        const updatedQueries = [\n            ...queries.map((q)=>q.token),\n            ...paginatedQueries.map((q)=>q.token)\n        ];\n        for (const queryInfo of this.listeners){\n            const { callback, queryToken, onError, hasEverRun } = queryInfo;\n            const isPaginatedQuery = (0,_sync_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_4__.serializedQueryTokenIsPaginated)(queryToken);\n            const hasResultReady = isPaginatedQuery ? !!this.paginatedClient.localQueryResultByToken(queryToken) : this.client.hasLocalQueryResultByToken(queryToken);\n            if (updatedQueries.includes(queryToken) || callNewListeners && !hasEverRun && hasResultReady) {\n                queryInfo.hasEverRun = true;\n                let newValue;\n                try {\n                    if (isPaginatedQuery) {\n                        newValue = this.paginatedClient.localQueryResultByToken(queryToken);\n                    } else {\n                        newValue = this.client.localQueryResultByToken(queryToken);\n                    }\n                } catch (error) {\n                    if (!(error instanceof Error)) throw error;\n                    if (onError) {\n                        onError(error, \"Second argument to onUpdate onError is reserved for later use\");\n                    } else {\n                        void Promise.reject(error);\n                    }\n                    continue;\n                }\n                callback(newValue, \"Second argument to onUpdate callback is reserved for later use\");\n            }\n        }\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, args, options) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.mutation((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(mutation), args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action.\n   * @returns A promise of the action's result.\n   */ async action(action, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.action((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(action), args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query.\n   * @returns A promise of the query's result.\n   */ async query(query, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        const value = this.client.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        if (value !== void 0) return Promise.resolve(value);\n        return new Promise((resolve, reject)=>{\n            const { unsubscribe } = this.onUpdate(query, args, (value2)=>{\n                unsubscribe();\n                resolve(value2);\n            }, (e)=>{\n                unsubscribe();\n                reject(e);\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return this.client.connectionState();\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        if (this.disabled) return ()=>{};\n        return this.client.subscribeToConnectionState(cb);\n    }\n    /**\n   * Construct a client and immediately initiate a WebSocket connection to the passed address.\n   *\n   * @public\n   */ constructor(address, options = {}){\n        __publicField(this, \"listeners\");\n        __publicField(this, \"_client\");\n        __publicField(this, \"_paginatedClient\");\n        // A synthetic server event to run callbacks the first time\n        __publicField(this, \"callNewListenersWithCurrentValuesTimer\");\n        __publicField(this, \"_closed\");\n        __publicField(this, \"_disabled\");\n        if (options.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_0__.validateDeploymentUrl)(address);\n        }\n        const { disabled, ...baseOptions } = options;\n        this._closed = false;\n        this._disabled = !!disabled;\n        if (defaultWebSocketConstructor && !(\"webSocketConstructor\" in baseOptions) && typeof WebSocket === \"undefined\") {\n            baseOptions.webSocketConstructor = defaultWebSocketConstructor;\n        }\n        if (typeof window === \"undefined\" && !(\"unsavedChangesWarning\" in baseOptions)) {\n            baseOptions.unsavedChangesWarning = false;\n        }\n        if (!this.disabled) {\n            this._client = new _index_js__WEBPACK_IMPORTED_MODULE_1__.BaseConvexClient(address, ()=>{}, // NOP, let the paginated query client do it all\n            baseOptions);\n            this._paginatedClient = new _sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_3__.PaginatedQueryClient(this._client, (transition)=>this._transition(transition));\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n} //# sourceMappingURL=simple_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zaW1wbGVfY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFRL0I7QUFPeUI7QUFNekI7QUFFeUM7QUFLaEQsSUFBSTtBQUdHLFNBQVMsK0JBQStCLElBQXNCO0lBQ25FLDhCQUE4QjtBQUNoQztBQWlETyxNQUFNLGFBQWE7SUFvRXhCOztHQUFBLEdBdkRBLElBQUksU0FBa0I7UUFDcEIsT0FBTyxLQUFLO0lBQ2Q7SUFDQSxJQUFJLFNBQTJCO1FBQzdCLElBQUksS0FBSyxRQUFTLFFBQU8sS0FBSztRQUM5QixNQUFNLElBQUksTUFBTSwwQkFBMEI7SUFDNUM7SUFBQTs7R0FBQSxHQUlBLElBQUksa0JBQXdDO1FBQzFDLElBQUksS0FBSyxpQkFBa0IsUUFBTyxLQUFLO1FBQ3ZDLE1BQU0sSUFBSSxNQUFNLDBCQUEwQjtJQUM1QztJQUNBLElBQUksV0FBb0I7UUFDdEIsT0FBTyxLQUFLO0lBQ2Q7SUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQUFBLEdBeUVBLFNBQ0UsT0FDQSxNQUNBLFVBQ0EsU0FDbUM7UUFDbkMsSUFBSSxLQUFLLFVBQVU7WUFDakIsT0FBTyxLQUFLLDBCQUFnRDtRQUM5RDtRQUdBLE1BQU0sRUFBRSxZQUFZLFlBQVksSUFBSSxLQUFLLE9BQU8sVUFDOUMsK0RBQWUsQ0FBQyxLQUFLLEdBQ3JCO1FBSUYsTUFBTSxZQUF1QjtZQUMzQjtZQUNBO1lBQ0E7WUFDQTtZQUNBLFlBQVk7WUFDWjtZQUNBO1lBQ0EsbUJBQW1CO1FBQ3JCO1FBQ0EsS0FBSyxVQUFVLElBQUksU0FBUztRQUs1QixJQUNFLEtBQUssaUJBQWlCLFVBQVUsS0FDaEMsS0FBSywyQ0FBMkMsUUFDaEQ7WUFDQSxLQUFLLHlDQUF5QyxXQUM1QyxJQUFNLEtBQUssa0NBQWtDLEdBQzdDO1FBRUo7UUFFQSxNQUFNLG1CQUVGO1lBQ0YsYUFBYTtnQkFDWCxJQUFJLEtBQUssUUFBUTtvQkFFZjtnQkFDRjtnQkFDQSxLQUFLLFVBQVUsT0FBTyxTQUFTO2dCQUMvQixZQUFZO1lBQ2Q7WUFDQSxpQkFBaUIsSUFBTSxLQUFLLE9BQU8sd0JBQXdCLFVBQVU7WUFDckUsY0FBYyxJQUFNLEtBQUssT0FBTyxlQUFlLFVBQVU7UUFDM0Q7UUFDQSxNQUFNLE1BQU0saUJBQWlCO1FBRzdCLE9BQU8sT0FBTyxLQUFLLGdCQUFnQjtRQUNuQyxPQUFPO0lBQ1Q7SUFBQTs7Ozs7Ozs7Ozs7Ozs7R0FBQSxHQWlCQSwrQkFDRSxPQUNBLE1BQ0EsU0FDQSxVQUNBLFNBQ2dFO1FBQ2hFLElBQUksS0FBSyxVQUFVO1lBQ2pCLE9BQU8sS0FBSywwQkFFVjtRQUNKO1FBRUEsTUFBTSxvQkFBb0I7WUFDeEIsaUJBQWlCLFFBQVE7WUFDekIsSUFBSTtRQUNOO1FBRUEsTUFBTSxFQUFFLHFCQUFxQixZQUFZLElBQUksS0FBSyxnQkFBZ0IsVUFDaEUsK0RBQWUsQ0FBQyxLQUFLLEdBQ3JCO1FBRUE7UUFHRixNQUFNLFlBQXVCO1lBQzNCLFlBQVk7WUFDWjtZQUNBO1lBQ0E7WUFDQSxZQUFZO1lBQ1o7WUFDQTtZQUNBO1FBQ0Y7UUFDQSxLQUFLLFVBQVUsSUFBSSxTQUFTO1FBSzVCLElBQ0UsQ0FBQyxDQUFDLEtBQUssZ0JBQWdCLHdCQUF3QixtQkFBbUIsS0FDbEUsS0FBSywyQ0FBMkMsUUFDaEQ7WUFDQSxLQUFLLHlDQUF5QyxXQUM1QyxJQUFNLEtBQUssa0NBQWtDLEdBQzdDO1FBRUo7UUFFQSxNQUFNLG1CQUVGO1lBQ0YsYUFBYTtnQkFDWCxJQUFJLEtBQUssUUFBUTtvQkFFZjtnQkFDRjtnQkFDQSxLQUFLLFVBQVUsT0FBTyxTQUFTO2dCQUMvQixZQUFZO1lBQ2Q7WUFDQSxpQkFBaUI7Z0JBQ2YsTUFBTSxTQUFTLEtBQUssZ0JBQWdCLGlCQUNsQywrREFBZSxDQUFDLEtBQUssR0FDckIsTUFDQTtnQkFHRixPQUFPO1lBR1Q7WUFDQSxjQUFjLElBQU0sQ0FBQztRQUN2QjtRQUNBLE1BQU0sTUFBTSxpQkFBaUI7UUFHN0IsT0FBTyxPQUFPLEtBQUssZ0JBQWdCO1FBQ25DLE9BQU87SUFDVDtJQUFBO0lBQUE7SUFJUSxvQ0FBb0M7UUFDMUMsS0FBSyx5Q0FBeUM7UUFDOUMsS0FBSyxZQUFZO1lBQUUsU0FBUyxDQUFDO1lBQUcsa0JBQWtCLENBQUM7UUFBRSxHQUFHLElBQUk7SUFDOUQ7SUFFUSxpQkFBaUIsWUFBaUM7UUFDeEQsT0FBTyxLQUFLLE9BQU8sMkJBQTJCLFVBQVU7SUFDMUQ7SUFFUSw0QkFBK0M7UUFDckQsTUFBTSxzQkFBdUIsS0FBTyxDQUFEO1FBQ25DLE1BQU0sbUJBQXdEO1lBQzVELGFBQWE7WUFDYixpQkFBaUIsSUFBTTtZQUN2QixjQUFjLElBQU07UUFDdEI7UUFDQSxPQUFPLE9BQU8scUJBQXFCLGdCQUFnQjtRQUNuRCxPQUFPO0lBQ1Q7SUFFQSxNQUFNLFFBQVE7UUFDWixJQUFJLEtBQUssU0FBVTtRQUVuQixLQUFLLFVBQVUsTUFBTTtRQUNyQixLQUFLLFVBQVU7UUFDZixJQUFJLEtBQUssa0JBQWtCO1lBQ3pCLEtBQUssbUJBQW1CO1FBQzFCO1FBQ0EsT0FBTyxLQUFLLE9BQU8sTUFBTTtJQUMzQjtJQUFBOztHQUFBLEdBS0EsVUFBdUU7UUFDckUsSUFBSSxLQUFLLFNBQVU7UUFDbkIsT0FBTyxLQUFLLE9BQU8scUJBQXFCO0lBQzFDO0lBQUE7Ozs7Ozs7R0FBQSxHQVVBLFFBQ0UsWUFDQSxVQUNBO1FBQ0EsSUFBSSxLQUFLLFNBQVU7UUFDbkIsS0FBSyxPQUFPLFFBQ1YsaUNBQ0EsaUNBQ0csS0FFRCxDQUZPO0lBSWI7SUFBQTs7R0FBQSxHQUtBLGFBQWEsT0FBZSxVQUFtQztRQUM3RCxJQUFJLEtBQUssUUFBUTtZQUNmLE1BQU0sSUFBSSxNQUFNLHVDQUF1QztRQUN6RDtRQUNBLElBQUksS0FBSyxTQUFVO1FBQ25CLEtBQUssT0FBTyxhQUFhLE9BQU8sUUFBUTtJQUMxQztJQUFBOztHQUFBLEdBS0EsaUJBSUUsRUFFQTtjQUpFLFNBQ0Esa0JBQ0YsR0FIQSxPQUlBLG9GQUFtQjtRQUVuQixNQUFNLGlCQUFpQjtlQUNsQixRQUFRLElBQUksQ0FBQyxJQUFNLEVBQUUsS0FBSztlQUMxQixpQkFBaUIsSUFBSSxDQUFDLElBQU0sRUFBRSxLQUFLO1NBQ3hDO1FBS0EsV0FBVyxhQUFhLEtBQUssVUFBVztZQUN0QyxNQUFNLEVBQUUsVUFBVSxZQUFZLFNBQVMsV0FBVyxJQUFJO1lBQ3RELE1BQU0sbUJBQW1CLHdGQUErQixDQUFDLFVBQVU7WUFJbkUsTUFBTSxpQkFBaUIsbUJBQ25CLENBQUMsQ0FBQyxLQUFLLGdCQUFnQix3QkFBd0IsVUFBVSxJQUN6RCxLQUFLLE9BQU8sMkJBQTJCLFVBQVU7WUFFckQsSUFDRSxlQUFlLFNBQVMsVUFBVSxLQUNqQyxvQkFBb0IsQ0FBQyxjQUFjLGdCQUNwQztnQkFDQSxVQUFVLGFBQWE7Z0JBQ3ZCLElBQUk7Z0JBQ0osSUFBSTtvQkFDRixJQUFJLGtCQUFrQjt3QkFDcEIsV0FBVyxLQUFLLGdCQUFnQix3QkFBd0IsVUFBVTtvQkFDcEUsT0FBTzt3QkFDTCxXQUFXLEtBQUssT0FBTyx3QkFBd0IsVUFBVTtvQkFDM0Q7Z0JBQ0YsU0FBUyxPQUFPO29CQUNkLElBQUksQ0FBRSxrQkFBaUIsUUFBUSxNQUFNO29CQUNyQyxJQUFJLFNBQVM7d0JBQ1gsUUFDRSxPQUNBO29CQUVKLE9BQU87d0JBRUwsS0FBSyxRQUFRLE9BQU8sS0FBSztvQkFDM0I7b0JBQ0E7Z0JBQ0Y7Z0JBQ0EsU0FDRSxVQUNBO1lBRUo7UUFDRjtJQUNGO0lBQUE7Ozs7Ozs7O0dBQUEsR0FXQSxNQUFNLFNBQ0osVUFDQSxNQUNBLFNBQ2dEO1FBQ2hELElBQUksS0FBSyxTQUFVLE9BQU0sSUFBSSxNQUFNLDBCQUEwQjtRQUM3RCxPQUFPLE1BQU0sS0FBSyxPQUFPLFNBQVMsK0RBQWUsQ0FBQyxRQUFRLEdBQUcsTUFBTSxPQUFPO0lBQzVFO0lBQUE7Ozs7Ozs7R0FBQSxHQVVBLE1BQU0sT0FDSixRQUNBLE1BQzhDO1FBQzlDLElBQUksS0FBSyxTQUFVLE9BQU0sSUFBSSxNQUFNLDBCQUEwQjtRQUM3RCxPQUFPLE1BQU0sS0FBSyxPQUFPLE9BQU8sK0RBQWUsQ0FBQyxNQUFNLEdBQUcsSUFBSTtJQUMvRDtJQUFBOzs7Ozs7O0dBQUEsR0FVQSxNQUFNLE1BQ0osT0FDQSxNQUN3QztRQUN4QyxJQUFJLEtBQUssU0FBVSxPQUFNLElBQUksTUFBTSwwQkFBMEI7UUFDN0QsTUFBTSxRQUFRLEtBQUssT0FBTyxpQkFBaUIsK0RBQWUsQ0FBQyxLQUFLLEdBQUcsSUFBSTtRQUd2RSxJQUFJLFVBQVUsT0FBVyxRQUFPLFFBQVEsUUFBUSxLQUFLO1FBRXJELE9BQU8sSUFBSSxRQUFRLENBQUMsU0FBUztZQUMzQixNQUFNLEVBQUUsWUFBWSxJQUFJLEtBQUssU0FDM0IsT0FDQSxNQUNBLENBQUNBO2dCQUNDLFlBQVk7Z0JBQ1osUUFBUUEsTUFBSztZQUNmLEdBQ0EsQ0FBQztnQkFDQyxZQUFZO2dCQUNaLE9BQU8sQ0FBQztZQUNWO1FBRUosQ0FBQztJQUNIO0lBQUE7Ozs7O0dBQUEsR0FRQSxrQkFBbUM7UUFDakMsSUFBSSxLQUFLLFNBQVUsT0FBTSxJQUFJLE1BQU0sMEJBQTBCO1FBQzdELE9BQU8sS0FBSyxPQUFPLGdCQUFnQjtJQUNyQztJQUFBOzs7Ozs7Ozs7R0FBQSxHQVlBLDJCQUNFLElBQ1k7UUFDWixJQUFJLEtBQUssU0FBVSxRQUFPLEtBQU8sQ0FBRDtRQUNoQyxPQUFPLEtBQUssT0FBTywyQkFBMkIsRUFBRTtJQUNsRDtJQTFld0I7Ozs7R0FBQSxHQW9DeEIsWUFBWSxTQUFpQixVQUErQixDQUFDLEVBQUc7UUFuQ2hFLG9CQUFRO1FBQ1Isb0JBQVE7UUFDUixvQkFBUTtRQUVSO1FBQUEsb0JBQVE7UUFHUixvQkFBUTtRQUNSLG9CQUFRO1FBNEJOLElBQUksUUFBUSxpQ0FBaUMsTUFBTTtZQUNqRCx1RUFBcUIsQ0FBQyxPQUFPO1FBQy9CO1FBQ0EsTUFBTSxFQUFFLFVBQVUsR0FBRyxZQUFZLElBQUk7UUFDckMsS0FBSyxVQUFVO1FBQ2YsS0FBSyxZQUFZLENBQUMsQ0FBQztRQUNuQixJQUNFLCtCQUNBLEVBQUUsMEJBQTBCLGdCQUM1QixPQUFPLGNBQWMsYUFDckI7WUFDQSxZQUFZLHVCQUF1QjtRQUNyQztRQUNBLElBQ0UsT0FBTyxXQUFXLGVBQ2xCLEVBQUUsMkJBQTJCLGNBQzdCO1lBQ0EsWUFBWSx3QkFBd0I7UUFDdEM7UUFDQSxJQUFJLENBQUMsS0FBSyxVQUFVO1lBQ2xCLEtBQUssVUFBVSxJQUFJLHVEQUFnQixDQUNqQyxTQUNBLEtBQU8sQ0FBRCxFQUFDO1lBQ1A7WUFFRixLQUFLLG1CQUFtQixJQUFJLGlGQUFvQixDQUM5QyxLQUFLLFNBQ0wsQ0FBQyxhQUFlLEtBQUssWUFBWSxVQUFVO1FBRS9DO1FBQ0EsS0FBSyxZQUFZLG9CQUFJLElBQUk7SUFDM0I7QUF1YUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBCYXNlQ29udmV4Q2xpZW50LFxuICBCYXNlQ29udmV4Q2xpZW50T3B0aW9ucyxcbiAgTXV0YXRpb25PcHRpb25zLFxuICBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICBRdWVyeVRva2VuLFxuICBVc2VySWRlbnRpdHlBdHRyaWJ1dGVzLFxufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgRnVuY3Rpb25BcmdzLFxuICBGdW5jdGlvblJlZmVyZW5jZSxcbiAgRnVuY3Rpb25SZXR1cm5UeXBlLFxuICBQYWdpbmF0aW9uUmVzdWx0LFxufSBmcm9tIFwiLi4vc2VydmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgQXV0aFRva2VuRmV0Y2hlciB9IGZyb20gXCIuL3N5bmMvYXV0aGVudGljYXRpb25fbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdGlvblN0YXRlIH0gZnJvbSBcIi4vc3luYy9jbGllbnQuanNcIjtcbmltcG9ydCB7XG4gIEV4dGVuZGVkVHJhbnNpdGlvbixcbiAgUGFnaW5hdGVkUXVlcnlDbGllbnQsXG59IGZyb20gXCIuL3N5bmMvcGFnaW5hdGVkX3F1ZXJ5X2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgUGFnaW5hdGVkUXVlcnlSZXN1bHQgfSBmcm9tIFwiLi9zeW5jL3BhZ2luYXRpb24uanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZWRRdWVyeVRva2VuSXNQYWdpbmF0ZWQgfSBmcm9tIFwiLi9zeW5jL3VkZl9wYXRoX3V0aWxzLmpzXCI7XG5cbi8vIEluIE5vZGUuanMgYnVpbGRzIHRoaXMgcG9pbnRzIHRvIGEgYnVuZGxlZCBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24uIElmIG5vXG4vLyBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24gaXMgbWFudWFsbHkgc3BlY2lmaWVkIG9yIGdsb2JhbGx5IGF2YWlsYWJsZSxcbi8vIHRoaXMgb25lIGlzIHVzZWQuXG5sZXQgZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yOiB0eXBlb2YgV2ViU29ja2V0IHwgdW5kZWZpbmVkO1xuXG4vKiogaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3Iod3M6IHR5cGVvZiBXZWJTb2NrZXQpIHtcbiAgZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yID0gd3M7XG59XG5cbmV4cG9ydCB0eXBlIENvbnZleENsaWVudE9wdGlvbnMgPSBCYXNlQ29udmV4Q2xpZW50T3B0aW9ucyAmIHtcbiAgLyoqXG4gICAqIGBkaXNhYmxlZGAgbWFrZXMgb25VcGRhdGUgY2FsbGJhY2sgcmVnaXN0cmF0aW9uIGEgbm8tb3AgYW5kIGFjdGlvbnMsXG4gICAqIG11dGF0aW9ucyBhbmQgb25lLXNob3QgcXVlcmllcyB0aHJvdy4gU2V0dGluZyBkaXNhYmxlZCB0byB0cnVlIG1heSBiZVxuICAgKiB1c2VmdWwgZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZywgd2hlcmUgc3Vic2NyaXB0aW9ucyBkb24ndCBtYWtlIHNlbnNlLlxuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciB0byBwcm9tcHQgdXNlcnMgaW4gYnJvd3NlcnMgYWJvdXQgcXVldWVkIG9yIGluLWZsaWdodCBtdXRhdGlvbnMuXG4gICAqIFRoaXMgb25seSB3b3JrcyBpbiBlbnZpcm9ubWVudHMgd2hlcmUgYHdpbmRvdy5vbmJlZm9yZXVubG9hZGAgaXMgYXZhaWxhYmxlLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byB0cnVlIHdoZW4gYHdpbmRvd2AgaXMgZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgdW5zYXZlZENoYW5nZXNXYXJuaW5nPzogYm9vbGVhbjtcbn07XG5cbi8qKlxuICogU3RvcHMgY2FsbGJhY2tzIGZyb20gcnVubmluZy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFVuc3Vic2NyaWJlPFQ+ID0ge1xuICAvKiogU3RvcCBjYWxsaW5nIGNhbGxiYWNrIHdoZW4gcXVlcnkgcmVzdWx0cyBjaGFuZ2VzLiBJZiB0aGlzIGlzIHRoZSBsYXN0IGxpc3RlbmVyIG9uIHRoaXMgcXVlcnksIHN0b3AgcmVjZWl2ZWQgdXBkYXRlcy4gKi9cbiAgKCk6IHZvaWQ7XG4gIC8qKiBTdG9wIGNhbGxpbmcgY2FsbGJhY2sgd2hlbiBxdWVyeSByZXN1bHRzIGNoYW5nZXMuIElmIHRoaXMgaXMgdGhlIGxhc3QgbGlzdGVuZXIgb24gdGhpcyBxdWVyeSwgc3RvcCByZWNlaXZlZCB1cGRhdGVzLiAqL1xuICB1bnN1YnNjcmliZSgpOiB2b2lkO1xuICAvKiogR2V0IHRoZSBsYXN0IGtub3duIHZhbHVlLCBwb3NzaWJseSB3aXRoIGxvY2FsIG9wdGltaXN0aWMgdXBkYXRlcyBhcHBsaWVkLiAqL1xuICBnZXRDdXJyZW50VmFsdWUoKTogVCB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXRRdWVyeUxvZ3MoKTogc3RyaW5nW10gfCB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZXMgdG8gQ29udmV4IHF1ZXJ5IGZ1bmN0aW9ucyBhbmQgZXhlY3V0ZXMgbXV0YXRpb25zIGFuZCBhY3Rpb25zIG92ZXIgYSBXZWJTb2NrZXQuXG4gKlxuICogT3B0aW1pc3RpYyB1cGRhdGVzIGZvciBtdXRhdGlvbnMgYXJlIG5vdCBwcm92aWRlZCBmb3IgdGhpcyBjbGllbnQuXG4gKiBUaGlyZCBwYXJ0eSBjbGllbnRzIG1heSBjaG9vc2UgdG8gd3JhcCB7QGxpbmsgYnJvd3Nlci5CYXNlQ29udmV4Q2xpZW50fSBmb3IgYWRkaXRpb25hbCBjb250cm9sLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBjbGllbnQgPSBuZXcgQ29udmV4Q2xpZW50KFwiaHR0cHM6Ly9oYXBweS1vdHRlci0xMjMuY29udmV4LmNsb3VkXCIpO1xuICogY29uc3QgdW5zdWJzY3JpYmUgPSBjbGllbnQub25VcGRhdGUoYXBpLm1lc3NhZ2VzLmxpc3QsIHt9LCAobWVzc2FnZXMpID0+IHtcbiAqICAgY29uc29sZS5sb2cobWVzc2FnZXNbMF0uYm9keSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbnZleENsaWVudCB7XG4gIHByaXZhdGUgbGlzdGVuZXJzOiBTZXQ8UXVlcnlJbmZvPjtcbiAgcHJpdmF0ZSBfY2xpZW50OiBCYXNlQ29udmV4Q2xpZW50IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIF9wYWdpbmF0ZWRDbGllbnQ6IFBhZ2luYXRlZFF1ZXJ5Q2xpZW50IHwgdW5kZWZpbmVkO1xuICAvLyBBIHN5bnRoZXRpYyBzZXJ2ZXIgZXZlbnQgdG8gcnVuIGNhbGxiYWNrcyB0aGUgZmlyc3QgdGltZVxuICBwcml2YXRlIGNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyOlxuICAgIHwgUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD5cbiAgICB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBfY2xvc2VkOiBib29sZWFuO1xuICBwcml2YXRlIF9kaXNhYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIE9uY2UgY2xvc2VkIG5vIHJlZ2lzdGVyZWQgY2FsbGJhY2tzIHdpbGwgZmlyZSBhZ2Fpbi5cbiAgICovXG4gIGdldCBjbG9zZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2Nsb3NlZDtcbiAgfVxuICBnZXQgY2xpZW50KCk6IEJhc2VDb252ZXhDbGllbnQge1xuICAgIGlmICh0aGlzLl9jbGllbnQpIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBwYWdpbmF0ZWRDbGllbnQoKTogUGFnaW5hdGVkUXVlcnlDbGllbnQge1xuICAgIGlmICh0aGlzLl9wYWdpbmF0ZWRDbGllbnQpIHJldHVybiB0aGlzLl9wYWdpbmF0ZWRDbGllbnQ7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICB9XG4gIGdldCBkaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgY2xpZW50IGFuZCBpbW1lZGlhdGVseSBpbml0aWF0ZSBhIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwYXNzZWQgYWRkcmVzcy5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzczogc3RyaW5nLCBvcHRpb25zOiBDb252ZXhDbGllbnRPcHRpb25zID0ge30pIHtcbiAgICBpZiAob3B0aW9ucy5za2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrICE9PSB0cnVlKSB7XG4gICAgICB2YWxpZGF0ZURlcGxveW1lbnRVcmwoYWRkcmVzcyk7XG4gICAgfVxuICAgIGNvbnN0IHsgZGlzYWJsZWQsIC4uLmJhc2VPcHRpb25zIH0gPSBvcHRpb25zO1xuICAgIHRoaXMuX2Nsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gISFkaXNhYmxlZDtcbiAgICBpZiAoXG4gICAgICBkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IgJiZcbiAgICAgICEoXCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvclwiIGluIGJhc2VPcHRpb25zKSAmJlxuICAgICAgdHlwZW9mIFdlYlNvY2tldCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICkge1xuICAgICAgYmFzZU9wdGlvbnMud2ViU29ja2V0Q29uc3RydWN0b3IgPSBkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3I7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICEoXCJ1bnNhdmVkQ2hhbmdlc1dhcm5pbmdcIiBpbiBiYXNlT3B0aW9ucylcbiAgICApIHtcbiAgICAgIGJhc2VPcHRpb25zLnVuc2F2ZWRDaGFuZ2VzV2FybmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuX2NsaWVudCA9IG5ldyBCYXNlQ29udmV4Q2xpZW50KFxuICAgICAgICBhZGRyZXNzLFxuICAgICAgICAoKSA9PiB7fSwgLy8gTk9QLCBsZXQgdGhlIHBhZ2luYXRlZCBxdWVyeSBjbGllbnQgZG8gaXQgYWxsXG4gICAgICAgIGJhc2VPcHRpb25zLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3BhZ2luYXRlZENsaWVudCA9IG5ldyBQYWdpbmF0ZWRRdWVyeUNsaWVudChcbiAgICAgICAgdGhpcy5fY2xpZW50LFxuICAgICAgICAodHJhbnNpdGlvbikgPT4gdGhpcy5fdHJhbnNpdGlvbih0cmFuc2l0aW9uKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgYSBjYWxsYmFjayB3aGVuZXZlciBhIG5ldyByZXN1bHQgZm9yIGEgcXVlcnkgaXMgcmVjZWl2ZWQuIFRoZSBjYWxsYmFja1xuICAgKiB3aWxsIHJ1biBzb29uIGFmdGVyIGJlaW5nIHJlZ2lzdGVyZWQgaWYgYSByZXN1bHQgZm9yIHRoZSBxdWVyeSBpcyBhbHJlYWR5XG4gICAqIGluIG1lbW9yeS5cbiAgICpcbiAgICogVGhlIHJldHVybiB2YWx1ZSBpcyBhbiB7QGxpbmsgVW5zdWJzY3JpYmV9IG9iamVjdCB3aGljaCBpcyBib3RoIGEgZnVuY3Rpb25cbiAgICogYW4gYW4gb2JqZWN0IHdpdGggcHJvcGVydGllcy4gQm90aCBvZiB0aGUgcGF0dGVybnMgYmVsb3cgd29yayB3aXRoIHRoaXMgb2JqZWN0OlxuICAgKlxuICAgKmBgYHRzXG4gICAqIC8vIGNhbGwgdGhlIHJldHVybiB2YWx1ZSBhcyBhIGZ1bmN0aW9uXG4gICAqIGNvbnN0IHVuc3Vic2NyaWJlID0gY2xpZW50Lm9uVXBkYXRlKGFwaS5tZXNzYWdlcy5saXN0LCB7fSwgKG1lc3NhZ2VzKSA9PiB7XG4gICAqICAgY29uc29sZS5sb2cobWVzc2FnZXMpO1xuICAgKiB9KTtcbiAgICogdW5zdWJzY3JpYmUoKTtcbiAgICpcbiAgICogLy8gdW5wYWNrIHRoZSByZXR1cm4gdmFsdWUgaW50byBpdHMgcHJvcGVydGllc1xuICAgKiBjb25zdCB7XG4gICAqICAgZ2V0Q3VycmVudFZhbHVlLFxuICAgKiAgIHVuc3Vic2NyaWJlLFxuICAgKiB9ID0gY2xpZW50Lm9uVXBkYXRlKGFwaS5tZXNzYWdlcy5saXN0LCB7fSwgKG1lc3NhZ2VzKSA9PiB7XG4gICAqICAgY29uc29sZS5sb2cobWVzc2FnZXMpO1xuICAgKiB9KTtcbiAgICpgYGBcbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byBydW4gdGhlIHF1ZXJ5IHdpdGguXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgcXVlcnkgcmVzdWx0IHVwZGF0ZXMuXG4gICAqIEBwYXJhbSBvbkVycm9yIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBxdWVyeSByZXN1bHQgdXBkYXRlcyB3aXRoIGFuIGVycm9yLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIGVycm9ycyB3aWxsIGJlIHRocm93biBpbnN0ZWFkIG9mIGNhbGxpbmcgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAcmV0dXJuIGFuIHtAbGluayBVbnN1YnNjcmliZX0gZnVuY3Rpb24gdG8gc3RvcCBjYWxsaW5nIHRoZSBvblVwZGF0ZSBmdW5jdGlvbi5cbiAgICovXG4gIG9uVXBkYXRlPFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gICAgcXVlcnk6IFF1ZXJ5LFxuICAgIGFyZ3M6IEZ1bmN0aW9uQXJnczxRdWVyeT4sXG4gICAgY2FsbGJhY2s6IChyZXN1bHQ6IEZ1bmN0aW9uUmV0dXJuVHlwZTxRdWVyeT4pID0+IHVua25vd24sXG4gICAgb25FcnJvcj86IChlOiBFcnJvcikgPT4gdW5rbm93bixcbiAgKTogVW5zdWJzY3JpYmU8UXVlcnlbXCJfcmV0dXJuVHlwZVwiXT4ge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVEaXNhYmxlZFVuc3Vic2NyaWJlPFF1ZXJ5W1wiX3JldHVyblR5cGVcIl0+KCk7XG4gICAgfVxuXG4gICAgLy8gQmFzZUNvbnZleENsaWVudCB0YWtlcyBjYXJlIG9mIGRlZHVwbGljYXRpbmcgcXVlcmllcyBzdWJzY3JpcHRpb25zLi4uXG4gICAgY29uc3QgeyBxdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5jbGllbnQuc3Vic2NyaWJlKFxuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSxcbiAgICAgIGFyZ3MsXG4gICAgKTtcblxuICAgIC8vIC4uLmJ1dCB3ZSBzdGlsbCBuZWVkIHRvIGJvb2trZWVwIGNhbGxiYWNrcyB0byBhY3R1YWxseSBjYWxsIHRoZW0uXG4gICAgY29uc3QgcXVlcnlJbmZvOiBRdWVyeUluZm8gPSB7XG4gICAgICBxdWVyeVRva2VuLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICBvbkVycm9yLFxuICAgICAgdW5zdWJzY3JpYmUsXG4gICAgICBoYXNFdmVyUnVuOiBmYWxzZSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgYXJncyxcbiAgICAgIHBhZ2luYXRpb25PcHRpb25zOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQocXVlcnlJbmZvKTtcblxuICAgIC8vIElmIHRoZSBjYWxsYmFjayBpcyByZWdpc3RlcmVkIGZvciBhIHF1ZXJ5IHdpdGggYSByZXN1bHQgaW1tZWRpYXRlbHkgYXZhaWxhYmxlXG4gICAgLy8gc2NoZWR1bGUgYSBmYWtlIHRyYW5zaXRpb24gdG8gY2FsbCB0aGUgY2FsbGJhY2sgc29vbiBpbnN0ZWFkIG9mIHdhaXRpbmcgZm9yXG4gICAgLy8gYSBuZXcgc2VydmVyIHVwZGF0ZSAod2hpY2ggY291bGQgdGFrZSBzZWNvbmRzIG9yIGRheXMpLlxuICAgIGlmIChcbiAgICAgIHRoaXMucXVlcnlSZXN1bHRSZWFkeShxdWVyeVRva2VuKSAmJlxuICAgICAgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgKCkgPT4gdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXMoKSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wczogUmVtb3ZlQ2FsbFNpZ25hdHVyZTxcbiAgICAgIFVuc3Vic2NyaWJlPFF1ZXJ5W1wiX3JldHVyblR5cGVcIl0+XG4gICAgPiA9IHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgIC8vIGFsbCB1bnN1YnNjcmliZXMgYWxyZWFkeSByYW5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHF1ZXJ5SW5mbyk7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKSxcbiAgICAgIGdldFF1ZXJ5TG9nczogKCkgPT4gdGhpcy5jbGllbnQubG9jYWxRdWVyeUxvZ3MocXVlcnlUb2tlbiksXG4gICAgfTtcbiAgICBjb25zdCByZXQgPSB1bnN1YnNjcmliZVByb3BzLnVuc3Vic2NyaWJlIGFzIFVuc3Vic2NyaWJlPFxuICAgICAgUXVlcnlbXCJfcmV0dXJuVHlwZVwiXVxuICAgID47XG4gICAgT2JqZWN0LmFzc2lnbihyZXQsIHVuc3Vic2NyaWJlUHJvcHMpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBhIGNhbGxiYWNrIHdoZW5ldmVyIGEgbmV3IHJlc3VsdCBmb3IgYSBwYWdpbmF0ZWQgcXVlcnkgaXMgcmVjZWl2ZWQuXG4gICAqXG4gICAqIFRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIHByZXZpZXc6IHRoZSBmaW5hbCBBUEkgbWF5IGNoYW5nZS5cbiAgICogSW4gcGFydGljdWxhciwgY2FjaGluZyBiZWhhdmlvciwgcGFnZSBzcGxpdHRpbmcsIGFuZCByZXF1aXJlZCBwYWdpbmF0ZWQgcXVlcnkgb3B0aW9uc1xuICAgKiBtYXkgY2hhbmdlLlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5IHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHJ1biB0aGUgcXVlcnkgd2l0aC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgcGFnaW5hdGVkIHF1ZXJ5IGluY2x1ZGluZyBpbml0aWFsTnVtSXRlbXMgYW5kIGlkLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCB1cGRhdGVzLlxuICAgKiBAcGFyYW0gb25FcnJvciAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgcXVlcnkgcmVzdWx0IHVwZGF0ZXMgd2l0aCBhbiBlcnJvci5cbiAgICpcbiAgICogQHJldHVybiBhbiB7QGxpbmsgVW5zdWJzY3JpYmV9IGZ1bmN0aW9uIHRvIHN0b3AgY2FsbGluZyB0aGUgY2FsbGJhY2suXG4gICAqL1xuICBvblBhZ2luYXRlZFVwZGF0ZV9leHBlcmltZW50YWw8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICAgYXJnczogRnVuY3Rpb25BcmdzPFF1ZXJ5PixcbiAgICBvcHRpb25zOiB7IGluaXRpYWxOdW1JdGVtczogbnVtYmVyIH0sXG4gICAgY2FsbGJhY2s6IChyZXN1bHQ6IFBhZ2luYXRpb25SZXN1bHQ8RnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5Pj4pID0+IHVua25vd24sXG4gICAgb25FcnJvcj86IChlOiBFcnJvcikgPT4gdW5rbm93bixcbiAgKTogVW5zdWJzY3JpYmU8UGFnaW5hdGVkUXVlcnlSZXN1bHQ8RnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5PltdPj4ge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVEaXNhYmxlZFVuc3Vic2NyaWJlPFxuICAgICAgICBQYWdpbmF0ZWRRdWVyeVJlc3VsdDxGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+PlxuICAgICAgPigpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgaW5pdGlhbE51bUl0ZW1zOiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICAgIGlkOiAtMSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBwYWdpbmF0ZWRRdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5wYWdpbmF0ZWRDbGllbnQuc3Vic2NyaWJlKFxuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSxcbiAgICAgIGFyZ3MsXG4gICAgICAvLyBTaW1wbGUgY2xpZW50IGRvZXNuJ3QgdXNlIElEcywgdGhlcmUncyBubyBleHBlY3RhdGlvbiB0aGF0IHRoZXNlIHF1ZXJpZXMgcmVtYWluIHNlcGFyYXRlLlxuICAgICAgcGFnaW5hdGlvbk9wdGlvbnMsXG4gICAgKTtcblxuICAgIGNvbnN0IHF1ZXJ5SW5mbzogUXVlcnlJbmZvID0ge1xuICAgICAgcXVlcnlUb2tlbjogcGFnaW5hdGVkUXVlcnlUb2tlbixcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgb25FcnJvcixcbiAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgaGFzRXZlclJ1bjogZmFsc2UsXG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3MsXG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyxcbiAgICB9O1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChxdWVyeUluZm8pO1xuXG4gICAgLy8gSWYgdGhlIGNhbGxiYWNrIGlzIHJlZ2lzdGVyZWQgZm9yIGEgcXVlcnkgd2l0aCBhIHJlc3VsdCBpbW1lZGlhdGVseSBhdmFpbGFibGVcbiAgICAvLyBzY2hlZHVsZSBhIGZha2UgdHJhbnNpdGlvbiB0byBjYWxsIHRoZSBjYWxsYmFjayBzb29uIGluc3RlYWQgb2Ygd2FpdGluZyBmb3JcbiAgICAvLyBhIG5ldyBzZXJ2ZXIgdXBkYXRlICh3aGljaCBjb3VsZCB0YWtlIHNlY29uZHMgb3IgZGF5cykuXG4gICAgaWYgKFxuICAgICAgISF0aGlzLnBhZ2luYXRlZENsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihwYWdpbmF0ZWRRdWVyeVRva2VuKSAmJlxuICAgICAgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgKCkgPT4gdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXMoKSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wczogUmVtb3ZlQ2FsbFNpZ25hdHVyZTxcbiAgICAgIFVuc3Vic2NyaWJlPFBhZ2luYXRlZFF1ZXJ5UmVzdWx0PEZ1bmN0aW9uUmV0dXJuVHlwZTxRdWVyeT5bXT4+XG4gICAgPiA9IHtcbiAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgIC8vIGFsbCB1bnN1YnNjcmliZXMgYWxyZWFkeSByYW5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHF1ZXJ5SW5mbyk7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGFnaW5hdGVkQ2xpZW50LmxvY2FsUXVlcnlSZXN1bHQoXG4gICAgICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSxcbiAgICAgICAgICBhcmdzLFxuICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zLFxuICAgICAgICApO1xuICAgICAgICAvLyBjYXN0IHRvIGFwcGx5IHRoZSBzcGVjaWZpYyBmdW5jdGlvbiB0eXBlXG4gICAgICAgIHJldHVybiByZXN1bHQgYXNcbiAgICAgICAgICB8IFBhZ2luYXRlZFF1ZXJ5UmVzdWx0PEZ1bmN0aW9uUmV0dXJuVHlwZTxRdWVyeT4+XG4gICAgICAgICAgfCB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgICAgZ2V0UXVlcnlMb2dzOiAoKSA9PiBbXSwgLy8gUGFnaW5hdGVkIHF1ZXJpZXMgZG9uJ3QgYWdncmVnYXRlIHRoZWlyIGxvZ3NcbiAgICB9O1xuICAgIGNvbnN0IHJldCA9IHVuc3Vic2NyaWJlUHJvcHMudW5zdWJzY3JpYmUgYXMgVW5zdWJzY3JpYmU8XG4gICAgICBQYWdpbmF0ZWRRdWVyeVJlc3VsdDxGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+PlxuICAgID47XG4gICAgT2JqZWN0LmFzc2lnbihyZXQsIHVuc3Vic2NyaWJlUHJvcHMpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBSdW4gYWxsIGNhbGxiYWNrcyB0aGF0IGhhdmUgbmV2ZXIgYmVlbiBydW4gYmVmb3JlIGlmIHRoZXkgaGF2ZSBhIHF1ZXJ5XG4gIC8vIHJlc3VsdCBhdmFpbGFibGUgbm93LlxuICBwcml2YXRlIGNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlcygpIHtcbiAgICB0aGlzLmNhbGxOZXdMaXN0ZW5lcnNXaXRoQ3VycmVudFZhbHVlc1RpbWVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3RyYW5zaXRpb24oeyBxdWVyaWVzOiBbXSwgcGFnaW5hdGVkUXVlcmllczogW10gfSwgdHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIHF1ZXJ5UmVzdWx0UmVhZHkocXVlcnlUb2tlbjogUXVlcnlUb2tlbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5oYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRGlzYWJsZWRVbnN1YnNjcmliZTxUPigpOiBVbnN1YnNjcmliZTxUPiB7XG4gICAgY29uc3QgZGlzYWJsZWRVbnN1YnNjcmliZSA9ICgoKSA9PiB7fSkgYXMgVW5zdWJzY3JpYmU8VD47XG4gICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wczogUmVtb3ZlQ2FsbFNpZ25hdHVyZTxVbnN1YnNjcmliZTxUPj4gPSB7XG4gICAgICB1bnN1YnNjcmliZTogZGlzYWJsZWRVbnN1YnNjcmliZSxcbiAgICAgIGdldEN1cnJlbnRWYWx1ZTogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgZ2V0UXVlcnlMb2dzOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKGRpc2FibGVkVW5zdWJzY3JpYmUsIHVuc3Vic2NyaWJlUHJvcHMpO1xuICAgIHJldHVybiBkaXNhYmxlZFVuc3Vic2NyaWJlO1xuICB9XG5cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICAvLyBwcmV2ZW50IHBlbmRpbmcgdXBkYXRlc1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fcGFnaW5hdGVkQ2xpZW50KSB7XG4gICAgICB0aGlzLl9wYWdpbmF0ZWRDbGllbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBKV1QgYXV0aCB0b2tlbiBhbmQgZGVjb2RlZCBjbGFpbXMuXG4gICAqL1xuICBnZXRBdXRoKCk6IHsgdG9rZW46IHN0cmluZzsgZGVjb2RlZDogUmVjb3JkPHN0cmluZywgYW55PiB9IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXRDdXJyZW50QXV0aENsYWltcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYXV0aGVudGljYXRpb24gdG9rZW4gdG8gYmUgdXNlZCBmb3Igc3Vic2VxdWVudCBxdWVyaWVzIGFuZCBtdXRhdGlvbnMuXG4gICAqIGBmZXRjaFRva2VuYCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGFnYWluIGlmIGEgdG9rZW4gZXhwaXJlcy5cbiAgICogYGZldGNoVG9rZW5gIHNob3VsZCByZXR1cm4gYG51bGxgIGlmIHRoZSB0b2tlbiBjYW5ub3QgYmUgcmV0cmlldmVkLCBmb3IgZXhhbXBsZVxuICAgKiB3aGVuIHRoZSB1c2VyJ3MgcmlnaHRzIHdlcmUgcGVybWFuZW50bHkgcmV2b2tlZC5cbiAgICogQHBhcmFtIGZldGNoVG9rZW4gLSBhbiBhc3luYyBmdW5jdGlvbiByZXR1cm5pbmcgdGhlIEpXVCAodHlwaWNhbGx5IGFuIE9wZW5JRCBDb25uZWN0IElkZW50aXR5IFRva2VuKVxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoXG4gICAgZmV0Y2hUb2tlbjogQXV0aFRva2VuRmV0Y2hlcixcbiAgICBvbkNoYW5nZT86IChpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgdGhpcy5jbGllbnQuc2V0QXV0aChcbiAgICAgIGZldGNoVG9rZW4sXG4gICAgICBvbkNoYW5nZSA/P1xuICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEFkbWluQXV0aCh0b2tlbjogc3RyaW5nLCBpZGVudGl0eT86IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgdGhpcy5jbGllbnQuc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfdHJhbnNpdGlvbihcbiAgICB7XG4gICAgICBxdWVyaWVzLFxuICAgICAgcGFnaW5hdGVkUXVlcmllcyxcbiAgICB9OiBQaWNrPEV4dGVuZGVkVHJhbnNpdGlvbiwgXCJxdWVyaWVzXCIgfCBcInBhZ2luYXRlZFF1ZXJpZXNcIj4sXG4gICAgY2FsbE5ld0xpc3RlbmVycyA9IGZhbHNlLFxuICApIHtcbiAgICBjb25zdCB1cGRhdGVkUXVlcmllcyA9IFtcbiAgICAgIC4uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKSxcbiAgICAgIC4uLnBhZ2luYXRlZFF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKSxcbiAgICBdO1xuXG4gICAgLy8gRGVkdXBpbmcgc3Vic2NyaXB0aW9ucyBoYXBwZW5zIGluIHRoZSBCYXNlQ29udmV4Q2xpZW50LCBzbyBub3QgbXVjaCB0byBkbyBoZXJlLlxuXG4gICAgLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIGluIHRoZSBvcmRlciB0aGV5IHdlcmUgcmVnaXN0ZXJlZFxuICAgIGZvciAoY29uc3QgcXVlcnlJbmZvIG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICBjb25zdCB7IGNhbGxiYWNrLCBxdWVyeVRva2VuLCBvbkVycm9yLCBoYXNFdmVyUnVuIH0gPSBxdWVyeUluZm87XG4gICAgICBjb25zdCBpc1BhZ2luYXRlZFF1ZXJ5ID0gc2VyaWFsaXplZFF1ZXJ5VG9rZW5Jc1BhZ2luYXRlZChxdWVyeVRva2VuKTtcblxuICAgICAgLy8gV2hhdCBkb2VzIGl0IG1lYW4gdG8gaGF2ZSBhIHBhZ2luYXRlZCBxdWVyeSByZXN1bHQgcmVhZHk/IEkgdGhpbmsgaXQnc1xuICAgICAgLy8gYWx3YXlzIGdvaW5nIHRvIGZpcmUgaW1tZWRpYXRlbHkuXG4gICAgICBjb25zdCBoYXNSZXN1bHRSZWFkeSA9IGlzUGFnaW5hdGVkUXVlcnlcbiAgICAgICAgPyAhIXRoaXMucGFnaW5hdGVkQ2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pXG4gICAgICAgIDogdGhpcy5jbGllbnQuaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG5cbiAgICAgIGlmIChcbiAgICAgICAgdXBkYXRlZFF1ZXJpZXMuaW5jbHVkZXMocXVlcnlUb2tlbikgfHxcbiAgICAgICAgKGNhbGxOZXdMaXN0ZW5lcnMgJiYgIWhhc0V2ZXJSdW4gJiYgaGFzUmVzdWx0UmVhZHkpXG4gICAgICApIHtcbiAgICAgICAgcXVlcnlJbmZvLmhhc0V2ZXJSdW4gPSB0cnVlO1xuICAgICAgICBsZXQgbmV3VmFsdWU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGlzUGFnaW5hdGVkUXVlcnkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5wYWdpbmF0ZWRDbGllbnQubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5jbGllbnQubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcihcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIFwiU2Vjb25kIGFyZ3VtZW50IHRvIG9uVXBkYXRlIG9uRXJyb3IgaXMgcmVzZXJ2ZWQgZm9yIGxhdGVyIHVzZVwiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzb21lIG5vaXNlIHdpdGhvdXQgdW5zdWJzY3JpYmluZyBvciBmYWlsaW5nIHRvIGNhbGwgb3RoZXIgY2FsbGJhY2tzLlxuICAgICAgICAgICAgdm9pZCBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIFwiU2Vjb25kIGFyZ3VtZW50IHRvIG9uVXBkYXRlIGNhbGxiYWNrIGlzIHJlc2VydmVkIGZvciBsYXRlciB1c2VcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb24gLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIG11dGF0aW9uXG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgTXV0YXRpb25PcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIG11dGF0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgbXV0YXRpb248TXV0YXRpb24gZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcIm11dGF0aW9uXCI+PihcbiAgICBtdXRhdGlvbjogTXV0YXRpb24sXG4gICAgYXJnczogRnVuY3Rpb25BcmdzPE11dGF0aW9uPixcbiAgICBvcHRpb25zPzogTXV0YXRpb25PcHRpb25zLFxuICApOiBQcm9taXNlPEF3YWl0ZWQ8RnVuY3Rpb25SZXR1cm5UeXBlPE11dGF0aW9uPj4+IHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5tdXRhdGlvbihnZXRGdW5jdGlvbk5hbWUobXV0YXRpb24pLCBhcmdzLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIGFuIGFjdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGFjdGlvbiAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgYWN0aW9uXG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgYWN0aW9uLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGFjdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGFjdGlvbjxBY3Rpb24gZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcImFjdGlvblwiPj4oXG4gICAgYWN0aW9uOiBBY3Rpb24sXG4gICAgYXJnczogRnVuY3Rpb25BcmdzPEFjdGlvbj4sXG4gICk6IFByb21pc2U8QXdhaXRlZDxGdW5jdGlvblJldHVyblR5cGU8QWN0aW9uPj4+IHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5hY3Rpb24oZ2V0RnVuY3Rpb25OYW1lKGFjdGlvbiksIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGEgcXVlcnkgcmVzdWx0IG9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnlcbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBxdWVyeSdzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIHF1ZXJ5PFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gICAgcXVlcnk6IFF1ZXJ5LFxuICAgIGFyZ3M6IFF1ZXJ5W1wiX2FyZ3NcIl0sXG4gICk6IFByb21pc2U8QXdhaXRlZDxRdWVyeVtcIl9yZXR1cm5UeXBlXCJdPj4ge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhDbGllbnQgaXMgZGlzYWJsZWRcIik7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0KGdldEZ1bmN0aW9uTmFtZShxdWVyeSksIGFyZ3MpIGFzXG4gICAgICB8IEF3YWl0ZWQ8UXVlcnlbXCJfcmV0dXJuVHlwZVwiXT5cbiAgICAgIHwgdW5kZWZpbmVkO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7IHVuc3Vic2NyaWJlIH0gPSB0aGlzLm9uVXBkYXRlKFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGU6IEVycm9yKSA9PiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZC5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBDb25uZWN0aW9uU3RhdGV9IHdpdGggdGhlIENvbnZleCBiYWNrZW5kLlxuICAgKi9cbiAgY29ubmVjdGlvblN0YXRlKCk6IENvbm5lY3Rpb25TdGF0ZSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuY29ubmVjdGlvblN0YXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZCwgY2FsbGluZyBhIGNhbGxiYWNrIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBTdWJzY3JpYmVkIGNhbGxiYWNrcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBwYXJ0IG9mIENvbm5lY3Rpb25TdGF0ZSBjaGFuZ2VzLlxuICAgKiBDb25uZWN0aW9uU3RhdGUgbWF5IGdyb3cgaW4gZnV0dXJlIHZlcnNpb25zIChlLmcuIHRvIHByb3ZpZGUgYSBhcnJheSBvZlxuICAgKiBpbmZsaWdodCByZXF1ZXN0cykgaW4gd2hpY2ggY2FzZSBjYWxsYmFja3Mgd291bGQgYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdG8gc3RvcCBsaXN0ZW5pbmcuXG4gICAqL1xuICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShcbiAgICBjYjogKGNvbm5lY3Rpb25TdGF0ZTogQ29ubmVjdGlvblN0YXRlKSA9PiB2b2lkLFxuICApOiAoKSA9PiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuICgpID0+IHt9O1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5zdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShjYik7XG4gIH1cbn1cblxuLy8gaW50ZXJuYWwgaW5mb3JtYXRpb24gdHJhY2tlZCBhYm91dCBlYWNoIHJlZ2lzdGVyZWQgY2FsbGJhY2tcbnR5cGUgUXVlcnlJbmZvID0ge1xuICBjYWxsYmFjazogKHJlc3VsdDogYW55LCBtZXRhOiB1bmtub3duKSA9PiB1bmtub3duO1xuICBvbkVycm9yOiAoKGU6IEVycm9yLCBtZXRhOiB1bmtub3duKSA9PiB1bmtub3duKSB8IHVuZGVmaW5lZDtcbiAgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQ7XG4gIHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW4gfCBQYWdpbmF0ZWRRdWVyeVRva2VuO1xuICBoYXNFdmVyUnVuOiBib29sZWFuO1xuICAvLyBxdWVyeSwgYXJncyBhbmQgcGFnaW5hdGlvbk9wdGlvbnMgYXJlIGp1c3QgaGVyZSBmb3IgZGVidWdnaW5nLCB0aGUgcXVlcnlUb2tlbiBpcyBhdXRob3JpdGF0aXZlXG4gIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+O1xuICBhcmdzOiBhbnk7XG4gIHBhZ2luYXRpb25PcHRpb25zOiB7IGluaXRpYWxOdW1JdGVtczogbnVtYmVyOyBpZDogbnVtYmVyIH0gfCB1bmRlZmluZWQ7XG59O1xuXG4vLyBoZWxwcyB0byBjb25zdHJ1Y3Qgb2JqZWN0cyB3aXRoIGEgY2FsbCBzaWduYXR1cmVcbnR5cGUgUmVtb3ZlQ2FsbFNpZ25hdHVyZTxUPiA9IE9taXQ8VCwgbmV2ZXI+O1xuIl0sIm5hbWVzIjpbInZhbHVlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/simple_client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/authentication_manager.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationManager: () => (/* binding */ AuthenticationManager)\n/* harmony export */ });\n/* harmony import */ var _vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/jwt-decode/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst MAXIMUM_REFRESH_DELAY = 20 * 24 * 60 * 60 * 1e3;\nconst MAX_TOKEN_CONFIRMATION_ATTEMPTS = 2;\nclass AuthenticationManager {\n    async setConfig(fetchToken, onChange) {\n        this.resetAuthState();\n        this._logVerbose(\"pausing WS for auth token fetch\");\n        this.pauseSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(fetchToken, {\n            forceRefreshToken: false\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfCachedToken\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                },\n                hasRetried: false\n            });\n            this.authenticate(token.value);\n        } else {\n            this.setAuthState({\n                state: \"initialRefetch\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                }\n            });\n            await this.refetchToken();\n        }\n        this._logVerbose(\"resuming WS after auth token fetch\");\n        this.resumeSocket();\n    }\n    onTransition(serverMessage) {\n        if (!this.syncState.isCurrentOrNewerAuthVersion(serverMessage.endVersion.identity)) {\n            return;\n        }\n        if (serverMessage.endVersion.identity <= serverMessage.startVersion.identity) {\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfCachedToken\") {\n            this._logVerbose(\"server confirmed auth token is valid\");\n            void this.refetchToken();\n            this.authState.config.onAuthChange(true);\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this._logVerbose(\"server confirmed new auth token is valid\");\n            this.scheduleTokenRefetch(this.authState.token);\n            this.tokenConfirmationAttempts = 0;\n            if (!this.authState.hadAuth) {\n                this.authState.config.onAuthChange(true);\n            }\n        }\n    }\n    onAuthError(serverMessage) {\n        if (serverMessage.authUpdateAttempted === false && (this.authState.state === \"waitingForServerConfirmationOfFreshToken\" || this.authState.state === \"waitingForServerConfirmationOfCachedToken\")) {\n            this._logVerbose(\"ignoring non-auth token expired error\");\n            return;\n        }\n        const { baseVersion } = serverMessage;\n        if (!this.syncState.isCurrentOrNewerAuthVersion(baseVersion + 1)) {\n            this._logVerbose(\"ignoring auth error for previous auth attempt\");\n            return;\n        }\n        void this.tryToReauthenticate(serverMessage);\n        return;\n    }\n    // This is similar to `refetchToken` defined below, in fact we\n    // don't represent them as different states, but it is different\n    // in that we pause the WebSocket so that mutations\n    // don't retry with bad auth.\n    async tryToReauthenticate(serverMessage) {\n        this._logVerbose(\"attempting to reauthenticate: \".concat(serverMessage.error));\n        if (// No way to fetch another token, kaboom\n        this.authState.state === \"noAuth\" || // We failed on a fresh token. After a small number of retries, we give up\n        // and clear the auth state to avoid infinite retries.\n        this.authState.state === \"waitingForServerConfirmationOfFreshToken\" && this.tokenConfirmationAttempts >= MAX_TOKEN_CONFIRMATION_ATTEMPTS) {\n            this.logger.error('Failed to authenticate: \"'.concat(serverMessage.error, '\", check your server auth config'));\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            if (this.authState.state !== \"noAuth\") {\n                this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n            }\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this.tokenConfirmationAttempts++;\n            this._logVerbose(\"retrying reauthentication, \".concat(MAX_TOKEN_CONFIRMATION_ATTEMPTS - this.tokenConfirmationAttempts, \" attempts remaining\"));\n        }\n        await this.stopSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value && this.syncState.isNewAuth(token.value)) {\n            this.authenticate(token.value);\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfFreshToken\",\n                config: this.authState.config,\n                token: token.value,\n                hadAuth: this.authState.state === \"notRefetching\" || this.authState.state === \"waitingForScheduledRefetch\"\n            });\n        } else {\n            this._logVerbose(\"reauthentication failed, could not fetch a new token\");\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this.tryRestartSocket();\n    }\n    // Force refetch the token and schedule another refetch\n    // before the token expires - an active client should never\n    // need to reauthenticate.\n    async refetchToken() {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        this._logVerbose(\"refetching auth token\");\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            if (this.syncState.isNewAuth(token.value)) {\n                this.setAuthState({\n                    state: \"waitingForServerConfirmationOfFreshToken\",\n                    hadAuth: this.syncState.hasAuth(),\n                    token: token.value,\n                    config: this.authState.config\n                });\n                this.authenticate(token.value);\n            } else {\n                this.setAuthState({\n                    state: \"notRefetching\",\n                    config: this.authState.config\n                });\n            }\n        } else {\n            this._logVerbose(\"refetching token failed\");\n            if (this.syncState.hasAuth()) {\n                this.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this._logVerbose(\"restarting WS after auth token fetch (if currently stopped)\");\n        this.tryRestartSocket();\n    }\n    scheduleTokenRefetch(token) {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        const decodedToken = this.decodeToken(token);\n        if (!decodedToken) {\n            this.logger.error(\"Auth token is not a valid JWT, cannot refetch the token\");\n            return;\n        }\n        const { iat, exp } = decodedToken;\n        if (!iat || !exp) {\n            this.logger.error(\"Auth token does not have required fields, cannot refetch the token\");\n            return;\n        }\n        const tokenValiditySeconds = exp - iat;\n        if (tokenValiditySeconds <= 2) {\n            this.logger.error(\"Auth token does not live long enough, cannot refetch the token\");\n            return;\n        }\n        let delay = Math.min(MAXIMUM_REFRESH_DELAY, (tokenValiditySeconds - this.refreshTokenLeewaySeconds) * 1e3);\n        if (delay <= 0) {\n            this.logger.warn(\"Refetching auth token immediately, configured leeway \".concat(this.refreshTokenLeewaySeconds, \"s is larger than the token's lifetime \").concat(tokenValiditySeconds, \"s\"));\n            delay = 0;\n        }\n        const refetchTokenTimeoutId = setTimeout(()=>{\n            this._logVerbose(\"running scheduled token refetch\");\n            void this.refetchToken();\n        }, delay);\n        this.setAuthState({\n            state: \"waitingForScheduledRefetch\",\n            refetchTokenTimeoutId,\n            config: this.authState.config\n        });\n        this._logVerbose(\"scheduled preemptive auth token refetching in \".concat(delay, \"ms\"));\n    }\n    // Protects against simultaneous calls to `setConfig`\n    // while we're fetching a token\n    async fetchTokenAndGuardAgainstRace(fetchToken, fetchArgs) {\n        const originalConfigVersion = ++this.configVersion;\n        this._logVerbose(\"fetching token with config version \".concat(originalConfigVersion));\n        const token = await fetchToken(fetchArgs);\n        if (this.configVersion !== originalConfigVersion) {\n            this._logVerbose(\"stale config version, expected \".concat(originalConfigVersion, \", got \").concat(this.configVersion));\n            return {\n                isFromOutdatedConfig: true\n            };\n        }\n        return {\n            isFromOutdatedConfig: false,\n            value: token\n        };\n    }\n    stop() {\n        this.resetAuthState();\n        this.configVersion++;\n        this._logVerbose(\"config version bumped to \".concat(this.configVersion));\n    }\n    setAndReportAuthFailed(onAuthChange) {\n        onAuthChange(false);\n        this.resetAuthState();\n    }\n    resetAuthState() {\n        this.setAuthState({\n            state: \"noAuth\"\n        });\n    }\n    setAuthState(newAuth) {\n        const authStateForLog = newAuth.state === \"waitingForServerConfirmationOfFreshToken\" ? {\n            hadAuth: newAuth.hadAuth,\n            state: newAuth.state,\n            token: \"...\".concat(newAuth.token.slice(-7))\n        } : {\n            state: newAuth.state\n        };\n        this._logVerbose(\"setting auth state to \".concat(JSON.stringify(authStateForLog)));\n        switch(newAuth.state){\n            case \"waitingForScheduledRefetch\":\n            case \"notRefetching\":\n            case \"noAuth\":\n                this.tokenConfirmationAttempts = 0;\n                break;\n            case \"waitingForServerConfirmationOfFreshToken\":\n            case \"waitingForServerConfirmationOfCachedToken\":\n            case \"initialRefetch\":\n                break;\n            default:\n                {\n                    newAuth;\n                }\n        }\n        if (this.authState.state === \"waitingForScheduledRefetch\") {\n            clearTimeout(this.authState.refetchTokenTimeoutId);\n            this.syncState.markAuthCompletion();\n        }\n        this.authState = newAuth;\n    }\n    decodeToken(token) {\n        try {\n            return (0,_vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_0__.jwtDecode)(token);\n        } catch (e) {\n            this._logVerbose(\"Error decoding token: \".concat(e instanceof Error ? e.message : \"Unknown error\"));\n            return null;\n        }\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(\"\".concat(message, \" [v\").concat(this.configVersion, \"]\"));\n    }\n    constructor(syncState, callbacks, config){\n        __publicField(this, \"authState\", {\n            state: \"noAuth\"\n        });\n        // Used to detect races involving `setConfig` calls\n        // while a token is being fetched.\n        __publicField(this, \"configVersion\", 0);\n        // Shared by the BaseClient so that the auth manager can easily inspect it\n        __publicField(this, \"syncState\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"authenticate\");\n        __publicField(this, \"stopSocket\");\n        __publicField(this, \"tryRestartSocket\");\n        __publicField(this, \"pauseSocket\");\n        __publicField(this, \"resumeSocket\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"clearAuth\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"refreshTokenLeewaySeconds\");\n        // Number of times we have attempted to confirm the latest token. We retry up\n        // to `MAX_TOKEN_CONFIRMATION_ATTEMPTS` times.\n        __publicField(this, \"tokenConfirmationAttempts\", 0);\n        this.syncState = syncState;\n        this.authenticate = callbacks.authenticate;\n        this.stopSocket = callbacks.stopSocket;\n        this.tryRestartSocket = callbacks.tryRestartSocket;\n        this.pauseSocket = callbacks.pauseSocket;\n        this.resumeSocket = callbacks.resumeSocket;\n        this.clearAuth = callbacks.clearAuth;\n        this.logger = config.logger;\n        this.refreshTokenLeewaySeconds = config.refreshTokenLeewaySeconds;\n    }\n} //# sourceMappingURL=authentication_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2F1dGhlbnRpY2F0aW9uX21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFHMEI7QUFJMUIsTUFBTSx3QkFBd0IsS0FBSyxLQUFLLEtBQUssS0FBSztBQUVsRCxNQUFNLGtDQUFrQztBQXdFakMsTUFBTSxzQkFBc0I7SUE4Q2pDLE1BQU0sVUFDSixZQUNBLFVBQ0E7UUFDQSxLQUFLLGVBQWU7UUFDcEIsS0FBSyxZQUFZLGlDQUFpQztRQUNsRCxLQUFLLFlBQVk7UUFDakIsTUFBTSxRQUFRLE1BQU0sS0FBSyw4QkFBOEIsWUFBWTtZQUNqRSxtQkFBbUI7UUFDckIsQ0FBQztRQUNELElBQUksTUFBTSxzQkFBc0I7WUFDOUI7UUFDRjtRQUNBLElBQUksTUFBTSxPQUFPO1lBQ2YsS0FBSyxhQUFhO2dCQUNoQixPQUFPO2dCQUNQLFFBQVE7b0JBQUU7b0JBQVksY0FBYztnQkFBUztnQkFDN0MsWUFBWTtZQUNkLENBQUM7WUFDRCxLQUFLLGFBQWEsTUFBTSxLQUFLO1FBQy9CLE9BQU87WUFDTCxLQUFLLGFBQWE7Z0JBQ2hCLE9BQU87Z0JBQ1AsUUFBUTtvQkFBRTtvQkFBWSxjQUFjO2dCQUFTO1lBQy9DLENBQUM7WUFFRCxNQUFNLEtBQUssYUFBYTtRQUMxQjtRQUNBLEtBQUssWUFBWSxvQ0FBb0M7UUFDckQsS0FBSyxhQUFhO0lBQ3BCO0lBRUEsYUFBYSxlQUEyQjtRQUN0QyxJQUNFLENBQUMsS0FBSyxVQUFVLDRCQUNkLGNBQWMsV0FBVyxXQUUzQjtZQUdBO1FBQ0Y7UUFDQSxJQUNFLGNBQWMsV0FBVyxZQUFZLGNBQWMsYUFBYSxVQUNoRTtZQUVBO1FBQ0Y7UUFFQSxJQUFJLEtBQUssVUFBVSxVQUFVLDZDQUE2QztZQUN4RSxLQUFLLFlBQVksc0NBQXNDO1lBQ3ZELEtBQUssS0FBSyxhQUFhO1lBQ3ZCLEtBQUssVUFBVSxPQUFPLGFB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O0lBQ25CO0lBRVEsWUFBWSxPQUFlO1FBQ2pDLElBQUk7WUFDRixPQUFPLHNFQUFTLENBQUMsS0FBSztRQUN4QixTQUFTLEdBQUc7WUFDVixLQUFLLFlBQ0gseUJBQXlFLE9BQWhELGFBQWEsUUFBUSxFQUFFLFVBQVUsZUFBZTtZQUUzRSxPQUFPO1FBQ1Q7SUFDRjtJQUVRLFlBQVksU0FBaUI7UUFDbkMsS0FBSyxPQUFPLFdBQVcsVUFBRyxPQUFPLFNBQXdCLEVBQUcsS0FBckIsS0FBSyxhQUFhO0lBQzNEO0lBMVhBLFlBQ0UsV0FDQSxXQVFBLE9BSUE7UUFqQ0Ysb0JBQVEsYUFBdUI7WUFBRSxPQUFPO1FBQVM7UUFHakQ7UUFBQTtRQUFBLG9CQUFRLGlCQUFnQjtRQUV4QjtRQUFBLG9CQUFpQjtRQUVqQjtRQUFBLG9CQUFpQjtRQUNqQixvQkFBaUI7UUFDakIsb0JBQWlCO1FBQ2pCLG9CQUFpQjtRQUNqQixvQkFBaUI7UUFFakI7UUFBQSxvQkFBaUI7UUFDakIsb0JBQWlCO1FBQ2pCLG9CQUFpQjtRQUdqQjtRQUFBO1FBQUEsb0JBQVEsNkJBQTRCO1FBZ0JsQyxLQUFLLFlBQVk7UUFDakIsS0FBSyxlQUFlLFVBQVU7UUFDOUIsS0FBSyxhQUFhLFVBQVU7UUFDNUIsS0FBSyxtQkFBbUIsVUFBVTtRQUNsQyxLQUFLLGNBQWMsVUFBVTtRQUM3QixLQUFLLGVBQWUsVUFBVTtRQUM5QixLQUFLLFlBQVksVUFBVTtRQUMzQixLQUFLLFNBQVMsT0FBTztRQUNyQixLQUFLLDRCQUE0QixPQUFPO0lBQzFDO0FBbVdGIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5pbXBvcnQgeyBMb2NhbFN5bmNTdGF0ZSB9IGZyb20gXCIuL2xvY2FsX3N0YXRlLmpzXCI7XG5pbXBvcnQgeyBBdXRoRXJyb3IsIElkZW50aXR5VmVyc2lvbiwgVHJhbnNpdGlvbiB9IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2p3dC1kZWNvZGUvaW5kZXguanNcIjtcblxuLy8gc2V0VGltb3V0IHVzZXMgMzIgYml0IGludGVnZXIsIHNvIGl0IGNhbiBvbmx5XG4vLyBzY2hlZHVsZSBhYm91dCAyNCBkYXlzIGluIHRoZSBmdXR1cmUuXG5jb25zdCBNQVhJTVVNX1JFRlJFU0hfREVMQVkgPSAyMCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDIwIGRheXNcblxuY29uc3QgTUFYX1RPS0VOX0NPTkZJUk1BVElPTl9BVFRFTVBUUyA9IDI7XG5cbi8qKlxuICogQW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIGEgSldULiBEZXBlbmRpbmcgb24gdGhlIGF1dGggcHJvdmlkZXJzXG4gKiBjb25maWd1cmVkIGluIGNvbnZleC9hdXRoLmNvbmZpZy50cywgdGhpcyBtYXkgYmUgYSBKV1QtZW5jb2RlZCBPcGVuSURcbiAqIENvbm5lY3QgSWRlbnRpdHkgVG9rZW4gb3IgYSB0cmFkaXRpb25hbCBKV1QuXG4gKlxuICogYGZvcmNlUmVmcmVzaFRva2VuYCBpcyBgdHJ1ZWAgaWYgdGhlIHNlcnZlciByZWplY3RlZCBhIHByZXZpb3VzbHlcbiAqIHJldHVybmVkIHRva2VuIG9yIHRoZSB0b2tlbiBpcyBhbnRpY2lwYXRlZCB0byBleHBpcmluZyBzb29uXG4gKiBiYXNlZCBvbiBpdHMgYGV4cGAgdGltZS5cbiAqXG4gKiBTZWUge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50LnNldEF1dGh9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQXV0aFRva2VuRmV0Y2hlciA9IChhcmdzOiB7XG4gIGZvcmNlUmVmcmVzaFRva2VuOiBib29sZWFuO1xufSkgPT4gUHJvbWlzZTxzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkPjtcblxuLyoqXG4gKiBXaGF0IGlzIHByb3ZpZGVkIHRvIHRoZSBjbGllbnQuXG4gKi9cbnR5cGUgQXV0aENvbmZpZyA9IHtcbiAgZmV0Y2hUb2tlbjogQXV0aFRva2VuRmV0Y2hlcjtcbiAgb25BdXRoQ2hhbmdlOiAoaXNBdXRoZW50aWNhdGVkOiBib29sZWFuKSA9PiB2b2lkO1xufTtcblxuLyoqXG4gKiBJbiBnZW5lcmFsIHdlIHRha2UgMyBzdGVwczpcbiAqICAgMS4gRmV0Y2ggYSBwb3NzaWJseSBjYWNoZWQgdG9rZW5cbiAqICAgMi4gSW1tZWRpYXRlbHkgZmV0Y2ggYSBmcmVzaCB0b2tlbiB3aXRob3V0IHVzaW5nIGEgY2FjaGVcbiAqICAgMy4gUmVwZWF0IHN0ZXAgMiBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgZnJlc2ggdG9rZW4ncyBsaWZldGltZVxuICpcbiAqIFdoZW4gd2UgZmV0Y2ggd2l0aG91dCB1c2luZyBhIGNhY2hlIHdlIGtub3cgd2hlbiB0aGUgdG9rZW5cbiAqIHdpbGwgZXhwaXJlLCBhbmQgY2FuIHNjaGVkdWxlIHJlZmV0Y2hpbmcgaXQuXG4gKlxuICogSWYgd2UgZ2V0IGFuIGVycm9yIGJlZm9yZSBhIHNjaGVkdWxlZCByZWZldGNoLCB3ZSBnbyBiYWNrXG4gKiB0byBzdGVwIDIuXG4gKi9cbnR5cGUgQXV0aFN0YXRlID1cbiAgfCB7IHN0YXRlOiBcIm5vQXV0aFwiIH1cbiAgfCB7XG4gICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiO1xuICAgICAgY29uZmlnOiBBdXRoQ29uZmlnO1xuICAgICAgaGFzUmV0cmllZDogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6IFwiaW5pdGlhbFJlZmV0Y2hcIjtcbiAgICAgIGNvbmZpZzogQXV0aENvbmZpZztcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdGU6IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mRnJlc2hUb2tlblwiO1xuICAgICAgY29uZmlnOiBBdXRoQ29uZmlnO1xuICAgICAgaGFkQXV0aDogYm9vbGVhbjtcbiAgICAgIHRva2VuOiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoXCI7XG4gICAgICBjb25maWc6IEF1dGhDb25maWc7XG4gICAgICByZWZldGNoVG9rZW5UaW1lb3V0SWQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+O1xuICAgIH1cbiAgLy8gU3BlY2lhbC93ZWlyZCBzdGF0ZSB3aGVuIHdlIGdvdCBhIHZhbGlkIHRva2VuXG4gIC8vIGJ1dCBjb3VsZCBub3QgZmV0Y2ggYSBuZXcgb25lLlxuICB8IHtcbiAgICAgIHN0YXRlOiBcIm5vdFJlZmV0Y2hpbmdcIjtcbiAgICAgIGNvbmZpZzogQXV0aENvbmZpZztcbiAgICB9O1xuXG4vKipcbiAqIEhhbmRsZXMgdGhlIHN0YXRlIHRyYW5zaXRpb25zIGZvciBhdXRoLiBUaGUgc2VydmVyIGlzIHRoZSBzb3VyY2VcbiAqIG9mIHRydXRoLlxuICovXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhdXRoU3RhdGU6IEF1dGhTdGF0ZSA9IHsgc3RhdGU6IFwibm9BdXRoXCIgfTtcbiAgLy8gVXNlZCB0byBkZXRlY3QgcmFjZXMgaW52b2x2aW5nIGBzZXRDb25maWdgIGNhbGxzXG4gIC8vIHdoaWxlIGEgdG9rZW4gaXMgYmVpbmcgZmV0Y2hlZC5cbiAgcHJpdmF0ZSBjb25maWdWZXJzaW9uID0gMDtcbiAgLy8gU2hhcmVkIGJ5IHRoZSBCYXNlQ2xpZW50IHNvIHRoYXQgdGhlIGF1dGggbWFuYWdlciBjYW4gZWFzaWx5IGluc3BlY3QgaXRcbiAgcHJpdmF0ZSByZWFkb25seSBzeW5jU3RhdGU6IExvY2FsU3luY1N0YXRlO1xuICAvLyBQYXNzZWQgZG93biBieSBCYXNlQ2xpZW50LCBzZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIHNlcnZlclxuICBwcml2YXRlIHJlYWRvbmx5IGF1dGhlbnRpY2F0ZTogKHRva2VuOiBzdHJpbmcpID0+IElkZW50aXR5VmVyc2lvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBzdG9wU29ja2V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHJlYWRvbmx5IHRyeVJlc3RhcnRTb2NrZXQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGF1c2VTb2NrZXQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVzdW1lU29ja2V0OiAoKSA9PiB2b2lkO1xuICAvLyBQYXNzZWQgZG93biBieSBCYXNlQ2xpZW50LCBzZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIHNlcnZlclxuICBwcml2YXRlIHJlYWRvbmx5IGNsZWFyQXV0aDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgcHJpdmF0ZSByZWFkb25seSByZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzOiBudW1iZXI7XG4gIC8vIE51bWJlciBvZiB0aW1lcyB3ZSBoYXZlIGF0dGVtcHRlZCB0byBjb25maXJtIHRoZSBsYXRlc3QgdG9rZW4uIFdlIHJldHJ5IHVwXG4gIC8vIHRvIGBNQVhfVE9LRU5fQ09ORklSTUFUSU9OX0FUVEVNUFRTYCB0aW1lcy5cbiAgcHJpdmF0ZSB0b2tlbkNvbmZpcm1hdGlvbkF0dGVtcHRzID0gMDtcbiAgY29uc3RydWN0b3IoXG4gICAgc3luY1N0YXRlOiBMb2NhbFN5bmNTdGF0ZSxcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIGF1dGhlbnRpY2F0ZTogKHRva2VuOiBzdHJpbmcpID0+IElkZW50aXR5VmVyc2lvbjtcbiAgICAgIHN0b3BTb2NrZXQ6ICgpID0+IFByb21pc2U8dm9pZD47XG4gICAgICB0cnlSZXN0YXJ0U29ja2V0OiAoKSA9PiB2b2lkO1xuICAgICAgcGF1c2VTb2NrZXQ6ICgpID0+IHZvaWQ7XG4gICAgICByZXN1bWVTb2NrZXQ6ICgpID0+IHZvaWQ7XG4gICAgICBjbGVhckF1dGg6ICgpID0+IHZvaWQ7XG4gICAgfSxcbiAgICBjb25maWc6IHtcbiAgICAgIHJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHM6IG51bWJlcjtcbiAgICAgIGxvZ2dlcjogTG9nZ2VyO1xuICAgIH0sXG4gICkge1xuICAgIHRoaXMuc3luY1N0YXRlID0gc3luY1N0YXRlO1xuICAgIHRoaXMuYXV0aGVudGljYXRlID0gY2FsbGJhY2tzLmF1dGhlbnRpY2F0ZTtcbiAgICB0aGlzLnN0b3BTb2NrZXQgPSBjYWxsYmFja3Muc3RvcFNvY2tldDtcbiAgICB0aGlzLnRyeVJlc3RhcnRTb2NrZXQgPSBjYWxsYmFja3MudHJ5UmVzdGFydFNvY2tldDtcbiAgICB0aGlzLnBhdXNlU29ja2V0ID0gY2FsbGJhY2tzLnBhdXNlU29ja2V0O1xuICAgIHRoaXMucmVzdW1lU29ja2V0ID0gY2FsbGJhY2tzLnJlc3VtZVNvY2tldDtcbiAgICB0aGlzLmNsZWFyQXV0aCA9IGNhbGxiYWNrcy5jbGVhckF1dGg7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25maWcubG9nZ2VyO1xuICAgIHRoaXMucmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcyA9IGNvbmZpZy5yZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzO1xuICB9XG5cbiAgYXN5bmMgc2V0Q29uZmlnKFxuICAgIGZldGNoVG9rZW46IEF1dGhUb2tlbkZldGNoZXIsXG4gICAgb25DaGFuZ2U6IChpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicGF1c2luZyBXUyBmb3IgYXV0aCB0b2tlbiBmZXRjaFwiKTtcbiAgICB0aGlzLnBhdXNlU29ja2V0KCk7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmZldGNoVG9rZW5BbmRHdWFyZEFnYWluc3RSYWNlKGZldGNoVG9rZW4sIHtcbiAgICAgIGZvcmNlUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICB9KTtcbiAgICBpZiAodG9rZW4uaXNGcm9tT3V0ZGF0ZWRDb25maWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRva2VuLnZhbHVlKSB7XG4gICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkNhY2hlZFRva2VuXCIsXG4gICAgICAgIGNvbmZpZzogeyBmZXRjaFRva2VuLCBvbkF1dGhDaGFuZ2U6IG9uQ2hhbmdlIH0sXG4gICAgICAgIGhhc1JldHJpZWQ6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXV0aFN0YXRlKHtcbiAgICAgICAgc3RhdGU6IFwiaW5pdGlhbFJlZmV0Y2hcIixcbiAgICAgICAgY29uZmlnOiB7IGZldGNoVG9rZW4sIG9uQXV0aENoYW5nZTogb25DaGFuZ2UgfSxcbiAgICAgIH0pO1xuICAgICAgLy8gVHJ5IGFnYWluIHdpdGggYGZvcmNlUmVmcmVzaFRva2VuOiB0cnVlYFxuICAgICAgYXdhaXQgdGhpcy5yZWZldGNoVG9rZW4oKTtcbiAgICB9XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcInJlc3VtaW5nIFdTIGFmdGVyIGF1dGggdG9rZW4gZmV0Y2hcIik7XG4gICAgdGhpcy5yZXN1bWVTb2NrZXQoKTtcbiAgfVxuXG4gIG9uVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlOiBUcmFuc2l0aW9uKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuc3luY1N0YXRlLmlzQ3VycmVudE9yTmV3ZXJBdXRoVmVyc2lvbihcbiAgICAgICAgc2VydmVyTWVzc2FnZS5lbmRWZXJzaW9uLmlkZW50aXR5LFxuICAgICAgKVxuICAgICkge1xuICAgICAgLy8gVGhpcyBpcyBhIHN0YWxlIHRyYW5zaXRpb24gLSBjbGllbnQgaGFzIG1vdmVkIG9uIHRvXG4gICAgICAvLyBhIG5ld2VyIGF1dGggdmVyc2lvbi5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgc2VydmVyTWVzc2FnZS5lbmRWZXJzaW9uLmlkZW50aXR5IDw9IHNlcnZlck1lc3NhZ2Uuc3RhcnRWZXJzaW9uLmlkZW50aXR5XG4gICAgKSB7XG4gICAgICAvLyBUaGlzIHRyYW5zaXRpb24gZGlkIG5vdCBjaGFuZ2UgYXV0aCAtIGl0IGlzIG5vdCBhIHJlc3BvbnNlIHRvIEF1dGhlbnRpY2F0ZS5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mQ2FjaGVkVG9rZW5cIikge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcInNlcnZlciBjb25maXJtZWQgYXV0aCB0b2tlbiBpcyB2YWxpZFwiKTtcbiAgICAgIHZvaWQgdGhpcy5yZWZldGNoVG9rZW4oKTtcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5vbkF1dGhDaGFuZ2UodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIpIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJzZXJ2ZXIgY29uZmlybWVkIG5ldyBhdXRoIHRva2VuIGlzIHZhbGlkXCIpO1xuICAgICAgdGhpcy5zY2hlZHVsZVRva2VuUmVmZXRjaCh0aGlzLmF1dGhTdGF0ZS50b2tlbik7XG4gICAgICB0aGlzLnRva2VuQ29uZmlybWF0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgaWYgKCF0aGlzLmF1dGhTdGF0ZS5oYWRBdXRoKSB7XG4gICAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5vbkF1dGhDaGFuZ2UodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25BdXRoRXJyb3Ioc2VydmVyTWVzc2FnZTogQXV0aEVycm9yKSB7XG4gICAgLy8gSWYgdGhlIEF1dGhFcnJvciBpcyBub3QgZHVlIHRvIHVwZGF0aW5nIHRoZSB0b2tlbiwgYW5kIHdlJ3JlIGN1cnJlbnRseVxuICAgIC8vIHdhaXRpbmcgb24gdGhlIHJlc3VsdCBvZiBhIHRva2VuIHVwZGF0ZSwgaWdub3JlLlxuICAgIGlmIChcbiAgICAgIHNlcnZlck1lc3NhZ2UuYXV0aFVwZGF0ZUF0dGVtcHRlZCA9PT0gZmFsc2UgJiZcbiAgICAgICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIgfHxcbiAgICAgICAgdGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mQ2FjaGVkVG9rZW5cIilcbiAgICApIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJpZ25vcmluZyBub24tYXV0aCB0b2tlbiBleHBpcmVkIGVycm9yXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGJhc2VWZXJzaW9uIH0gPSBzZXJ2ZXJNZXNzYWdlO1xuICAgIC8vIFZlcnNpb25lZCBBdXRoRXJyb3JzIGFyZSBpZ25vcmVkIGlmIHRoZSBjbGllbnQgYWR2YW5jZWQgdG9cbiAgICAvLyBhIG5ld2VyIGF1dGggaWRlbnRpdHlcbiAgICAvLyBFcnJvciBhcmUgcmVwb3J0aW5nIHRoZSBwcmV2aW91cyB2ZXJzaW9uLCBzaW5jZSB0aGUgc2VydmVyXG4gICAgLy8gZGlkbid0IGFkdmFuY2UsIGhlbmNlIGArIDFgLlxuICAgIGlmICghdGhpcy5zeW5jU3RhdGUuaXNDdXJyZW50T3JOZXdlckF1dGhWZXJzaW9uKGJhc2VWZXJzaW9uICsgMSkpIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJpZ25vcmluZyBhdXRoIGVycm9yIGZvciBwcmV2aW91cyBhdXRoIGF0dGVtcHRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZvaWQgdGhpcy50cnlUb1JlYXV0aGVudGljYXRlKHNlcnZlck1lc3NhZ2UpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRoaXMgaXMgc2ltaWxhciB0byBgcmVmZXRjaFRva2VuYCBkZWZpbmVkIGJlbG93LCBpbiBmYWN0IHdlXG4gIC8vIGRvbid0IHJlcHJlc2VudCB0aGVtIGFzIGRpZmZlcmVudCBzdGF0ZXMsIGJ1dCBpdCBpcyBkaWZmZXJlbnRcbiAgLy8gaW4gdGhhdCB3ZSBwYXVzZSB0aGUgV2ViU29ja2V0IHNvIHRoYXQgbXV0YXRpb25zXG4gIC8vIGRvbid0IHJldHJ5IHdpdGggYmFkIGF1dGguXG4gIHByaXZhdGUgYXN5bmMgdHJ5VG9SZWF1dGhlbnRpY2F0ZShzZXJ2ZXJNZXNzYWdlOiBBdXRoRXJyb3IpIHtcbiAgICB0aGlzLl9sb2dWZXJib3NlKGBhdHRlbXB0aW5nIHRvIHJlYXV0aGVudGljYXRlOiAke3NlcnZlck1lc3NhZ2UuZXJyb3J9YCk7XG4gICAgaWYgKFxuICAgICAgLy8gTm8gd2F5IHRvIGZldGNoIGFub3RoZXIgdG9rZW4sIGthYm9vbVxuICAgICAgdGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwibm9BdXRoXCIgfHxcbiAgICAgIC8vIFdlIGZhaWxlZCBvbiBhIGZyZXNoIHRva2VuLiBBZnRlciBhIHNtYWxsIG51bWJlciBvZiByZXRyaWVzLCB3ZSBnaXZlIHVwXG4gICAgICAvLyBhbmQgY2xlYXIgdGhlIGF1dGggc3RhdGUgdG8gYXZvaWQgaW5maW5pdGUgcmV0cmllcy5cbiAgICAgICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIgJiZcbiAgICAgICAgdGhpcy50b2tlbkNvbmZpcm1hdGlvbkF0dGVtcHRzID49IE1BWF9UT0tFTl9DT05GSVJNQVRJT05fQVRURU1QVFMpXG4gICAgKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgYEZhaWxlZCB0byBhdXRoZW50aWNhdGU6IFwiJHtzZXJ2ZXJNZXNzYWdlLmVycm9yfVwiLCBjaGVjayB5b3VyIHNlcnZlciBhdXRoIGNvbmZpZ2AsXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmhhc0F1dGgoKSkge1xuICAgICAgICB0aGlzLnN5bmNTdGF0ZS5jbGVhckF1dGgoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSAhPT0gXCJub0F1dGhcIikge1xuICAgICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIpIHtcbiAgICAgIHRoaXMudG9rZW5Db25maXJtYXRpb25BdHRlbXB0cysrO1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgICAgYHJldHJ5aW5nIHJlYXV0aGVudGljYXRpb24sICR7TUFYX1RPS0VOX0NPTkZJUk1BVElPTl9BVFRFTVBUUyAtIHRoaXMudG9rZW5Db25maXJtYXRpb25BdHRlbXB0c30gYXR0ZW1wdHMgcmVtYWluaW5nYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5zdG9wU29ja2V0KCk7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLmZldGNoVG9rZW5BbmRHdWFyZEFnYWluc3RSYWNlKFxuICAgICAgdGhpcy5hdXRoU3RhdGUuY29uZmlnLmZldGNoVG9rZW4sXG4gICAgICB7XG4gICAgICAgIGZvcmNlUmVmcmVzaFRva2VuOiB0cnVlLFxuICAgICAgfSxcbiAgICApO1xuICAgIGlmICh0b2tlbi5pc0Zyb21PdXRkYXRlZENvbmZpZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0b2tlbi52YWx1ZSAmJiB0aGlzLnN5bmNTdGF0ZS5pc05ld0F1dGgodG9rZW4udmFsdWUpKSB7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgY29uZmlnOiB0aGlzLmF1dGhTdGF0ZS5jb25maWcsXG4gICAgICAgIHRva2VuOiB0b2tlbi52YWx1ZSxcbiAgICAgICAgaGFkQXV0aDpcbiAgICAgICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub3RSZWZldGNoaW5nXCIgfHxcbiAgICAgICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2NoZWR1bGVkUmVmZXRjaFwiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJyZWF1dGhlbnRpY2F0aW9uIGZhaWxlZCwgY291bGQgbm90IGZldGNoIGEgbmV3IHRva2VuXCIpO1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmhhc0F1dGgoKSkge1xuICAgICAgICB0aGlzLnN5bmNTdGF0ZS5jbGVhckF1dGgoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0QW5kUmVwb3J0QXV0aEZhaWxlZCh0aGlzLmF1dGhTdGF0ZS5jb25maWcub25BdXRoQ2hhbmdlKTtcbiAgICB9XG4gICAgdGhpcy50cnlSZXN0YXJ0U29ja2V0KCk7XG4gIH1cblxuICAvLyBGb3JjZSByZWZldGNoIHRoZSB0b2tlbiBhbmQgc2NoZWR1bGUgYW5vdGhlciByZWZldGNoXG4gIC8vIGJlZm9yZSB0aGUgdG9rZW4gZXhwaXJlcyAtIGFuIGFjdGl2ZSBjbGllbnQgc2hvdWxkIG5ldmVyXG4gIC8vIG5lZWQgdG8gcmVhdXRoZW50aWNhdGUuXG4gIHByaXZhdGUgYXN5bmMgcmVmZXRjaFRva2VuKCkge1xuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyBhdXRoIHRva2VuXCIpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBpZiAodG9rZW4uaXNGcm9tT3V0ZGF0ZWRDb25maWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4udmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLnN5bmNTdGF0ZS5pc05ld0F1dGgodG9rZW4udmFsdWUpKSB7XG4gICAgICAgIHRoaXMuc2V0QXV0aFN0YXRlKHtcbiAgICAgICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIsXG4gICAgICAgICAgaGFkQXV0aDogdGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpLFxuICAgICAgICAgIHRva2VuOiB0b2tlbi52YWx1ZSxcbiAgICAgICAgICBjb25maWc6IHRoaXMuYXV0aFN0YXRlLmNvbmZpZyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlKHRva2VuLnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXV0aFN0YXRlKHtcbiAgICAgICAgICBzdGF0ZTogXCJub3RSZWZldGNoaW5nXCIsXG4gICAgICAgICAgY29uZmlnOiB0aGlzLmF1dGhTdGF0ZS5jb25maWcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyB0b2tlbiBmYWlsZWRcIik7XG4gICAgICBpZiAodGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpKSB7XG4gICAgICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgaW4gY2FzZSB0aGlzIHJlZmV0Y2ggd2FzIHRyaWdnZXJlZCB2aWEgc2NoZWR1bGUgZHVyaW5nXG4gICAgLy8gYSByZWF1dGhlbnRpY2F0aW9uIGF0dGVtcHQuXG4gICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgIFwicmVzdGFydGluZyBXUyBhZnRlciBhdXRoIHRva2VuIGZldGNoIChpZiBjdXJyZW50bHkgc3RvcHBlZClcIixcbiAgICApO1xuICAgIHRoaXMudHJ5UmVzdGFydFNvY2tldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzY2hlZHVsZVRva2VuUmVmZXRjaCh0b2tlbjogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIm5vQXV0aFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHRoaXMuZGVjb2RlVG9rZW4odG9rZW4pO1xuICAgIGlmICghZGVjb2RlZFRva2VuKSB7XG4gICAgICAvLyBUaGlzIGlzIG5vIGxvbmdlciByZWFsbHkgcG9zc2libGUsIGJlY2F1c2VcbiAgICAgIC8vIHdlIHdhaXQgb24gc2VydmVyIHJlc3BvbnNlIGJlZm9yZSBzY2hlZHVsaW5nIHRva2VuIHJlZmV0Y2gsXG4gICAgICAvLyBhbmQgdGhlIHNlcnZlciBjdXJyZW50bHkgcmVxdWlyZXMgSldUIHRva2Vucy5cbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gaXMgbm90IGEgdmFsaWQgSldULCBjYW5ub3QgcmVmZXRjaCB0aGUgdG9rZW5cIixcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlhdDogaXNzdWVkIGF0IHRpbWUsIFVUQyBzZWNvbmRzIHRpbWVzdGFtcCBhdCB3aGljaCB0aGUgSldUIHdhcyBpc3N1ZWRcbiAgICAvLyBleHA6IGV4cGlyYXRpb24gdGltZSwgVVRDIHNlY29uZHMgdGltZXN0YW1wIGF0IHdoaWNoIHRoZSBKV1Qgd2lsbCBleHBpcmVcbiAgICBjb25zdCB7IGlhdCwgZXhwIH0gPSBkZWNvZGVkVG9rZW4gYXMgeyBpYXQ/OiBudW1iZXI7IGV4cD86IG51bWJlciB9O1xuICAgIGlmICghaWF0IHx8ICFleHApIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gZG9lcyBub3QgaGF2ZSByZXF1aXJlZCBmaWVsZHMsIGNhbm5vdCByZWZldGNoIHRoZSB0b2tlblwiLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQmVjYXVzZSB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIgY2xvY2tzIG1heSBiZSBvdXQgb2Ygc3luYyxcbiAgICAvLyB3ZSBvbmx5IGtub3cgdGhhdCB0aGUgdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgYGV4cCAtIGlhdGAsXG4gICAgLy8gYW5kIHNpbmNlIHdlIGp1c3QgZmV0Y2hlZCBhIGZyZXNoIG9uZSB3ZSBrbm93IHdoZW4gdGhhdFxuICAgIC8vIHdpbGwgaGFwcGVuLlxuICAgIGNvbnN0IHRva2VuVmFsaWRpdHlTZWNvbmRzID0gZXhwIC0gaWF0O1xuICAgIGlmICh0b2tlblZhbGlkaXR5U2Vjb25kcyA8PSAyKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgXCJBdXRoIHRva2VuIGRvZXMgbm90IGxpdmUgbG9uZyBlbm91Z2gsIGNhbm5vdCByZWZldGNoIHRoZSB0b2tlblwiLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQXR0ZW1wdCB0byByZWZyZXNoIHRoZSB0b2tlbiBgcmVmcmVzaFRva2VuTGVld2F5U2Vjb25kc2AgYmVmb3JlIGl0IGV4cGlyZXMsXG4gICAgLy8gb3IgaW1tZWRpYXRlbHkgaWYgdGhlIHRva2VuIGlzIGFscmVhZHkgZXhwaXJpbmcgc29vbi5cbiAgICBsZXQgZGVsYXkgPSBNYXRoLm1pbihcbiAgICAgIE1BWElNVU1fUkVGUkVTSF9ERUxBWSxcbiAgICAgICh0b2tlblZhbGlkaXR5U2Vjb25kcyAtIHRoaXMucmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcykgKiAxMDAwLFxuICAgICk7XG4gICAgaWYgKGRlbGF5IDw9IDApIHtcbiAgICAgIC8vIFJlZmV0Y2ggaW1tZWRpYXRlbHksIGJ1dCB0aGlzIG1pZ2h0IGJlIGR1ZSB0byBjb25maWd1cmluZyBhIGByZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzYFxuICAgICAgLy8gdGhhdCBpcyB0b28gbGFyZ2UgY29tcGFyZWQgdG8gdGhlIHRva2VuJ3MgYWN0dWFsIGxpZmV0aW1lLlxuICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgYFJlZmV0Y2hpbmcgYXV0aCB0b2tlbiBpbW1lZGlhdGVseSwgY29uZmlndXJlZCBsZWV3YXkgJHt0aGlzLnJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHN9cyBpcyBsYXJnZXIgdGhhbiB0aGUgdG9rZW4ncyBsaWZldGltZSAke3Rva2VuVmFsaWRpdHlTZWNvbmRzfXNgLFxuICAgICAgKTtcbiAgICAgIGRlbGF5ID0gMDtcbiAgICB9XG4gICAgY29uc3QgcmVmZXRjaFRva2VuVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicnVubmluZyBzY2hlZHVsZWQgdG9rZW4gcmVmZXRjaFwiKTtcbiAgICAgIHZvaWQgdGhpcy5yZWZldGNoVG9rZW4oKTtcbiAgICB9LCBkZWxheSk7XG4gICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgc3RhdGU6IFwid2FpdGluZ0ZvclNjaGVkdWxlZFJlZmV0Y2hcIixcbiAgICAgIHJlZmV0Y2hUb2tlblRpbWVvdXRJZCxcbiAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnLFxuICAgIH0pO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBgc2NoZWR1bGVkIHByZWVtcHRpdmUgYXV0aCB0b2tlbiByZWZldGNoaW5nIGluICR7ZGVsYXl9bXNgLFxuICAgICk7XG4gIH1cblxuICAvLyBQcm90ZWN0cyBhZ2FpbnN0IHNpbXVsdGFuZW91cyBjYWxscyB0byBgc2V0Q29uZmlnYFxuICAvLyB3aGlsZSB3ZSdyZSBmZXRjaGluZyBhIHRva2VuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoXG4gICAgZmV0Y2hUb2tlbjogQXV0aFRva2VuRmV0Y2hlcixcbiAgICBmZXRjaEFyZ3M6IHtcbiAgICAgIGZvcmNlUmVmcmVzaFRva2VuOiBib29sZWFuO1xuICAgIH0sXG4gICkge1xuICAgIGNvbnN0IG9yaWdpbmFsQ29uZmlnVmVyc2lvbiA9ICsrdGhpcy5jb25maWdWZXJzaW9uO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBgZmV0Y2hpbmcgdG9rZW4gd2l0aCBjb25maWcgdmVyc2lvbiAke29yaWdpbmFsQ29uZmlnVmVyc2lvbn1gLFxuICAgICk7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBmZXRjaFRva2VuKGZldGNoQXJncyk7XG4gICAgaWYgKHRoaXMuY29uZmlnVmVyc2lvbiAhPT0gb3JpZ2luYWxDb25maWdWZXJzaW9uKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgc3RhbGUgY29uZmlnXG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgICBgc3RhbGUgY29uZmlnIHZlcnNpb24sIGV4cGVjdGVkICR7b3JpZ2luYWxDb25maWdWZXJzaW9ufSwgZ290ICR7dGhpcy5jb25maWdWZXJzaW9ufWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgaXNGcm9tT3V0ZGF0ZWRDb25maWc6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaXNGcm9tT3V0ZGF0ZWRDb25maWc6IGZhbHNlLCB2YWx1ZTogdG9rZW4gfTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5yZXNldEF1dGhTdGF0ZSgpO1xuICAgIC8vIEJ1bXAgdGhpcyBpbiBjYXNlIHdlIGFyZSBtaWQtdG9rZW4tZmV0Y2ggd2hlbiB3ZSBnZXQgc3RvcHBlZFxuICAgIHRoaXMuY29uZmlnVmVyc2lvbisrO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYGNvbmZpZyB2ZXJzaW9uIGJ1bXBlZCB0byAke3RoaXMuY29uZmlnVmVyc2lvbn1gKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0QW5kUmVwb3J0QXV0aEZhaWxlZChcbiAgICBvbkF1dGhDaGFuZ2U6IChhdXRoZW50aWNhdGVkOiBib29sZWFuKSA9PiB2b2lkLFxuICApIHtcbiAgICBvbkF1dGhDaGFuZ2UoZmFsc2UpO1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRBdXRoU3RhdGUoKSB7XG4gICAgdGhpcy5zZXRBdXRoU3RhdGUoeyBzdGF0ZTogXCJub0F1dGhcIiB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0QXV0aFN0YXRlKG5ld0F1dGg6IEF1dGhTdGF0ZSkge1xuICAgIGNvbnN0IGF1dGhTdGF0ZUZvckxvZyA9XG4gICAgICBuZXdBdXRoLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIlxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGhhZEF1dGg6IG5ld0F1dGguaGFkQXV0aCxcbiAgICAgICAgICAgIHN0YXRlOiBuZXdBdXRoLnN0YXRlLFxuICAgICAgICAgICAgdG9rZW46IGAuLi4ke25ld0F1dGgudG9rZW4uc2xpY2UoLTcpfWAsXG4gICAgICAgICAgfVxuICAgICAgICA6IHsgc3RhdGU6IG5ld0F1dGguc3RhdGUgfTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHNldHRpbmcgYXV0aCBzdGF0ZSB0byAke0pTT04uc3RyaW5naWZ5KGF1dGhTdGF0ZUZvckxvZyl9YCxcbiAgICApO1xuICAgIHN3aXRjaCAobmV3QXV0aC5zdGF0ZSkge1xuICAgICAgY2FzZSBcIndhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoXCI6XG4gICAgICBjYXNlIFwibm90UmVmZXRjaGluZ1wiOlxuICAgICAgY2FzZSBcIm5vQXV0aFwiOlxuICAgICAgICB0aGlzLnRva2VuQ29uZmlybWF0aW9uQXR0ZW1wdHMgPSAwO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCI6XG4gICAgICBjYXNlIFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mQ2FjaGVkVG9rZW5cIjpcbiAgICAgIGNhc2UgXCJpbml0aWFsUmVmZXRjaFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgbmV3QXV0aCBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2NoZWR1bGVkUmVmZXRjaFwiKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5hdXRoU3RhdGUucmVmZXRjaFRva2VuVGltZW91dElkKTtcblxuICAgICAgLy8gVGhlIHdhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoIHN0YXRlIGlzIHRoZSBtb3N0IHF1aWVzY2VkIGF1dGhlZCBzdGF0ZS5cbiAgICAgIC8vIExldCB0aGUgc3luY1N0YXRlIGtub3cgdGhhdCBhdXRoIGlzIGluIGEgZ29vZCBzdGF0ZSwgc28gaXQgY2FuIHJlc2V0IGZhaWx1cmUgYmFja29mZnNcbiAgICAgIHRoaXMuc3luY1N0YXRlLm1hcmtBdXRoQ29tcGxldGlvbigpO1xuICAgIH1cbiAgICB0aGlzLmF1dGhTdGF0ZSA9IG5ld0F1dGg7XG4gIH1cblxuICBwcml2YXRlIGRlY29kZVRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgICAgYEVycm9yIGRlY29kaW5nIHRva2VuOiAke2UgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwifWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbG9nVmVyYm9zZShtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKGAke21lc3NhZ2V9IFt2JHt0aGlzLmNvbmZpZ1ZlcnNpb259XWApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* binding */ BaseConvexClient)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _local_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local_state.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/local_state.js\");\n/* harmony import */ var _request_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request_manager.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\");\n/* harmony import */ var _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./optimistic_updates_impl.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\");\n/* harmony import */ var _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remote_query_set.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web_socket_manager.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./session.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/session.js\");\n/* harmony import */ var _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./authentication_manager.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\");\n/* harmony import */ var _metrics_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./metrics.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/metrics.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../values/errors.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../vendor/jwt-decode/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass BaseConvexClient {\n    /**\n   * Return true if there is outstanding work from prior to the time of the most recent restart.\n   * This indicates that the client has not proven itself to have gotten past the issue that\n   * potentially led to the restart. Use this to influence when to reset backoff after a failure.\n   */ hasSyncedPastLastReconnect() {\n        const hasSyncedPastLastReconnect = this.requestManager.hasSyncedPastLastReconnect() || this.state.hasSyncedPastLastReconnect();\n        return hasSyncedPastLastReconnect;\n    }\n    observedTimestamp(observedTs) {\n        if (this.maxObservedTimestamp === void 0 || this.maxObservedTimestamp.lessThanOrEqual(observedTs)) {\n            this.maxObservedTimestamp = observedTs;\n        }\n    }\n    getMaxObservedTimestamp() {\n        return this.maxObservedTimestamp;\n    }\n    /**\n   * Compute the current query results based on the remoteQuerySet and the\n   * current optimistic updates and call `onTransition` for all the changed\n   * queries.\n   *\n   * @param completedMutations - A set of mutation IDs whose optimistic updates\n   * are no longer needed.\n   */ notifyOnQueryResultChanges(completedRequests) {\n        const remoteQueryResults = this.remoteQuerySet.remoteQueryResults();\n        const queryTokenToValue = /* @__PURE__ */ new Map();\n        for (const [queryId, result] of remoteQueryResults){\n            const queryToken = this.state.queryToken(queryId);\n            if (queryToken !== null) {\n                const query = {\n                    result,\n                    udfPath: this.state.queryPath(queryId),\n                    args: this.state.queryArgs(queryId)\n                };\n                queryTokenToValue.set(queryToken, query);\n            }\n        }\n        const changedQueryTokens = this.optimisticQueryResults.ingestQueryResultsFromServer(queryTokenToValue, new Set(completedRequests.keys()));\n        this.handleTransition({\n            queries: changedQueryTokens.map((token)=>{\n                const optimisticResult = this.optimisticQueryResults.rawQueryResult(token);\n                return {\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: optimisticResult\n                    }\n                };\n            }),\n            reflectedMutations: Array.from(completedRequests).map((param)=>{\n                let [requestId, result] = param;\n                return {\n                    requestId,\n                    result\n                };\n            }),\n            timestamp: this.remoteQuerySet.timestamp()\n        });\n    }\n    handleTransition(transition) {\n        for (const fn of this._onTransitionFns.values()){\n            fn(transition);\n        }\n    }\n    /**\n   * Add a handler that will be called on a transition.\n   *\n   * Any external side effects (e.g. setting React state) should be handled here.\n   *\n   * @param fn\n   *\n   * @returns\n   */ addOnTransitionHandler(fn) {\n        const id = this._transitionHandlerCounter++;\n        this._onTransitionFns.set(id, fn);\n        return ()=>this._onTransitionFns.delete(id);\n    }\n    /**\n   * Get the current JWT auth token and decoded claims.\n   */ getCurrentAuthClaims() {\n        const authToken = this.state.getAuth();\n        let decoded = {};\n        if (authToken && authToken.tokenType === \"User\") {\n            try {\n                decoded = authToken ? (0,_vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_14__.jwtDecode)(authToken.value) : {};\n            } catch (e) {\n                decoded = {};\n            }\n        } else {\n            return void 0;\n        }\n        return {\n            token: authToken.value,\n            decoded\n        };\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        void this.authenticationManager.setConfig(fetchToken, onChange);\n    }\n    hasAuth() {\n        return this.state.hasAuth();\n    }\n    /** @internal */ setAdminAuth(value, fakeUserIdentity) {\n        const message = this.state.setAdminAuth(value, fakeUserIdentity);\n        this.webSocketManager.sendMessage(message);\n    }\n    clearAuth() {\n        const message = this.state.clearAuth();\n        this.webSocketManager.sendMessage(message);\n    }\n    /**\n     * Subscribe to a query function.\n     *\n     * Whenever this query's result changes, the `onTransition` callback\n     * passed into the constructor will be called.\n     *\n     * @param name - The name of the query.\n     * @param args - An arguments object for the query. If this is omitted, the\n     * arguments will be `{}`.\n     * @param options - A {@link SubscribeOptions} options object for this query.\n  \n     * @returns An object containing a {@link QueryToken} corresponding to this\n     * query and an `unsubscribe` callback.\n     */ subscribe(name, args, options) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const { modification, queryToken, unsubscribe } = this.state.subscribe(name, argsObject, options === null || options === void 0 ? void 0 : options.journal, options === null || options === void 0 ? void 0 : options.componentPath);\n        if (modification !== null) {\n            this.webSocketManager.sendMessage(modification);\n        }\n        return {\n            queryToken,\n            unsubscribe: ()=>{\n                const modification2 = unsubscribe();\n                if (modification2) {\n                    this.webSocketManager.sendMessage(modification2);\n                }\n            }\n        };\n    }\n    /**\n   * A query result based only on the current, local state.\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   */ localQueryResult(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Get query result by query token based on current, local state\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   *\n   * @internal\n   */ localQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Whether local query result is available for a token.\n   *\n   * This method does not throw if the result is an error.\n   *\n   * @internal\n   */ hasLocalQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.hasQueryResult(queryToken);\n    }\n    /**\n   * @internal\n   */ localQueryLogs(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryLogs(queryToken);\n    }\n    /**\n   * Retrieve the current {@link QueryJournal} for this query function.\n   *\n   * If we have not yet received a result for this query, this will be `undefined`.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for this query.\n   * @returns The query's {@link QueryJournal} or `undefined`.\n   */ queryJournal(name, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(name, argsObject);\n        return this.state.queryJournal(queryToken);\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        const wsConnectionState = this.webSocketManager.connectionState();\n        return {\n            hasInflightRequests: this.requestManager.hasInflightRequests(),\n            isWebSocketConnected: wsConnectionState.isConnected,\n            hasEverConnected: wsConnectionState.hasEverConnected,\n            connectionCount: wsConnectionState.connectionCount,\n            connectionRetries: wsConnectionState.connectionRetries,\n            timeOfOldestInflightRequest: this.requestManager.timeOfOldestInflightRequest(),\n            inflightMutations: this.requestManager.inflightMutations(),\n            inflightActions: this.requestManager.inflightActions()\n        };\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        const id = this.nextConnectionStateSubscriberId++;\n        this.connectionStateSubscribers.set(id, cb);\n        return ()=>{\n            this.connectionStateSubscribers.delete(id);\n        };\n    }\n    /**\n     * Execute a mutation function.\n     *\n     * @param name - The name of the mutation.\n     * @param args - An arguments object for the mutation. If this is omitted,\n     * the arguments will be `{}`.\n     * @param options - A {@link MutationOptions} options object for this mutation.\n  \n     * @returns - A promise of the mutation's result.\n     */ async mutation(name, args, options) {\n        const result = await this.mutationInternal(name, args, options);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async mutationInternal(udfPath, args, options, componentPath) {\n        const { mutationPromise } = this.enqueueMutation(udfPath, args, options, componentPath);\n        return mutationPromise;\n    }\n    /**\n   * @internal\n   */ enqueueMutation(udfPath, args, options, componentPath) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        this.tryReportLongDisconnect();\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        if (options !== void 0) {\n            const optimisticUpdate = options.optimisticUpdate;\n            if (optimisticUpdate !== void 0) {\n                const wrappedUpdate = (localQueryStore)=>{\n                    const result = optimisticUpdate(localQueryStore, mutationArgs);\n                    if (result instanceof Promise) {\n                        this.logger.warn(\"Optimistic update handler returned a Promise. Optimistic updates should be synchronous.\");\n                    }\n                };\n                const changedQueryTokens = this.optimisticQueryResults.applyOptimisticUpdate(wrappedUpdate, requestId);\n                const changedQueries = changedQueryTokens.map((token)=>{\n                    const localResult = this.localQueryResultByToken(token);\n                    return {\n                        token,\n                        modification: {\n                            kind: \"Updated\",\n                            result: localResult === void 0 ? void 0 : {\n                                success: true,\n                                value: localResult,\n                                logLines: []\n                            }\n                        }\n                    };\n                });\n                this.handleTransition({\n                    queries: changedQueries,\n                    reflectedMutations: [],\n                    timestamp: this.remoteQuerySet.timestamp()\n                });\n            }\n        }\n        const message = {\n            type: \"Mutation\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(mutationArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        const mutationPromise = this.requestManager.request(message, mightBeSent);\n        return {\n            requestId,\n            mutationPromise\n        };\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param name - The name of the action.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(name, args) {\n        const result = await this.actionInternal(name, args);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async actionInternal(udfPath, args, componentPath) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        this.tryReportLongDisconnect();\n        const message = {\n            type: \"Action\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(actionArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        return this.requestManager.request(message, mightBeSent);\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with an {@link BaseConvexClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.authenticationManager.stop();\n        return this.webSocketManager.terminate();\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * @internal\n   */ get nextRequestId() {\n        return this._nextRequestId;\n    }\n    /**\n   * @internal\n   */ get sessionId() {\n        return this._sessionId;\n    }\n    /**\n   * Reports performance marks to the server. This should only be called when\n   * we have a functional websocket.\n   */ reportMarks() {\n        if (this.debug) {\n            const report = (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.getMarksReport)(this.sessionId);\n            this.webSocketManager.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientConnect\",\n                event: report\n            });\n        }\n    }\n    tryReportLongDisconnect() {\n        if (!this.debug) {\n            return;\n        }\n        const timeOfOldestRequest = this.connectionState().timeOfOldestInflightRequest;\n        if (timeOfOldestRequest === null || Date.now() - timeOfOldestRequest.getTime() <= 60 * 1e3) {\n            return;\n        }\n        const endpoint = \"\".concat(this.address, \"/api/debug_event\");\n        fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Convex-Client\": \"npm-\".concat(_index_js__WEBPACK_IMPORTED_MODULE_0__.version)\n            },\n            body: JSON.stringify({\n                event: \"LongWebsocketDisconnect\"\n            })\n        }).then((response)=>{\n            if (!response.ok) {\n                this.logger.warn(\"Analytics request failed with response:\", response.body);\n            }\n        }).catch((error)=>{\n            this.logger.warn(\"Analytics response failed with error:\", error);\n        });\n    }\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param onTransition - A callback receiving an array of query tokens\n   * corresponding to query results that have changed -- additional handlers\n   * can be added via `addOnTransitionHandler`.\n   * @param options - See {@link BaseConvexClientOptions} for a full description.\n   */ constructor(address, onTransition, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"state\");\n        __publicField(this, \"requestManager\");\n        __publicField(this, \"webSocketManager\");\n        __publicField(this, \"authenticationManager\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"optimisticQueryResults\");\n        __publicField(this, \"_transitionHandlerCounter\", 0);\n        __publicField(this, \"_nextRequestId\");\n        __publicField(this, \"_onTransitionFns\", /* @__PURE__ */ new Map());\n        __publicField(this, \"_sessionId\");\n        __publicField(this, \"firstMessageReceived\", false);\n        __publicField(this, \"debug\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"maxObservedTimestamp\");\n        __publicField(this, \"connectionStateSubscribers\", /* @__PURE__ */ new Map());\n        __publicField(this, \"nextConnectionStateSubscriberId\", 0);\n        __publicField(this, \"_lastPublishedConnectionState\");\n        /**\n     * Call this whenever the connection state may have changed in a way that could\n     * require publishing it. Schedules a possibly update.\n     */ __publicField(this, \"markConnectionStateDirty\", ()=>{\n            void Promise.resolve().then(()=>{\n                const curConnectionState = this.connectionState();\n                if (JSON.stringify(curConnectionState) !== JSON.stringify(this._lastPublishedConnectionState)) {\n                    this._lastPublishedConnectionState = curConnectionState;\n                    for (const cb of this.connectionStateSubscribers.values()){\n                        cb(curConnectionState);\n                    }\n                }\n            });\n        });\n        // Instance property so that `mark()` doesn't need to be called as a method.\n        __publicField(this, \"mark\", (name)=>{\n            if (this.debug) {\n                (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.mark)(name, this.sessionId);\n            }\n        });\n        if (typeof address === \"object\") {\n            throw new Error(\"Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.\");\n        }\n        if ((options === null || options === void 0 ? void 0 : options.skipConvexDeploymentUrlCheck) !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.validateDeploymentUrl)(address);\n        }\n        options = {\n            ...options\n        };\n        var _options_authRefreshTokenLeewaySeconds;\n        const authRefreshTokenLeewaySeconds = (_options_authRefreshTokenLeewaySeconds = options.authRefreshTokenLeewaySeconds) !== null && _options_authRefreshTokenLeewaySeconds !== void 0 ? _options_authRefreshTokenLeewaySeconds : 2;\n        let webSocketConstructor = options.webSocketConstructor;\n        if (!webSocketConstructor && typeof WebSocket === \"undefined\") {\n            throw new Error(\"No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient\");\n        }\n        webSocketConstructor = webSocketConstructor || WebSocket;\n        var _options_reportDebugInfoToConvex;\n        this.debug = (_options_reportDebugInfoToConvex = options.reportDebugInfoToConvex) !== null && _options_reportDebugInfoToConvex !== void 0 ? _options_reportDebugInfoToConvex : false;\n        this.address = address;\n        var _options_verbose, _options_verbose1;\n        this.logger = options.logger === false ? (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.instantiateNoopLogger)({\n            verbose: (_options_verbose = options.verbose) !== null && _options_verbose !== void 0 ? _options_verbose : false\n        }) : options.logger !== true && options.logger ? options.logger : (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.instantiateDefaultLogger)({\n            verbose: (_options_verbose1 = options.verbose) !== null && _options_verbose1 !== void 0 ? _options_verbose1 : false\n        });\n        const i = address.search(\"://\");\n        if (i === -1) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        const origin = address.substring(i + 3);\n        const protocol = address.substring(0, i);\n        let wsProtocol;\n        if (protocol === \"http\") {\n            wsProtocol = \"ws\";\n        } else if (protocol === \"https\") {\n            wsProtocol = \"wss\";\n        } else {\n            throw new Error(\"Unknown parent protocol \".concat(protocol));\n        }\n        const wsUri = \"\".concat(wsProtocol, \"://\").concat(origin, \"/api/\").concat(_index_js__WEBPACK_IMPORTED_MODULE_0__.version, \"/sync\");\n        this.state = new _local_state_js__WEBPACK_IMPORTED_MODULE_3__.LocalSyncState();\n        this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n        this.requestManager = new _request_manager_js__WEBPACK_IMPORTED_MODULE_4__.RequestManager(this.logger, this.markConnectionStateDirty);\n        const pauseSocket = ()=>{\n            this.webSocketManager.pause();\n            this.state.pause();\n        };\n        this.authenticationManager = new _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__.AuthenticationManager(this.state, {\n            authenticate: (token)=>{\n                const message = this.state.setAuth(token);\n                this.webSocketManager.sendMessage(message);\n                return message.baseVersion;\n            },\n            stopSocket: ()=>this.webSocketManager.stop(),\n            tryRestartSocket: ()=>this.webSocketManager.tryRestart(),\n            pauseSocket,\n            resumeSocket: ()=>this.webSocketManager.resume(),\n            clearAuth: ()=>{\n                this.clearAuth();\n            }\n        }, {\n            logger: this.logger,\n            refreshTokenLeewaySeconds: authRefreshTokenLeewaySeconds\n        });\n        this.optimisticQueryResults = new _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__.OptimisticQueryResults();\n        this.addOnTransitionHandler((transition)=>{\n            onTransition(transition.queries.map((q)=>q.token));\n        });\n        this._nextRequestId = 0;\n        this._sessionId = (0,_session_js__WEBPACK_IMPORTED_MODULE_9__.newSessionId)();\n        const { unsavedChangesWarning } = options;\n        if (typeof window === \"undefined\" || typeof window.addEventListener === \"undefined\") {\n            if (unsavedChangesWarning === true) {\n                throw new Error(\"unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.\");\n            }\n        } else if (unsavedChangesWarning !== false) {\n            window.addEventListener(\"beforeunload\", (e)=>{\n                if (this.requestManager.hasIncompleteRequests()) {\n                    e.preventDefault();\n                    const confirmationMessage = \"Are you sure you want to leave? Your changes may not be saved.\";\n                    (e || window.event).returnValue = confirmationMessage;\n                    return confirmationMessage;\n                }\n            });\n        }\n        this.webSocketManager = new _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__.WebSocketManager(wsUri, {\n            onOpen: (reconnectMetadata)=>{\n                this.mark(\"convexWebSocketOpen\");\n                this.webSocketManager.sendMessage({\n                    ...reconnectMetadata,\n                    type: \"Connect\",\n                    sessionId: this._sessionId,\n                    maxObservedTimestamp: this.maxObservedTimestamp\n                });\n                const oldRemoteQueryResults = new Set(this.remoteQuerySet.remoteQueryResults().keys());\n                this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n                const [querySetModification, authModification] = this.state.restart(oldRemoteQueryResults);\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                this.webSocketManager.sendMessage(querySetModification);\n                for (const message of this.requestManager.restart()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onResume: ()=>{\n                const [querySetModification, authModification] = this.state.resume();\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                if (querySetModification) {\n                    this.webSocketManager.sendMessage(querySetModification);\n                }\n                for (const message of this.requestManager.resume()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onMessage: (serverMessage)=>{\n                if (!this.firstMessageReceived) {\n                    this.firstMessageReceived = true;\n                    this.mark(\"convexFirstMessageReceived\");\n                    this.reportMarks();\n                }\n                switch(serverMessage.type){\n                    case \"Transition\":\n                        {\n                            this.observedTimestamp(serverMessage.endVersion.ts);\n                            this.authenticationManager.onTransition(serverMessage);\n                            this.remoteQuerySet.transition(serverMessage);\n                            this.state.transition(serverMessage);\n                            const completedRequests = this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());\n                            this.notifyOnQueryResultChanges(completedRequests);\n                            break;\n                        }\n                    case \"MutationResponse\":\n                        {\n                            if (serverMessage.success) {\n                                this.observedTimestamp(serverMessage.ts);\n                            }\n                            const completedMutationInfo = this.requestManager.onResponse(serverMessage);\n                            if (completedMutationInfo !== null) {\n                                this.notifyOnQueryResultChanges(/* @__PURE__ */ new Map([\n                                    [\n                                        completedMutationInfo.requestId,\n                                        completedMutationInfo.result\n                                    ]\n                                ]));\n                            }\n                            break;\n                        }\n                    case \"ActionResponse\":\n                        {\n                            this.requestManager.onResponse(serverMessage);\n                            break;\n                        }\n                    case \"AuthError\":\n                        {\n                            this.authenticationManager.onAuthError(serverMessage);\n                            break;\n                        }\n                    case \"FatalError\":\n                        {\n                            const error = (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logFatalError)(this.logger, serverMessage.error);\n                            void this.webSocketManager.terminate();\n                            throw error;\n                        }\n                    default:\n                        {\n                            serverMessage;\n                        }\n                }\n                return {\n                    hasSyncedPastLastReconnect: this.hasSyncedPastLastReconnect()\n                };\n            },\n            onServerDisconnectError: options.onServerDisconnectError\n        }, webSocketConstructor, this.logger, this.markConnectionStateDirty, this.debug);\n        this.mark(\"convexClientConstructed\");\n        if (options.expectAuth) {\n            pauseSocket();\n        }\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3dCO0FBQ1k7QUFRN0I7QUFDd0I7QUFDQTtBQVF4QjtBQVd3QjtBQUNrQjtBQUNHO0FBQ3ZCO0FBS3RCO0FBRXdDO0FBQ0U7QUFDckI7QUFDRjtBQWdNbkIsTUFBTSxpQkFBaUI7SUFrUjVCOzs7O0dBQUEsR0FPUSw2QkFBNkI7UUFDbkMsTUFBTSw2QkFDSixLQUFLLGVBQWUsMkJBQTJCLEtBQy9DLEtBQUssTUFBTSwyQkFBMkI7UUFDeEMsT0FBTztJQUNUO0lBRVEsa0JBQWtCLFlBQWdCO1FBQ3hDLElBQ0UsS0FBSyx5QkFBeUIsVUFDOUIsS0FBSyxxQkFBcUIsZ0JBQWdCLFVBQVUsR0FDcEQ7WUFDQSxLQUFLLHVCQUF1QjtRQUM5QjtJQUNGO0lBRUEsMEJBQTBCO1FBQ3hCLE9BQU8sS0FBSztJQUNkO0lBQUE7Ozs7Ozs7R0FBQSxHQVVRLDJCQUNOLG1CQUNBO1FBQ0EsTUFBTSxxQkFDSixLQUFLLGVBQWUsbUJBQW1CO1FBQ3pDLE1BQU0sb0JBQXFDLG9CQUFJLElBQUk7UUFDbkQsV0FBVyxDQUFDLFNBQVMsTUFBTSxLQUFLLG1CQUFvQjtZQUNsRCxNQUFNLGFBQWEsS0FBSyxNQUFNLFdBQVcsT0FBTztZQUloRCxJQUFJLGVBQWUsTUFBTTtnQkFDdkIsTUFBTSxRQUFRO29CQUNaO29CQUNBLFNBQVMsS0FBSyxNQUFNLFVBQVUsT0FBTztvQkFDckMsTUFBTSxLQUFLLE1BQU0sVUFBVSxPQUFPO2dCQUNwQztnQkFDQSxrQkFBa0IsSUFBSSxZQUFZLEtBQUs7WUFDekM7UUFDRjtRQUtBLE1BQU0scUJBQ0osS0FBSyx1QkFBdUIsNkJBQzFCLG1CQUNBLElBQUksSUFBSSxrQkFBa0IsS0FBSyxDQUFDO1FBR3BDLEtBQUssaUJBQWlCO1lBQ3BCLFNBQVMsbUJB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NUM7d0JBQ0Y7b0JBQ0EsS0FBSzt3QkFBYTs0QkFDaEIsS0FBSyxzQkFBc0IsWUFBWSxhQUFhOzRCQUNwRDt3QkFDRjtvQkFDQSxLQUFLO3dCQUFjOzRCQUNqQixNQUFNLFFBQVEsMERBQWEsQ0FBQyxLQUFLLFFBQVEsY0FBYyxLQUFLOzRCQUM1RCxLQUFLLEtBQUssaUJBQWlCLFVBQVU7NEJBQ3JDLE1BQU07d0JBQ1I7b0JBQ0E7d0JBQVM7NEJBQ1A7d0JBQ0Y7Z0JBQ0Y7Z0JBRUEsT0FBTztvQkFDTCw0QkFBNEIsS0FBSywyQkFBMkI7Z0JBQzlEO1lBQ0Y7WUFDQSx5QkFBeUIsUUFBUTtRQUNuQyxHQUNBLHNCQUNBLEtBQUssUUFDTCxLQUFLLDBCQUNMLEtBQUs7UUFFUCxLQUFLLEtBQUsseUJBQXlCO1FBR25DLElBQUksUUFBUSxZQUFZO1lBQ3RCLFlBQVk7UUFDZDtJQUNGO0FBK2tCRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9icm93c2VyL3N5bmMvY2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQmFzZUNvbnZleENsaWVudCBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkgYW5kIGRvZXMgbm90IHByb3ZpZGUgYSBzdGFibGVcbiAqIGludGVyZmFjZS4gSXQgaXMgYSBcIkJhc2VcIiBjbGllbnQgbm90IGJlY2F1c2UgaXQgZXhwZWN0cyB0byBiZSBpbmhlcml0ZWQgZnJvbVxuICogYnV0IGJlY2F1c2Ugb3RoZXIgY2xpZW50cyBhcmUgYnVpbHQgYXJvdW5kIGl0LlxuICpcbiAqIEJhc2VDb252ZXhDbGllbnQgaXMgbm90IENvbnZleCBGdW5jdGlvbiB0eXBlLWF3YXJlOiBpdCBkZWFsc1xuICogd2l0aCBxdWVyaWVzIGFzIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBWYWx1ZSwgbm90IHRoZSBzcGVjaWZpYyB2YWx1ZS5cbiAqIFVzZSBhIGhpZ2hlci1sZXZlbCBsaWJyYXJ5IHRvIGdldCB0eXBlcy5cbiAqL1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uLCBWYWx1ZSB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSxcbiAgZm9yd2FyZERhdGEsXG4gIGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcixcbiAgaW5zdGFudGlhdGVOb29wTG9nZ2VyLFxuICBsb2dGYXRhbEVycm9yLFxuICBMb2dnZXIsXG59IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5pbXBvcnQgeyBMb2NhbFN5bmNTdGF0ZSB9IGZyb20gXCIuL2xvY2FsX3N0YXRlLmpzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0TWFuYWdlciB9IGZyb20gXCIuL3JlcXVlc3RfbWFuYWdlci5qc1wiO1xuaW1wb3J0IHtcbiAgT3B0aW1pc3RpY0xvY2FsU3RvcmUsXG4gIE9wdGltaXN0aWNVcGRhdGUsXG59IGZyb20gXCIuL29wdGltaXN0aWNfdXBkYXRlcy5qc1wiO1xuaW1wb3J0IHtcbiAgT3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyxcbiAgUXVlcnlSZXN1bHRzTWFwLFxufSBmcm9tIFwiLi9vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qc1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uUmVxdWVzdCxcbiAgTXV0YXRpb25SZXF1ZXN0LFxuICBRdWVyeUlkLFxuICBRdWVyeUpvdXJuYWwsXG4gIFNlcnZlck1lc3NhZ2UsXG4gIFJlcXVlc3RJZCxcbiAgVFMsXG4gIFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMsXG59IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBSZW1vdGVRdWVyeVNldCB9IGZyb20gXCIuL3JlbW90ZV9xdWVyeV9zZXQuanNcIjtcbmltcG9ydCB7IFF1ZXJ5VG9rZW4sIHNlcmlhbGl6ZVBhdGhBbmRBcmdzIH0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmltcG9ydCB7IFJlY29ubmVjdE1ldGFkYXRhLCBXZWJTb2NrZXRNYW5hZ2VyIH0gZnJvbSBcIi4vd2ViX3NvY2tldF9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBuZXdTZXNzaW9uSWQgfSBmcm9tIFwiLi9zZXNzaW9uLmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvblJlc3VsdCB9IGZyb20gXCIuL2Z1bmN0aW9uX3Jlc3VsdC5qc1wiO1xuaW1wb3J0IHtcbiAgQXV0aGVudGljYXRpb25NYW5hZ2VyLFxuICBBdXRoVG9rZW5GZXRjaGVyLFxufSBmcm9tIFwiLi9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgeyB0eXBlIEF1dGhUb2tlbkZldGNoZXIgfSBmcm9tIFwiLi9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBnZXRNYXJrc1JlcG9ydCwgbWFyaywgTWFya05hbWUgfSBmcm9tIFwiLi9tZXRyaWNzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MsIHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGp3dERlY29kZSB9IGZyb20gXCIuLi8uLi92ZW5kb3Ivand0LWRlY29kZS9pbmRleC5qc1wiO1xuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHtAbGluayBCYXNlQ29udmV4Q2xpZW50fS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUNvbnZleENsaWVudE9wdGlvbnMge1xuICAvKipcbiAgICogV2hldGhlciB0byBwcm9tcHQgdGhlIHVzZXIgaWYgdGhleSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyBwZW5kaW5nXG4gICAqIHdoZW4gbmF2aWdhdGluZyBhd2F5IG9yIGNsb3NpbmcgYSB3ZWIgcGFnZS5cbiAgICpcbiAgICogVGhpcyBpcyBvbmx5IHBvc3NpYmxlIHdoZW4gdGhlIGB3aW5kb3dgIG9iamVjdCBleGlzdHMsIGkuZS4gaW4gYSBicm93c2VyLlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBgdHJ1ZWAgaW4gYnJvd3NlcnMuXG4gICAqL1xuICB1bnNhdmVkQ2hhbmdlc1dhcm5pbmc/OiBib29sZWFuO1xuICAvKipcbiAgICogU3BlY2lmaWVzIGFuIGFsdGVybmF0ZVxuICAgKiBbV2ViU29ja2V0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0KVxuICAgKiBjb25zdHJ1Y3RvciB0byB1c2UgZm9yIGNsaWVudCBjb21tdW5pY2F0aW9uIHdpdGggdGhlIENvbnZleCBjbG91ZC5cbiAgICogVGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgdG8gdXNlIGBXZWJTb2NrZXRgIGZyb20gdGhlIGdsb2JhbCBlbnZpcm9ubWVudC5cbiAgICovXG4gIHdlYlNvY2tldENvbnN0cnVjdG9yPzogdHlwZW9mIFdlYlNvY2tldDtcbiAgLyoqXG4gICAqIEFkZHMgYWRkaXRpb25hbCBsb2dnaW5nIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqL1xuICB2ZXJib3NlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEEgbG9nZ2VyLCBgdHJ1ZWAsIG9yIGBmYWxzZWAuIElmIG5vdCBwcm92aWRlZCBvciBgdHJ1ZWAsIGxvZ3MgdG8gdGhlIGNvbnNvbGUuXG4gICAqIElmIGBmYWxzZWAsIGxvZ3MgYXJlIG5vdCBwcmludGVkIGFueXdoZXJlLlxuICAgKlxuICAgKiBZb3UgY2FuIGNvbnN0cnVjdCB5b3VyIG93biBsb2dnZXIgdG8gY3VzdG9taXplIGxvZ2dpbmcgdG8gbG9nIGVsc2V3aGVyZS5cbiAgICogQSBsb2dnZXIgaXMgYW4gb2JqZWN0IHdpdGggNCBtZXRob2RzOiBsb2coKSwgd2FybigpLCBlcnJvcigpLCBhbmQgbG9nVmVyYm9zZSgpLlxuICAgKiBUaGVzZSBtZXRob2RzIGNhbiByZWNlaXZlIG11bHRpcGxlIGFyZ3VtZW50cyBvZiBhbnkgdHlwZXMsIGxpa2UgY29uc29sZS5sb2coKS5cbiAgICovXG4gIGxvZ2dlcj86IExvZ2dlciB8IGJvb2xlYW47XG4gIC8qKlxuICAgKiBTZW5kcyBhZGRpdGlvbmFsIG1ldHJpY3MgdG8gQ29udmV4IGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWAuXG4gICAqL1xuICByZXBvcnREZWJ1Z0luZm9Ub0NvbnZleD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWw6IGl0IG1heSBjaGFuZ2Ugb3IgZGlzYXBwZWFyLlxuICAgKlxuICAgKiBBIGZ1bmN0aW9uIHRvIGNhbGwgb24gcmVjZWl2aW5nIGFibm9ybWFsIFdlYlNvY2tldCBjbG9zZSBtZXNzYWdlcyBmcm9tIHRoZVxuICAgKiBjb25uZWN0ZWQgQ29udmV4IGRlcGxveW1lbnQuIFRoZSBjb250ZW50IG9mIHRoZXNlIG1lc3NhZ2VzIGlzIG5vdCBzdGFibGUsXG4gICAqIGl0IGlzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCB0aGF0IG1heSBjaGFuZ2UuXG4gICAqXG4gICAqIENvbnNpZGVyIHRoaXMgQVBJIGFuIG9ic2VydmFiaWxpdHkgc3RvcGdhcCB1bnRpbCBoaWdoZXIgbGV2ZWwgY29kZXMgd2l0aFxuICAgKiByZWNvbW1lbmRhdGlvbnMgb24gd2hhdCB0byBkbyBhcmUgYXZhaWxhYmxlLCB3aGljaCBjb3VsZCBiZSBhIG1vcmUgc3RhYmxlXG4gICAqIGludGVyZmFjZSBpbnN0ZWFkIG9mIGBzdHJpbmdgLlxuICAgKlxuICAgKiBDaGVjayBgY29ubmVjdGlvblN0YXRlYCBmb3IgbW9yZSBxdWFudGl0YXRpdmUgbWV0cmljcyBhYm91dCBjb25uZWN0aW9uIHN0YXR1cy5cbiAgICovXG4gIG9uU2VydmVyRGlzY29ubmVjdEVycm9yPzogKG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZDtcbiAgLyoqXG4gICAqIFNraXAgdmFsaWRhdGluZyB0aGF0IHRoZSBDb252ZXggZGVwbG95bWVudCBVUkwgbG9va3MgbGlrZVxuICAgKiBgaHR0cHM6Ly9oYXBweS1hbmltYWwtMTIzLmNvbnZleC5jbG91ZGAgb3IgbG9jYWxob3N0LlxuICAgKlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgcnVubmluZyBhIHNlbGYtaG9zdGVkIENvbnZleCBiYWNrZW5kIHRoYXQgdXNlcyBhIGRpZmZlcmVudFxuICAgKiBVUkwuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGBmYWxzZWBcbiAgICovXG4gIHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2s/OiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdXNpbmcgYXV0aCwgdGhlIG51bWJlciBvZiBzZWNvbmRzIGJlZm9yZSBhIHRva2VuIGV4cGlyZXMgdGhhdCB3ZSBzaG91bGQgcmVmcmVzaCBpdC5cbiAgICpcbiAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgYDJgLlxuICAgKi9cbiAgYXV0aFJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWw6IGl0IG1heSBjaGFuZ2Ugb3IgZGlzYXBwZWFyLlxuICAgKlxuICAgKiBXaGV0aGVyIHF1ZXJ5LCBtdXRhdGlvbiwgYW5kIGFjdGlvbiByZXF1ZXN0cyBzaG91bGQgYmUgaGVsZCBiYWNrXG4gICAqIHVudGlsIHRoZSBmaXJzdCBhdXRoIHRva2VuIGNhbiBiZSBzZW50LlxuICAgKlxuICAgKiBPcHRpbmcgaW50byB0aGlzIGJlaGF2aW9yIHdvcmtzIHdlbGwgZm9yIHBhZ2VzIHRoYXQgc2hvdWxkXG4gICAqIG9ubHkgYmUgdmlld2VkIGJ5IGF1dGhlbnRpY2F0ZWQgY2xpZW50cy5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gZmFsc2UsIG5vdCB3YWl0aW5nIGZvciBhbiBhdXRoIHRva2VuLlxuICAgKi9cbiAgZXhwZWN0QXV0aD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogU3RhdGUgZGVzY3JpYmluZyB0aGUgY2xpZW50J3MgY29ubmVjdGlvbiB3aXRoIHRoZSBDb252ZXggYmFja2VuZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25TdGF0ZSA9IHtcbiAgaGFzSW5mbGlnaHRSZXF1ZXN0czogYm9vbGVhbjtcbiAgaXNXZWJTb2NrZXRDb25uZWN0ZWQ6IGJvb2xlYW47XG4gIHRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdDogRGF0ZSB8IG51bGw7XG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBjbGllbnQgaGFzIGV2ZXIgb3BlbmVkIGEgV2ViU29ja2V0IHRvIHRoZSBcInJlYWR5XCIgc3RhdGUuXG4gICAqL1xuICBoYXNFdmVyQ29ubmVjdGVkOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0aGlzIGNsaWVudCBoYXMgY29ubmVjdGVkIHRvIHRoZSBDb252ZXggYmFja2VuZC5cbiAgICpcbiAgICogQSBudW1iZXIgb2YgdGhpbmdzIGNhbiBjYXVzZSB0aGUgY2xpZW50IHRvIHJlY29ubmVjdCAtLSBzZXJ2ZXIgZXJyb3JzLFxuICAgKiBiYWQgaW50ZXJuZXQsIGF1dGggZXhwaXJpbmcuIEJ1dCB0aGlzIG51bWJlciBiZWluZyBoaWdoIGlzIGFuIGluZGljYXRpb25cbiAgICogdGhhdCB0aGUgY2xpZW50IGlzIGhhdmluZyB0cm91YmxlIGtlZXBpbmcgYSBzdGFibGUgY29ubmVjdGlvbi5cbiAgICovXG4gIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0aGlzIGNsaWVudCBoYXMgdHJpZWQgKGFuZCBmYWlsZWQpIHRvIGNvbm5lY3QgdG8gdGhlIENvbnZleCBiYWNrZW5kLlxuICAgKi9cbiAgY29ubmVjdGlvblJldHJpZXM6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgbXV0YXRpb25zIGN1cnJlbnRseSBpbiBmbGlnaHQuXG4gICAqL1xuICBpbmZsaWdodE11dGF0aW9uczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBhY3Rpb25zIGN1cnJlbnRseSBpbiBmbGlnaHQuXG4gICAqL1xuICBpbmZsaWdodEFjdGlvbnM6IG51bWJlcjtcbn07XG5cbi8qKlxuICogT3B0aW9ucyBmb3Ige0BsaW5rIEJhc2VDb252ZXhDbGllbnQuc3Vic2NyaWJlfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaWJlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBBbiAob3B0aW9uYWwpIGpvdXJuYWwgcHJvZHVjZWQgZnJvbSBhIHByZXZpb3VzIGV4ZWN1dGlvbiBvZiB0aGlzIHF1ZXJ5XG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBJZiB0aGVyZSBpcyBhbiBleGlzdGluZyBzdWJzY3JpcHRpb24gdG8gYSBxdWVyeSBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lXG4gICAqIG5hbWUgYW5kIGFyZ3VtZW50cywgdGhpcyBqb3VybmFsIHdpbGwgaGF2ZSBubyBlZmZlY3QuXG4gICAqL1xuICBqb3VybmFsPzogUXVlcnlKb3VybmFsO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbXBvbmVudFBhdGg/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3Ige0BsaW5rIEJhc2VDb252ZXhDbGllbnQubXV0YXRpb259LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRhdGlvbk9wdGlvbnMge1xuICAvKipcbiAgICogQW4gb3B0aW1pc3RpYyB1cGRhdGUgdG8gYXBwbHkgYWxvbmcgd2l0aCB0aGlzIG11dGF0aW9uLlxuICAgKlxuICAgKiBBbiBvcHRpbWlzdGljIHVwZGF0ZSBsb2NhbGx5IHVwZGF0ZXMgcXVlcmllcyB3aGlsZSBhIG11dGF0aW9uIGlzIHBlbmRpbmcuXG4gICAqIE9uY2UgdGhlIG11dGF0aW9uIGNvbXBsZXRlcywgdGhlIHVwZGF0ZSB3aWxsIGJlIHJvbGxlZCBiYWNrLlxuICAgKi9cbiAgb3B0aW1pc3RpY1VwZGF0ZT86IE9wdGltaXN0aWNVcGRhdGU8YW55PiB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUeXBlIGRlc2NyaWJpbmcgdXBkYXRlcyB0byBhIHF1ZXJ5IHdpdGhpbiBhIGBUcmFuc2l0aW9uYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFF1ZXJ5TW9kaWZpY2F0aW9uID1cbiAgLy8gYHVuZGVmaW5lZGAgZ2VuZXJhbGx5IGNvbWVzIGZyb20gYW4gb3B0aW1pc3RpYyB1cGRhdGUgc2V0dGluZyB0aGUgcXVlcnkgdG8gYmUgbG9hZGluZ1xuICB7IGtpbmQ6IFwiVXBkYXRlZFwiOyByZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkIH0gfCB7IGtpbmQ6IFwiUmVtb3ZlZFwiIH07XG5cbi8qKlxuICogT2JqZWN0IGRlc2NyaWJpbmcgYSB0cmFuc2l0aW9uIHBhc3NlZCBpbnRvIHRoZSBgb25UcmFuc2l0aW9uYCBoYW5kbGVyLlxuICpcbiAqIFRoZXNlIGNhbiBiZSBmcm9tIHJlY2VpdmluZyBhIHRyYW5zaXRpb24gZnJvbSB0aGUgc2VydmVyLCBvciBmcm9tIGFwcGx5aW5nIGFuXG4gKiBvcHRpbWlzdGljIHVwZGF0ZSBsb2NhbGx5LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbiA9IHtcbiAgcXVlcmllczogQXJyYXk8eyB0b2tlbjogUXVlcnlUb2tlbjsgbW9kaWZpY2F0aW9uOiBRdWVyeU1vZGlmaWNhdGlvbiB9PjtcbiAgcmVmbGVjdGVkTXV0YXRpb25zOiBBcnJheTx7IHJlcXVlc3RJZDogUmVxdWVzdElkOyByZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0IH0+O1xuICB0aW1lc3RhbXA6IFRTO1xufTtcblxuLyoqXG4gKiBMb3ctbGV2ZWwgY2xpZW50IGZvciBkaXJlY3RseSBpbnRlZ3JhdGluZyBzdGF0ZSBtYW5hZ2VtZW50IGxpYnJhcmllc1xuICogd2l0aCBDb252ZXguXG4gKlxuICogTW9zdCBkZXZlbG9wZXJzIHNob3VsZCB1c2UgaGlnaGVyIGxldmVsIGNsaWVudHMsIGxpa2VcbiAqIHRoZSB7QGxpbmsgQ29udmV4SHR0cENsaWVudH0gb3IgdGhlIFJlYWN0IGhvb2sgYmFzZWQge0BsaW5rIHJlYWN0LkNvbnZleFJlYWN0Q2xpZW50fS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlQ29udmV4Q2xpZW50IHtcbiAgcHJpdmF0ZSByZWFkb25seSBhZGRyZXNzOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhdGU6IExvY2FsU3luY1N0YXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IHJlcXVlc3RNYW5hZ2VyOiBSZXF1ZXN0TWFuYWdlcjtcbiAgcHJpdmF0ZSByZWFkb25seSB3ZWJTb2NrZXRNYW5hZ2VyOiBXZWJTb2NrZXRNYW5hZ2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IGF1dGhlbnRpY2F0aW9uTWFuYWdlcjogQXV0aGVudGljYXRpb25NYW5hZ2VyO1xuICBwcml2YXRlIHJlbW90ZVF1ZXJ5U2V0OiBSZW1vdGVRdWVyeVNldDtcbiAgcHJpdmF0ZSByZWFkb25seSBvcHRpbWlzdGljUXVlcnlSZXN1bHRzOiBPcHRpbWlzdGljUXVlcnlSZXN1bHRzO1xuICBwcml2YXRlIF90cmFuc2l0aW9uSGFuZGxlckNvdW50ZXIgPSAwO1xuICBwcml2YXRlIF9uZXh0UmVxdWVzdElkOiBSZXF1ZXN0SWQ7XG4gIHByaXZhdGUgX29uVHJhbnNpdGlvbkZuczogTWFwPG51bWJlciwgKHRyYW5zaXRpb246IFRyYW5zaXRpb24pID0+IHZvaWQ+ID1cbiAgICBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgX3Nlc3Npb25JZDogc3RyaW5nO1xuICBwcml2YXRlIGZpcnN0TWVzc2FnZVJlY2VpdmVkID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVidWc6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHByaXZhdGUgbWF4T2JzZXJ2ZWRUaW1lc3RhbXA6IFRTIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGNvbm5lY3Rpb25TdGF0ZVN1YnNjcmliZXJzID0gbmV3IE1hcDxcbiAgICBudW1iZXIsXG4gICAgKGNvbm5lY3Rpb25TdGF0ZTogQ29ubmVjdGlvblN0YXRlKSA9PiB2b2lkXG4gID4oKTtcbiAgcHJpdmF0ZSBuZXh0Q29ubmVjdGlvblN0YXRlU3Vic2NyaWJlcklkOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIF9sYXN0UHVibGlzaGVkQ29ubmVjdGlvblN0YXRlOiBDb25uZWN0aW9uU3RhdGUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhZGRyZXNzIC0gVGhlIHVybCBvZiB5b3VyIENvbnZleCBkZXBsb3ltZW50LCBvZnRlbiBwcm92aWRlZFxuICAgKiBieSBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS4gRS5nLiBgaHR0cHM6Ly9zbWFsbC1tb3VzZS0xMjMuY29udmV4LmNsb3VkYC5cbiAgICogQHBhcmFtIG9uVHJhbnNpdGlvbiAtIEEgY2FsbGJhY2sgcmVjZWl2aW5nIGFuIGFycmF5IG9mIHF1ZXJ5IHRva2Vuc1xuICAgKiBjb3JyZXNwb25kaW5nIHRvIHF1ZXJ5IHJlc3VsdHMgdGhhdCBoYXZlIGNoYW5nZWQgLS0gYWRkaXRpb25hbCBoYW5kbGVyc1xuICAgKiBjYW4gYmUgYWRkZWQgdmlhIGBhZGRPblRyYW5zaXRpb25IYW5kbGVyYC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBTZWUge0BsaW5rIEJhc2VDb252ZXhDbGllbnRPcHRpb25zfSBmb3IgYSBmdWxsIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIG9uVHJhbnNpdGlvbjogKHVwZGF0ZWRRdWVyaWVzOiBRdWVyeVRva2VuW10pID0+IHZvaWQsXG4gICAgb3B0aW9ucz86IEJhc2VDb252ZXhDbGllbnRPcHRpb25zLFxuICApIHtcbiAgICBpZiAodHlwZW9mIGFkZHJlc3MgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJQYXNzaW5nIGEgQ2xpZW50Q29uZmlnIG9iamVjdCBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQYXNzIHRoZSBVUkwgb2YgdGhlIENvbnZleCBkZXBsb3ltZW50IGFzIGEgc3RyaW5nIGRpcmVjdGx5LlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGF1dGhSZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzID1cbiAgICAgIG9wdGlvbnMuYXV0aFJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHMgPz8gMjtcbiAgICBsZXQgd2ViU29ja2V0Q29uc3RydWN0b3IgPSBvcHRpb25zLndlYlNvY2tldENvbnN0cnVjdG9yO1xuICAgIGlmICghd2ViU29ja2V0Q29uc3RydWN0b3IgJiYgdHlwZW9mIFdlYlNvY2tldCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIFdlYlNvY2tldCBnbG9iYWwgdmFyaWFibGUgZGVmaW5lZCEgVG8gdXNlIENvbnZleCBpbiBhbiBlbnZpcm9ubWVudCB3aXRob3V0IFdlYlNvY2tldCB0cnkgdGhlIEhUVFAgY2xpZW50OiBodHRwczovL2RvY3MuY29udmV4LmRldi9hcGkvY2xhc3Nlcy9icm93c2VyLkNvbnZleEh0dHBDbGllbnRcIixcbiAgICAgICk7XG4gICAgfVxuICAgIHdlYlNvY2tldENvbnN0cnVjdG9yID0gd2ViU29ja2V0Q29uc3RydWN0b3IgfHwgV2ViU29ja2V0O1xuICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLnJlcG9ydERlYnVnSW5mb1RvQ29udmV4ID8/IGZhbHNlO1xuICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgdGhpcy5sb2dnZXIgPVxuICAgICAgb3B0aW9ucy5sb2dnZXIgPT09IGZhbHNlXG4gICAgICAgID8gaW5zdGFudGlhdGVOb29wTG9nZ2VyKHsgdmVyYm9zZTogb3B0aW9ucy52ZXJib3NlID8/IGZhbHNlIH0pXG4gICAgICAgIDogb3B0aW9ucy5sb2dnZXIgIT09IHRydWUgJiYgb3B0aW9ucy5sb2dnZXJcbiAgICAgICAgICA/IG9wdGlvbnMubG9nZ2VyXG4gICAgICAgICAgOiBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIoeyB2ZXJib3NlOiBvcHRpb25zLnZlcmJvc2UgPz8gZmFsc2UgfSk7XG4gICAgLy8gU3Vic3RpdHV0ZSBodHRwKHMpIHdpdGggd3MocylcbiAgICBjb25zdCBpID0gYWRkcmVzcy5zZWFyY2goXCI6Ly9cIik7XG4gICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCBhZGRyZXNzIHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMLlwiKTtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luID0gYWRkcmVzcy5zdWJzdHJpbmcoaSArIDMpOyAvLyBtb3ZlIHBhc3QgdGhlIGRvdWJsZSBzbGFzaFxuICAgIGNvbnN0IHByb3RvY29sID0gYWRkcmVzcy5zdWJzdHJpbmcoMCwgaSk7XG4gICAgbGV0IHdzUHJvdG9jb2w7XG4gICAgaWYgKHByb3RvY29sID09PSBcImh0dHBcIikge1xuICAgICAgd3NQcm90b2NvbCA9IFwid3NcIjtcbiAgICB9IGVsc2UgaWYgKHByb3RvY29sID09PSBcImh0dHBzXCIpIHtcbiAgICAgIHdzUHJvdG9jb2wgPSBcIndzc1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFyZW50IHByb3RvY29sICR7cHJvdG9jb2x9YCk7XG4gICAgfVxuICAgIGNvbnN0IHdzVXJpID0gYCR7d3NQcm90b2NvbH06Ly8ke29yaWdpbn0vYXBpLyR7dmVyc2lvbn0vc3luY2A7XG5cbiAgICB0aGlzLnN0YXRlID0gbmV3IExvY2FsU3luY1N0YXRlKCk7XG4gICAgdGhpcy5yZW1vdGVRdWVyeVNldCA9IG5ldyBSZW1vdGVRdWVyeVNldChcbiAgICAgIChxdWVyeUlkKSA9PiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKSxcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICk7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG5ldyBSZXF1ZXN0TWFuYWdlcihcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHksXG4gICAgKTtcblxuICAgIC8vIFRoaXMgaXMgYSBjYWxsYmFjayBmb3IgQXV0aGVudGljYXRpb25NYW5hZ2VyICh3aGljaCBjYW4ndCBjYWxsXG4gICAgLy8gdGhpcyBzeW5jaHJvbm91c2x5LCB0aGUgY2FsbGJhY2sgd291bGRuJ3Qgd29yaykgc28gdGhlIGluaXRpYWxcbiAgICAvLyBwYXVzZSBmb3IgZXhwZWN0QXV0aCB3ZSBjYWxsIGl0IGF0IHRoZSBlbmQgb2YgdGhpcyBjb25zdHJ1Y3Rvci5cbiAgICBjb25zdCBwYXVzZVNvY2tldCA9ICgpID0+IHtcbiAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5wYXVzZSgpO1xuICAgICAgdGhpcy5zdGF0ZS5wYXVzZSgpO1xuICAgIH07XG4gICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIgPSBuZXcgQXV0aGVudGljYXRpb25NYW5hZ2VyKFxuICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgIHtcbiAgICAgICAgYXV0aGVudGljYXRlOiAodG9rZW4pID0+IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5zZXRBdXRoKHRva2VuKTtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgcmV0dXJuIG1lc3NhZ2UuYmFzZVZlcnNpb247XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BTb2NrZXQ6ICgpID0+IHRoaXMud2ViU29ja2V0TWFuYWdlci5zdG9wKCksXG4gICAgICAgIHRyeVJlc3RhcnRTb2NrZXQ6ICgpID0+IHRoaXMud2ViU29ja2V0TWFuYWdlci50cnlSZXN0YXJ0KCksXG4gICAgICAgIHBhdXNlU29ja2V0LFxuICAgICAgICByZXN1bWVTb2NrZXQ6ICgpID0+IHRoaXMud2ViU29ja2V0TWFuYWdlci5yZXN1bWUoKSxcbiAgICAgICAgY2xlYXJBdXRoOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jbGVhckF1dGgoKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXIsXG4gICAgICAgIHJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHM6IGF1dGhSZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzLFxuICAgICAgfSxcbiAgICApO1xuICAgIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyA9IG5ldyBPcHRpbWlzdGljUXVlcnlSZXN1bHRzKCk7XG4gICAgdGhpcy5hZGRPblRyYW5zaXRpb25IYW5kbGVyKCh0cmFuc2l0aW9uKSA9PiB7XG4gICAgICBvblRyYW5zaXRpb24odHJhbnNpdGlvbi5xdWVyaWVzLm1hcCgocSkgPT4gcS50b2tlbikpO1xuICAgIH0pO1xuICAgIHRoaXMuX25leHRSZXF1ZXN0SWQgPSAwO1xuICAgIHRoaXMuX3Nlc3Npb25JZCA9IG5ld1Nlc3Npb25JZCgpO1xuXG4gICAgY29uc3QgeyB1bnNhdmVkQ2hhbmdlc1dhcm5pbmcgfSA9IG9wdGlvbnM7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgICAgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiXG4gICAgKSB7XG4gICAgICBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInVuc2F2ZWRDaGFuZ2VzV2FybmluZyByZXF1ZXN0ZWQsIGJ1dCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBub3QgZm91bmQhIFJlbW92ZSB7dW5zYXZlZENoYW5nZXNXYXJuaW5nOiB0cnVlfSBmcm9tIENvbnZleCBjbGllbnQgb3B0aW9ucy5cIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHVuc2F2ZWRDaGFuZ2VzV2FybmluZyAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIExpc3RlbiBmb3IgdGFiIGNsb3NlIGV2ZW50cyBhbmQgbm90aWZ5IHRoZSB1c2VyIG9uIHVuc2F2ZWQgY2hhbmdlcy5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIChlKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc0luY29tcGxldGVSZXF1ZXN0cygpKSB7XG4gICAgICAgICAgLy8gVGhlcmUgYXJlIDMgZGlmZmVyZW50IHdheXMgdG8gdHJpZ2dlciB0aGlzIHBvcCB1cCBzbyBqdXN0IHRyeSBhbGwgb2ZcbiAgICAgICAgICAvLyB0aGVtLlxuXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIC8vIFRoaXMgY29uZmlybWF0aW9uIG1lc3NhZ2UgZG9lc24ndCBhY3R1YWxseSBhcHBlYXIgaW4gbW9zdCBtb2Rlcm5cbiAgICAgICAgICAvLyBicm93c2VycyBidXQgd2UgdHJpZWQuXG4gICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uTWVzc2FnZSA9XG4gICAgICAgICAgICBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBsZWF2ZT8gWW91ciBjaGFuZ2VzIG1heSBub3QgYmUgc2F2ZWQuXCI7XG4gICAgICAgICAgLy8gUmVjb21tZW5kZWQgbWV0aG9kIGZvciBsZWdhY3kgKElFKSBicm93c2Vycy5cbiAgICAgICAgICAvLyBjYXN0cyB0byBhdm9pZCBkZXByZWNhdGlvbiBub3RpY2VzXG4gICAgICAgICAgKChlIHx8ICh3aW5kb3cgYXMgYW55KS5ldmVudCkgYXMgYW55KS5yZXR1cm5WYWx1ZSA9XG4gICAgICAgICAgICBjb25maXJtYXRpb25NZXNzYWdlO1xuICAgICAgICAgIHJldHVybiBjb25maXJtYXRpb25NZXNzYWdlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIgPSBuZXcgV2ViU29ja2V0TWFuYWdlcihcbiAgICAgIHdzVXJpLFxuICAgICAge1xuICAgICAgICBvbk9wZW46IChyZWNvbm5lY3RNZXRhZGF0YTogUmVjb25uZWN0TWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAvLyBXZSBoYXZlIGEgbmV3IFdlYlNvY2tldCFcbiAgICAgICAgICB0aGlzLm1hcmsoXCJjb252ZXhXZWJTb2NrZXRPcGVuXCIpO1xuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAuLi5yZWNvbm5lY3RNZXRhZGF0YSxcbiAgICAgICAgICAgIHR5cGU6IFwiQ29ubmVjdFwiLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLl9zZXNzaW9uSWQsXG4gICAgICAgICAgICBtYXhPYnNlcnZlZFRpbWVzdGFtcDogdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcCxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFRocm93IG91dCBvdXIgcmVtb3RlIHF1ZXJ5LCByZWlzc3VlIHF1ZXJpZXNcbiAgICAgICAgICAvLyBhbmQgb3V0c3RhbmRpbmcgbXV0YXRpb25zLCBhbmQgcmVhdXRoZW50aWNhdGUuXG4gICAgICAgICAgY29uc3Qgb2xkUmVtb3RlUXVlcnlSZXN1bHRzID0gbmV3IFNldChcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQucmVtb3RlUXVlcnlSZXN1bHRzKCkua2V5cygpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldCA9IG5ldyBSZW1vdGVRdWVyeVNldChcbiAgICAgICAgICAgIChxdWVyeUlkKSA9PiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKSxcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgW3F1ZXJ5U2V0TW9kaWZpY2F0aW9uLCBhdXRoTW9kaWZpY2F0aW9uXSA9IHRoaXMuc3RhdGUucmVzdGFydChcbiAgICAgICAgICAgIG9sZFJlbW90ZVF1ZXJ5UmVzdWx0cyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhdXRoTW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UoYXV0aE1vZGlmaWNhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShxdWVyeVNldE1vZGlmaWNhdGlvbik7XG4gICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHRoaXMucmVxdWVzdE1hbmFnZXIucmVzdGFydCgpKSB7XG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblJlc3VtZTogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IFtxdWVyeVNldE1vZGlmaWNhdGlvbiwgYXV0aE1vZGlmaWNhdGlvbl0gPSB0aGlzLnN0YXRlLnJlc3VtZSgpO1xuICAgICAgICAgIGlmIChhdXRoTW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UoYXV0aE1vZGlmaWNhdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChxdWVyeVNldE1vZGlmaWNhdGlvbikge1xuICAgICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKHF1ZXJ5U2V0TW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHRoaXMucmVxdWVzdE1hbmFnZXIucmVzdW1lKCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uTWVzc2FnZTogKHNlcnZlck1lc3NhZ2U6IFNlcnZlck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAvLyBNZXRyaWNzIGV2ZW50cyBncm93IGxpbmVhcmx5IHdpdGggcmVjb25uZWN0aW9uIGF0dGVtcHRzIHNvIHRoaXNcbiAgICAgICAgICAvLyBjb25kaXRpb25hbCBwcmV2ZW50cyBuXjIgbWV0cmljcyByZXBvcnRpbmcuXG4gICAgICAgICAgaWYgKCF0aGlzLmZpcnN0TWVzc2FnZVJlY2VpdmVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpcnN0TWVzc2FnZVJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFyayhcImNvbnZleEZpcnN0TWVzc2FnZVJlY2VpdmVkXCIpO1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRNYXJrcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHNlcnZlck1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIlRyYW5zaXRpb25cIjoge1xuICAgICAgICAgICAgICB0aGlzLm9ic2VydmVkVGltZXN0YW1wKHNlcnZlck1lc3NhZ2UuZW5kVmVyc2lvbi50cyk7XG4gICAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLm9uVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC50cmFuc2l0aW9uKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICB0aGlzLnN0YXRlLnRyYW5zaXRpb24oc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFJlcXVlc3RzID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5yZW1vdmVDb21wbGV0ZWQoXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC50aW1lc3RhbXAoKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcyhjb21wbGV0ZWRSZXF1ZXN0cyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgICAgICAgICBpZiAoc2VydmVyTWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlZFRpbWVzdGFtcChzZXJ2ZXJNZXNzYWdlLnRzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRNdXRhdGlvbkluZm8gPVxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIub25SZXNwb25zZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZE11dGF0aW9uSW5mbyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5T25RdWVyeVJlc3VsdENoYW5nZXMoXG4gICAgICAgICAgICAgICAgICBuZXcgTWFwKFtcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZE11dGF0aW9uSW5mby5yZXF1ZXN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkTXV0YXRpb25JbmZvLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiQWN0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uUmVzcG9uc2Uoc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkF1dGhFcnJvclwiOiB7XG4gICAgICAgICAgICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLm9uQXV0aEVycm9yKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJGYXRhbEVycm9yXCI6IHtcbiAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBsb2dGYXRhbEVycm9yKHRoaXMubG9nZ2VyLCBzZXJ2ZXJNZXNzYWdlLmVycm9yKTtcbiAgICAgICAgICAgICAgdm9pZCB0aGlzLndlYlNvY2tldE1hbmFnZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICBzZXJ2ZXJNZXNzYWdlIHNhdGlzZmllcyBuZXZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3Q6IHRoaXMuaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBvblNlcnZlckRpc2Nvbm5lY3RFcnJvcjogb3B0aW9ucy5vblNlcnZlckRpc2Nvbm5lY3RFcnJvcixcbiAgICAgIH0sXG4gICAgICB3ZWJTb2NrZXRDb25zdHJ1Y3RvcixcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHksXG4gICAgICB0aGlzLmRlYnVnLFxuICAgICk7XG4gICAgdGhpcy5tYXJrKFwiY29udmV4Q2xpZW50Q29uc3RydWN0ZWRcIik7XG5cbiAgICAvLyBCZWdpbiBjbGllbnQgaW4gYSBwYXVzZWQgc3RhdGUgd2FpdGluZyBmb3IgYW4gYXV0aCB0b2tlbi5cbiAgICBpZiAob3B0aW9ucy5leHBlY3RBdXRoKSB7XG4gICAgICBwYXVzZVNvY2tldCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGVyZSBpcyBvdXRzdGFuZGluZyB3b3JrIGZyb20gcHJpb3IgdG8gdGhlIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50IHJlc3RhcnQuXG4gICAqIFRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IHByb3ZlbiBpdHNlbGYgdG8gaGF2ZSBnb3R0ZW4gcGFzdCB0aGUgaXNzdWUgdGhhdFxuICAgKiBwb3RlbnRpYWxseSBsZWQgdG8gdGhlIHJlc3RhcnQuIFVzZSB0aGlzIHRvIGluZmx1ZW5jZSB3aGVuIHRvIHJlc2V0IGJhY2tvZmYgYWZ0ZXIgYSBmYWlsdXJlLlxuICAgKi9cbiAgcHJpdmF0ZSBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpIHtcbiAgICBjb25zdCBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCA9XG4gICAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkgfHxcbiAgICAgIHRoaXMuc3RhdGUuaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKTtcbiAgICByZXR1cm4gaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3Q7XG4gIH1cblxuICBwcml2YXRlIG9ic2VydmVkVGltZXN0YW1wKG9ic2VydmVkVHM6IFRTKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wLmxlc3NUaGFuT3JFcXVhbChvYnNlcnZlZFRzKVxuICAgICkge1xuICAgICAgdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcCA9IG9ic2VydmVkVHM7XG4gICAgfVxuICB9XG5cbiAgZ2V0TWF4T2JzZXJ2ZWRUaW1lc3RhbXAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXA7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgY3VycmVudCBxdWVyeSByZXN1bHRzIGJhc2VkIG9uIHRoZSByZW1vdGVRdWVyeVNldCBhbmQgdGhlXG4gICAqIGN1cnJlbnQgb3B0aW1pc3RpYyB1cGRhdGVzIGFuZCBjYWxsIGBvblRyYW5zaXRpb25gIGZvciBhbGwgdGhlIGNoYW5nZWRcbiAgICogcXVlcmllcy5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBsZXRlZE11dGF0aW9ucyAtIEEgc2V0IG9mIG11dGF0aW9uIElEcyB3aG9zZSBvcHRpbWlzdGljIHVwZGF0ZXNcbiAgICogYXJlIG5vIGxvbmdlciBuZWVkZWQuXG4gICAqL1xuICBwcml2YXRlIG5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKFxuICAgIGNvbXBsZXRlZFJlcXVlc3RzOiBNYXA8UmVxdWVzdElkLCBGdW5jdGlvblJlc3VsdD4sXG4gICkge1xuICAgIGNvbnN0IHJlbW90ZVF1ZXJ5UmVzdWx0czogTWFwPFF1ZXJ5SWQsIEZ1bmN0aW9uUmVzdWx0PiA9XG4gICAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnJlbW90ZVF1ZXJ5UmVzdWx0cygpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW5Ub1ZhbHVlOiBRdWVyeVJlc3VsdHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcXVlcnlJZCwgcmVzdWx0XSBvZiByZW1vdGVRdWVyeVJlc3VsdHMpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSB0aGlzLnN0YXRlLnF1ZXJ5VG9rZW4ocXVlcnlJZCk7XG4gICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2UndmUgYWxyZWFkeSB1bnN1YnNjcmliZWQgdG8gdGhpcyBxdWVyeSBidXRcbiAgICAgIC8vIHRoZSBzZXJ2ZXIgaGFzbid0IGxlYXJuZWQgYWJvdXQgdGhhdCB5ZXQuIElmIHNvLCBpZ25vcmUgdGhpcyBvbmUuXG5cbiAgICAgIGlmIChxdWVyeVRva2VuICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICB1ZGZQYXRoOiB0aGlzLnN0YXRlLnF1ZXJ5UGF0aChxdWVyeUlkKSEsXG4gICAgICAgICAgYXJnczogdGhpcy5zdGF0ZS5xdWVyeUFyZ3MocXVlcnlJZCkhLFxuICAgICAgICB9O1xuICAgICAgICBxdWVyeVRva2VuVG9WYWx1ZS5zZXQocXVlcnlUb2tlbiwgcXVlcnkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFF1ZXJ5IHRva2VucyB0aGF0IGFyZSBuZXcgKGJlY2F1c2Ugb2YgbmV3IHNlcnZlciByZXN1bHRzIG9yIG5ldyBsb2NhbCBvcHRpbWlzdGljIHVwZGF0ZXMpXG4gICAgLy8gb3IgZGlmZmVyIGZyb20gb2xkIHZhbHVlcyAoYmVjYXVzZSBvZiBjaGFuZ2VzIGZyb20gbG9jYWwgb3B0aW1pc3RpYyB1cGRhdGVzIG9yIG5ldyByZXN1bHRzXG4gICAgLy8gZnJvbSB0aGUgc2VydmVyKS5cbiAgICBjb25zdCBjaGFuZ2VkUXVlcnlUb2tlbnMgPVxuICAgICAgdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLmluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIoXG4gICAgICAgIHF1ZXJ5VG9rZW5Ub1ZhbHVlLFxuICAgICAgICBuZXcgU2V0KGNvbXBsZXRlZFJlcXVlc3RzLmtleXMoKSksXG4gICAgICApO1xuXG4gICAgdGhpcy5oYW5kbGVUcmFuc2l0aW9uKHtcbiAgICAgIHF1ZXJpZXM6IGNoYW5nZWRRdWVyeVRva2Vucy5tYXAoKHRva2VuKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wdGltaXN0aWNSZXN1bHQgPVxuICAgICAgICAgIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5yYXdRdWVyeVJlc3VsdCh0b2tlbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICBraW5kOiBcIlVwZGF0ZWRcIiBhcyBjb25zdCxcbiAgICAgICAgICAgIHJlc3VsdDogb3B0aW1pc3RpY1Jlc3VsdCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByZWZsZWN0ZWRNdXRhdGlvbnM6IEFycmF5LmZyb20oY29tcGxldGVkUmVxdWVzdHMpLm1hcChcbiAgICAgICAgKFtyZXF1ZXN0SWQsIHJlc3VsdF0pID0+ICh7XG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICAgdGltZXN0YW1wOiB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnRpbWVzdGFtcCgpLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVUcmFuc2l0aW9uKHRyYW5zaXRpb246IFRyYW5zaXRpb24pIHtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMuX29uVHJhbnNpdGlvbkZucy52YWx1ZXMoKSkge1xuICAgICAgZm4odHJhbnNpdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBhIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIEFueSBleHRlcm5hbCBzaWRlIGVmZmVjdHMgKGUuZy4gc2V0dGluZyBSZWFjdCBzdGF0ZSkgc2hvdWxkIGJlIGhhbmRsZWQgaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIGZuXG4gICAqXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhZGRPblRyYW5zaXRpb25IYW5kbGVyKGZuOiAodHJhbnNpdGlvbjogVHJhbnNpdGlvbikgPT4gdm9pZCkge1xuICAgIGNvbnN0IGlkID0gdGhpcy5fdHJhbnNpdGlvbkhhbmRsZXJDb3VudGVyKys7XG4gICAgdGhpcy5fb25UcmFuc2l0aW9uRm5zLnNldChpZCwgZm4pO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLl9vblRyYW5zaXRpb25GbnMuZGVsZXRlKGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgSldUIGF1dGggdG9rZW4gYW5kIGRlY29kZWQgY2xhaW1zLlxuICAgKi9cbiAgZ2V0Q3VycmVudEF1dGhDbGFpbXMoKTpcbiAgICB8IHsgdG9rZW46IHN0cmluZzsgZGVjb2RlZDogUmVjb3JkPHN0cmluZywgYW55PiB9XG4gICAgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGF1dGhUb2tlbiA9IHRoaXMuc3RhdGUuZ2V0QXV0aCgpO1xuICAgIGxldCBkZWNvZGVkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XG4gICAgaWYgKGF1dGhUb2tlbiAmJiBhdXRoVG9rZW4udG9rZW5UeXBlID09PSBcIlVzZXJcIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGVjb2RlZCA9IGF1dGhUb2tlbiA/IGp3dERlY29kZShhdXRoVG9rZW4udmFsdWUpIDoge307XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgZGVjb2RlZCA9IHt9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4geyB0b2tlbjogYXV0aFRva2VuLnZhbHVlLCBkZWNvZGVkIH07XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHF1ZXJpZXMgYW5kIG11dGF0aW9ucy5cbiAgICogYGZldGNoVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYWdhaW4gaWYgYSB0b2tlbiBleHBpcmVzLlxuICAgKiBgZmV0Y2hUb2tlbmAgc2hvdWxkIHJldHVybiBgbnVsbGAgaWYgdGhlIHRva2VuIGNhbm5vdCBiZSByZXRyaWV2ZWQsIGZvciBleGFtcGxlXG4gICAqIHdoZW4gdGhlIHVzZXIncyByaWdodHMgd2VyZSBwZXJtYW5lbnRseSByZXZva2VkLlxuICAgKiBAcGFyYW0gZmV0Y2hUb2tlbiAtIGFuIGFzeW5jIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgSldULWVuY29kZWQgT3BlbklEIENvbm5lY3QgSWRlbnRpdHkgVG9rZW5cbiAgICogQHBhcmFtIG9uQ2hhbmdlIC0gYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBjaGFuZ2VzXG4gICAqL1xuICBzZXRBdXRoKFxuICAgIGZldGNoVG9rZW46IEF1dGhUb2tlbkZldGNoZXIsXG4gICAgb25DaGFuZ2U6IChpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge1xuICAgIHZvaWQgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIuc2V0Q29uZmlnKGZldGNoVG9rZW4sIG9uQ2hhbmdlKTtcbiAgfVxuXG4gIGhhc0F1dGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaGFzQXV0aCgpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzZXRBZG1pbkF1dGgodmFsdWU6IHN0cmluZywgZmFrZVVzZXJJZGVudGl0eT86IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5zZXRBZG1pbkF1dGgodmFsdWUsIGZha2VVc2VySWRlbnRpdHkpO1xuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgfVxuXG4gIGNsZWFyQXV0aCgpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5zdGF0ZS5jbGVhckF1dGgoKTtcbiAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIGEgcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqIFdoZW5ldmVyIHRoaXMgcXVlcnkncyByZXN1bHQgY2hhbmdlcywgdGhlIGBvblRyYW5zaXRpb25gIGNhbGxiYWNrXG4gICAqIHBhc3NlZCBpbnRvIHRoZSBjb25zdHJ1Y3RvciB3aWxsIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcXVlcnkuXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsIHRoZVxuICAgKiBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIFN1YnNjcmliZU9wdGlvbnN9IG9wdGlvbnMgb2JqZWN0IGZvciB0aGlzIHF1ZXJ5LlxuXG4gICAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIGEge0BsaW5rIFF1ZXJ5VG9rZW59IGNvcnJlc3BvbmRpbmcgdG8gdGhpc1xuICAgKiBxdWVyeSBhbmQgYW4gYHVuc3Vic2NyaWJlYCBjYWxsYmFjay5cbiAgICovXG4gIHN1YnNjcmliZShcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJncz86IFJlY29yZDxzdHJpbmcsIFZhbHVlPixcbiAgICBvcHRpb25zPzogU3Vic2NyaWJlT3B0aW9ucyxcbiAgKTogeyBxdWVyeVRva2VuOiBRdWVyeVRva2VuOyB1bnN1YnNjcmliZTogKCkgPT4gdm9pZCB9IHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuXG4gICAgY29uc3QgeyBtb2RpZmljYXRpb24sIHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLnN0YXRlLnN1YnNjcmliZShcbiAgICAgIG5hbWUsXG4gICAgICBhcmdzT2JqZWN0LFxuICAgICAgb3B0aW9ucz8uam91cm5hbCxcbiAgICAgIG9wdGlvbnM/LmNvbXBvbmVudFBhdGgsXG4gICAgKTtcbiAgICBpZiAobW9kaWZpY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobW9kaWZpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5VG9rZW4sXG4gICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RpZmljYXRpb24gPSB1bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAobW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1vZGlmaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHF1ZXJ5IHJlc3VsdCBiYXNlZCBvbmx5IG9uIHRoZSBjdXJyZW50LCBsb2NhbCBzdGF0ZS5cbiAgICpcbiAgICogVGhlIG9ubHkgd2F5IHRoaXMgd2lsbCByZXR1cm4gYSB2YWx1ZSBpcyBpZiB3ZSdyZSBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhlXG4gICAqIHF1ZXJ5IG9yIGl0cyB2YWx1ZSBoYXMgYmVlbiBzZXQgb3B0aW1pc3RpY2FsbHkuXG4gICAqL1xuICBsb2NhbFF1ZXJ5UmVzdWx0KFxuICAgIHVkZlBhdGg6IHN0cmluZyxcbiAgICBhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICApOiBWYWx1ZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgYXJnc09iamVjdCA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3ModWRmUGF0aCwgYXJnc09iamVjdCk7XG4gICAgcmV0dXJuIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5xdWVyeVJlc3VsdChxdWVyeVRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcXVlcnkgcmVzdWx0IGJ5IHF1ZXJ5IHRva2VuIGJhc2VkIG9uIGN1cnJlbnQsIGxvY2FsIHN0YXRlXG4gICAqXG4gICAqIFRoZSBvbmx5IHdheSB0aGlzIHdpbGwgcmV0dXJuIGEgdmFsdWUgaXMgaWYgd2UncmUgYWxyZWFkeSBzdWJzY3JpYmVkIHRvIHRoZVxuICAgKiBxdWVyeSBvciBpdHMgdmFsdWUgaGFzIGJlZW4gc2V0IG9wdGltaXN0aWNhbGx5LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW4pOiBWYWx1ZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5xdWVyeVJlc3VsdChxdWVyeVRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGxvY2FsIHF1ZXJ5IHJlc3VsdCBpcyBhdmFpbGFibGUgZm9yIGEgdG9rZW4uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHRocm93IGlmIHRoZSByZXN1bHQgaXMgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbjogUXVlcnlUb2tlbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMuaGFzUXVlcnlSZXN1bHQocXVlcnlUb2tlbik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBsb2NhbFF1ZXJ5TG9ncyhcbiAgICB1ZGZQYXRoOiBzdHJpbmcsXG4gICAgYXJncz86IFJlY29yZDxzdHJpbmcsIFZhbHVlPixcbiAgKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKHVkZlBhdGgsIGFyZ3NPYmplY3QpO1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMucXVlcnlMb2dzKHF1ZXJ5VG9rZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBjdXJyZW50IHtAbGluayBRdWVyeUpvdXJuYWx9IGZvciB0aGlzIHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiBJZiB3ZSBoYXZlIG5vdCB5ZXQgcmVjZWl2ZWQgYSByZXN1bHQgZm9yIHRoaXMgcXVlcnksIHRoaXMgd2lsbCBiZSBgdW5kZWZpbmVkYC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcXVlcnkuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoaXMgcXVlcnkuXG4gICAqIEByZXR1cm5zIFRoZSBxdWVyeSdzIHtAbGluayBRdWVyeUpvdXJuYWx9IG9yIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgcXVlcnlKb3VybmFsKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICApOiBRdWVyeUpvdXJuYWwgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKG5hbWUsIGFyZ3NPYmplY3QpO1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnF1ZXJ5Sm91cm5hbChxdWVyeVRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCB0aGUgQ29udmV4XG4gICAqIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSB3aXRoIHRoZSBDb252ZXggYmFja2VuZC5cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpOiBDb25uZWN0aW9uU3RhdGUge1xuICAgIGNvbnN0IHdzQ29ubmVjdGlvblN0YXRlID0gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLmNvbm5lY3Rpb25TdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBoYXNJbmZsaWdodFJlcXVlc3RzOiB0aGlzLnJlcXVlc3RNYW5hZ2VyLmhhc0luZmxpZ2h0UmVxdWVzdHMoKSxcbiAgICAgIGlzV2ViU29ja2V0Q29ubmVjdGVkOiB3c0Nvbm5lY3Rpb25TdGF0ZS5pc0Nvbm5lY3RlZCxcbiAgICAgIGhhc0V2ZXJDb25uZWN0ZWQ6IHdzQ29ubmVjdGlvblN0YXRlLmhhc0V2ZXJDb25uZWN0ZWQsXG4gICAgICBjb25uZWN0aW9uQ291bnQ6IHdzQ29ubmVjdGlvblN0YXRlLmNvbm5lY3Rpb25Db3VudCxcbiAgICAgIGNvbm5lY3Rpb25SZXRyaWVzOiB3c0Nvbm5lY3Rpb25TdGF0ZS5jb25uZWN0aW9uUmV0cmllcyxcbiAgICAgIHRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdDpcbiAgICAgICAgdGhpcy5yZXF1ZXN0TWFuYWdlci50aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QoKSxcbiAgICAgIGluZmxpZ2h0TXV0YXRpb25zOiB0aGlzLnJlcXVlc3RNYW5hZ2VyLmluZmxpZ2h0TXV0YXRpb25zKCksXG4gICAgICBpbmZsaWdodEFjdGlvbnM6IHRoaXMucmVxdWVzdE1hbmFnZXIuaW5mbGlnaHRBY3Rpb25zKCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgdGhlIGNvbm5lY3Rpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBpbiBhIHdheSB0aGF0IGNvdWxkXG4gICAqIHJlcXVpcmUgcHVibGlzaGluZyBpdC4gU2NoZWR1bGVzIGEgcG9zc2libHkgdXBkYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBtYXJrQ29ubmVjdGlvblN0YXRlRGlydHkgPSAoKSA9PiB7XG4gICAgdm9pZCBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGN1ckNvbm5lY3Rpb25TdGF0ZSA9IHRoaXMuY29ubmVjdGlvblN0YXRlKCk7XG4gICAgICBpZiAoXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGN1ckNvbm5lY3Rpb25TdGF0ZSkgIT09XG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuX2xhc3RQdWJsaXNoZWRDb25uZWN0aW9uU3RhdGUpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbGFzdFB1Ymxpc2hlZENvbm5lY3Rpb25TdGF0ZSA9IGN1ckNvbm5lY3Rpb25TdGF0ZTtcbiAgICAgICAgZm9yIChjb25zdCBjYiBvZiB0aGlzLmNvbm5lY3Rpb25TdGF0ZVN1YnNjcmliZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgLy8gT25lIG9mIHRoZXNlIGNhbGxiYWNrIHRocm93aW5nIHdpbGwgcHJldmVudCBvdGhlciBjYWxsYmFja3NcbiAgICAgICAgICAvLyBmcm9tIHJ1bm5pbmcgYnV0IHdpbGwgbm90IGxlYXZlIHRoZSBjbGllbnQgaW4gYSB1bmRlZmluZWQgc3RhdGUuXG4gICAgICAgICAgY2IoY3VyQ29ubmVjdGlvblN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGJldHdlZW4gdGhlIGNsaWVudCBhbmQgdGhlIENvbnZleFxuICAgKiBiYWNrZW5kLCBjYWxsaW5nIGEgY2FsbGJhY2sgZWFjaCB0aW1lIGl0IGNoYW5nZXMuXG4gICAqXG4gICAqIFN1YnNjcmliZWQgY2FsbGJhY2tzIHdpbGwgYmUgY2FsbGVkIHdoZW4gYW55IHBhcnQgb2YgQ29ubmVjdGlvblN0YXRlIGNoYW5nZXMuXG4gICAqIENvbm5lY3Rpb25TdGF0ZSBtYXkgZ3JvdyBpbiBmdXR1cmUgdmVyc2lvbnMgKGUuZy4gdG8gcHJvdmlkZSBhIGFycmF5IG9mXG4gICAqIGluZmxpZ2h0IHJlcXVlc3RzKSBpbiB3aGljaCBjYXNlIGNhbGxiYWNrcyB3b3VsZCBiZSBjYWxsZWQgbW9yZSBmcmVxdWVudGx5LlxuICAgKlxuICAgKiBAcmV0dXJucyBBbiB1bnN1YnNjcmliZSBmdW5jdGlvbiB0byBzdG9wIGxpc3RlbmluZy5cbiAgICovXG4gIHN1YnNjcmliZVRvQ29ubmVjdGlvblN0YXRlKFxuICAgIGNiOiAoY29ubmVjdGlvblN0YXRlOiBDb25uZWN0aW9uU3RhdGUpID0+IHZvaWQsXG4gICk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXh0Q29ubmVjdGlvblN0YXRlU3Vic2NyaWJlcklkKys7XG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycy5zZXQoaWQsIGNiKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycy5kZWxldGUoaWQpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhIG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gQSB7QGxpbmsgTXV0YXRpb25PcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBtdXRhdGlvbi5cblxuICAgKiBAcmV0dXJucyAtIEEgcHJvbWlzZSBvZiB0aGUgbXV0YXRpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJncz86IFJlY29yZDxzdHJpbmcsIFZhbHVlPixcbiAgICBvcHRpb25zPzogTXV0YXRpb25PcHRpb25zLFxuICApOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubXV0YXRpb25JbnRlcm5hbChuYW1lLCBhcmdzLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBpZiAocmVzdWx0LmVycm9yRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IGZvcndhcmREYXRhKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBuZXcgQ29udmV4RXJyb3IoXG4gICAgICAgICAgICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJtdXRhdGlvblwiLCBuYW1lLCByZXN1bHQpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwibXV0YXRpb25cIiwgbmFtZSwgcmVzdWx0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbkludGVybmFsKFxuICAgIHVkZlBhdGg6IHN0cmluZyxcbiAgICBhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgIG9wdGlvbnM/OiBNdXRhdGlvbk9wdGlvbnMsXG4gICAgY29tcG9uZW50UGF0aD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxGdW5jdGlvblJlc3VsdD4ge1xuICAgIGNvbnN0IHsgbXV0YXRpb25Qcm9taXNlIH0gPSB0aGlzLmVucXVldWVNdXRhdGlvbihcbiAgICAgIHVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgKTtcbiAgICByZXR1cm4gbXV0YXRpb25Qcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZU11dGF0aW9uKFxuICAgIHVkZlBhdGg6IHN0cmluZyxcbiAgICBhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgIG9wdGlvbnM/OiBNdXRhdGlvbk9wdGlvbnMsXG4gICAgY29tcG9uZW50UGF0aD86IHN0cmluZyxcbiAgKTogeyByZXF1ZXN0SWQ6IFJlcXVlc3RJZDsgbXV0YXRpb25Qcm9taXNlOiBQcm9taXNlPEZ1bmN0aW9uUmVzdWx0PiB9IHtcbiAgICBjb25zdCBtdXRhdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgdGhpcy50cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMubmV4dFJlcXVlc3RJZDtcbiAgICB0aGlzLl9uZXh0UmVxdWVzdElkKys7XG5cbiAgICBpZiAob3B0aW9ucyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBvcHRpbWlzdGljVXBkYXRlID0gb3B0aW9ucy5vcHRpbWlzdGljVXBkYXRlO1xuICAgICAgaWYgKG9wdGltaXN0aWNVcGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCB3cmFwcGVkVXBkYXRlID0gKGxvY2FsUXVlcnlTdG9yZTogT3B0aW1pc3RpY0xvY2FsU3RvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQ6IHVua25vd24gPSBvcHRpbWlzdGljVXBkYXRlKFxuICAgICAgICAgICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgICAgICAgICAgbXV0YXRpb25BcmdzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIFwiT3B0aW1pc3RpYyB1cGRhdGUgaGFuZGxlciByZXR1cm5lZCBhIFByb21pc2UuIE9wdGltaXN0aWMgdXBkYXRlcyBzaG91bGQgYmUgc3luY2hyb25vdXMuXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VkUXVlcnlUb2tlbnMgPVxuICAgICAgICAgIHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5hcHBseU9wdGltaXN0aWNVcGRhdGUoXG4gICAgICAgICAgICB3cmFwcGVkVXBkYXRlLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2hhbmdlZFF1ZXJpZXMgPSBjaGFuZ2VkUXVlcnlUb2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvY2FsUmVzdWx0ID0gdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGtpbmQ6IFwiVXBkYXRlZFwiIGFzIGNvbnN0LFxuICAgICAgICAgICAgICByZXN1bHQ6XG4gICAgICAgICAgICAgICAgbG9jYWxSZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGxvY2FsUmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgIGxvZ0xpbmVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlVHJhbnNpdGlvbih7XG4gICAgICAgICAgcXVlcmllczogY2hhbmdlZFF1ZXJpZXMsXG4gICAgICAgICAgcmVmbGVjdGVkTXV0YXRpb25zOiBbXSxcbiAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMucmVtb3RlUXVlcnlTZXQudGltZXN0YW1wKCksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2U6IE11dGF0aW9uUmVxdWVzdCA9IHtcbiAgICAgIHR5cGU6IFwiTXV0YXRpb25cIixcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHVkZlBhdGgsXG4gICAgICBjb21wb25lbnRQYXRoLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXSxcbiAgICB9O1xuICAgIGNvbnN0IG1pZ2h0QmVTZW50ID0gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIGNvbnN0IG11dGF0aW9uUHJvbWlzZSA9IHRoaXMucmVxdWVzdE1hbmFnZXIucmVxdWVzdChtZXNzYWdlLCBtaWdodEJlU2VudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIG11dGF0aW9uUHJvbWlzZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGFjdGlvbi4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBhY3Rpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBhY3Rpb24obmFtZTogc3RyaW5nLCBhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFjdGlvbkludGVybmFsKG5hbWUsIGFyZ3MpO1xuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3JEYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgZm9yd2FyZERhdGEoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJhY3Rpb25cIiwgbmFtZSwgcmVzdWx0KSksXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwiYWN0aW9uXCIsIG5hbWUsIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgYWN0aW9uSW50ZXJuYWwoXG4gICAgdWRmUGF0aDogc3RyaW5nLFxuICAgIGFyZ3M/OiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4sXG4gICAgY29tcG9uZW50UGF0aD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxGdW5jdGlvblJlc3VsdD4ge1xuICAgIGNvbnN0IGFjdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy5uZXh0UmVxdWVzdElkO1xuICAgIHRoaXMuX25leHRSZXF1ZXN0SWQrKztcbiAgICB0aGlzLnRyeVJlcG9ydExvbmdEaXNjb25uZWN0KCk7XG5cbiAgICBjb25zdCBtZXNzYWdlOiBBY3Rpb25SZXF1ZXN0ID0ge1xuICAgICAgdHlwZTogXCJBY3Rpb25cIixcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHVkZlBhdGgsXG4gICAgICBjb21wb25lbnRQYXRoLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihhY3Rpb25BcmdzKV0sXG4gICAgfTtcblxuICAgIGNvbnN0IG1pZ2h0QmVTZW50ID0gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RNYW5hZ2VyLnJlcXVlc3QobWVzc2FnZSwgbWlnaHRCZVNlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIGFueSBuZXR3b3JrIGhhbmRsZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50IGFuZCBzdG9wIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHdoZW4geW91J3JlIGRvbmUgd2l0aCBhbiB7QGxpbmsgQmFzZUNvbnZleENsaWVudH0gdG9cbiAgICogZGlzcG9zZSBvZiBpdHMgc29ja2V0cyBhbmQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCBmdWxmaWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWx5IGNsb3NlZC5cbiAgICovXG4gIGFzeW5jIGNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLnN0b3AoKTtcbiAgICByZXR1cm4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnRlcm1pbmF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYWRkcmVzcyBmb3IgdGhpcyBjbGllbnQsIHVzZWZ1bCBmb3IgY3JlYXRpbmcgYSBuZXcgY2xpZW50LlxuICAgKlxuICAgKiBOb3QgZ3VhcmFudGVlZCB0byBtYXRjaCB0aGUgYWRkcmVzcyB3aXRoIHdoaWNoIHRoaXMgY2xpZW50IHdhcyBjb25zdHJ1Y3RlZDpcbiAgICogaXQgbWF5IGJlIGNhbm9uaWNhbGl6ZWQuXG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLmFkZHJlc3M7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgbmV4dFJlcXVlc3RJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbmV4dFJlcXVlc3RJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBzZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb25JZDtcbiAgfVxuXG4gIC8vIEluc3RhbmNlIHByb3BlcnR5IHNvIHRoYXQgYG1hcmsoKWAgZG9lc24ndCBuZWVkIHRvIGJlIGNhbGxlZCBhcyBhIG1ldGhvZC5cbiAgcHJpdmF0ZSBtYXJrID0gKG5hbWU6IE1hcmtOYW1lKSA9PiB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIG1hcmsobmFtZSwgdGhpcy5zZXNzaW9uSWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVwb3J0cyBwZXJmb3JtYW5jZSBtYXJrcyB0byB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gICAqIHdlIGhhdmUgYSBmdW5jdGlvbmFsIHdlYnNvY2tldC5cbiAgICovXG4gIHByaXZhdGUgcmVwb3J0TWFya3MoKSB7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGdldE1hcmtzUmVwb3J0KHRoaXMuc2Vzc2lvbklkKTtcbiAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZSh7XG4gICAgICAgIHR5cGU6IFwiRXZlbnRcIixcbiAgICAgICAgZXZlbnRUeXBlOiBcIkNsaWVudENvbm5lY3RcIixcbiAgICAgICAgZXZlbnQ6IHJlcG9ydCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdHJ5UmVwb3J0TG9uZ0Rpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKCF0aGlzLmRlYnVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRpbWVPZk9sZGVzdFJlcXVlc3QgPVxuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUoKS50aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3Q7XG4gICAgaWYgKFxuICAgICAgdGltZU9mT2xkZXN0UmVxdWVzdCA9PT0gbnVsbCB8fFxuICAgICAgRGF0ZS5ub3coKSAtIHRpbWVPZk9sZGVzdFJlcXVlc3QuZ2V0VGltZSgpIDw9IDYwICogMTAwMFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYWRkcmVzc30vYXBpL2RlYnVnX2V2ZW50YDtcbiAgICBmZXRjaChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZXZlbnQ6IFwiTG9uZ1dlYnNvY2tldERpc2Nvbm5lY3RcIiB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgXCJBbmFseXRpY3MgcmVxdWVzdCBmYWlsZWQgd2l0aCByZXNwb25zZTpcIixcbiAgICAgICAgICAgIHJlc3BvbnNlLmJvZHksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcIkFuYWx5dGljcyByZXNwb25zZSBmYWlsZWQgd2l0aCBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJtb2RpZmljYXRpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/local_state.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/local_state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSyncState: () => (/* binding */ LocalSyncState)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass LocalSyncState {\n    hasSyncedPastLastReconnect() {\n        return this.outstandingQueriesOlderThanRestart.size === 0 && !this.outstandingAuthOlderThanRestart;\n    }\n    markAuthCompletion() {\n        this.outstandingAuthOlderThanRestart = false;\n    }\n    subscribe(udfPath, args, journal, componentPath) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            existingEntry.numSubscribers += 1;\n            return {\n                queryToken,\n                modification: null,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        } else {\n            const queryId = this.nextQueryId++;\n            const query = {\n                id: queryId,\n                canonicalizedUdfPath,\n                args,\n                numSubscribers: 1,\n                journal,\n                componentPath\n            };\n            this.querySet.set(queryToken, query);\n            this.queryIdToToken.set(queryId, queryToken);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const add = {\n                type: \"Add\",\n                queryId,\n                udfPath: canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n                ],\n                journal,\n                componentPath\n            };\n            if (this.paused) {\n                this.pendingQuerySetModifications.set(queryId, add);\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            const modification = {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    add\n                ]\n            };\n            return {\n                queryToken,\n                modification,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        }\n    }\n    transition(transition) {\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                case \"QueryFailed\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        const journal = modification.journal;\n                        if (journal !== void 0) {\n                            const queryToken = this.queryIdToToken.get(modification.queryId);\n                            if (queryToken !== void 0) {\n                                this.querySet.get(queryToken).journal = journal;\n                            }\n                        }\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        modification;\n                        throw new Error(\"Invalid modification \".concat(modification.type));\n                    }\n            }\n        }\n    }\n    queryId(udfPath, args) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            return existingEntry.id;\n        }\n        return null;\n    }\n    isCurrentOrNewerAuthVersion(version) {\n        return version >= this.identityVersion;\n    }\n    getAuth() {\n        return this.auth;\n    }\n    setAuth(value) {\n        this.auth = {\n            tokenType: \"User\",\n            value\n        };\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...this.auth\n        };\n    }\n    setAdminAuth(value, actingAs) {\n        const auth = {\n            tokenType: \"Admin\",\n            value,\n            impersonating: actingAs\n        };\n        this.auth = auth;\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...auth\n        };\n    }\n    clearAuth() {\n        this.auth = void 0;\n        this.markAuthCompletion();\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            tokenType: \"None\",\n            baseVersion\n        };\n    }\n    hasAuth() {\n        return !!this.auth;\n    }\n    isNewAuth(value) {\n        var _this_auth;\n        return ((_this_auth = this.auth) === null || _this_auth === void 0 ? void 0 : _this_auth.value) !== value;\n    }\n    queryPath(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).canonicalizedUdfPath;\n        }\n        return null;\n    }\n    queryArgs(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).args;\n        }\n        return null;\n    }\n    queryToken(queryId) {\n        var _this_queryIdToToken_get;\n        return (_this_queryIdToToken_get = this.queryIdToToken.get(queryId)) !== null && _this_queryIdToToken_get !== void 0 ? _this_queryIdToToken_get : null;\n    }\n    queryJournal(queryToken) {\n        var _this_querySet_get;\n        return (_this_querySet_get = this.querySet.get(queryToken)) === null || _this_querySet_get === void 0 ? void 0 : _this_querySet_get.journal;\n    }\n    restart(oldRemoteQueryResults) {\n        this.unpause();\n        this.outstandingQueriesOlderThanRestart.clear();\n        const modifications = [];\n        for (const localQuery of this.querySet.values()){\n            const add = {\n                type: \"Add\",\n                queryId: localQuery.id,\n                udfPath: localQuery.canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(localQuery.args)\n                ],\n                journal: localQuery.journal,\n                componentPath: localQuery.componentPath\n            };\n            modifications.push(add);\n            if (!oldRemoteQueryResults.has(localQuery.id)) {\n                this.outstandingQueriesOlderThanRestart.add(localQuery.id);\n            }\n        }\n        this.querySetVersion = 1;\n        const querySet = {\n            type: \"ModifyQuerySet\",\n            baseVersion: 0,\n            newVersion: 1,\n            modifications\n        };\n        if (!this.auth) {\n            this.identityVersion = 0;\n            return [\n                querySet,\n                void 0\n            ];\n        }\n        this.outstandingAuthOlderThanRestart = true;\n        const authenticate = {\n            type: \"Authenticate\",\n            baseVersion: 0,\n            ...this.auth\n        };\n        this.identityVersion = 1;\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    pause() {\n        this.paused = true;\n    }\n    resume() {\n        const querySet = this.pendingQuerySetModifications.size > 0 ? {\n            type: \"ModifyQuerySet\",\n            baseVersion: this.querySetVersion,\n            newVersion: ++this.querySetVersion,\n            modifications: Array.from(this.pendingQuerySetModifications.values())\n        } : void 0;\n        const authenticate = this.auth !== void 0 ? {\n            type: \"Authenticate\",\n            baseVersion: this.identityVersion++,\n            ...this.auth\n        } : void 0;\n        this.unpause();\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    unpause() {\n        this.paused = false;\n        this.pendingQuerySetModifications.clear();\n    }\n    removeSubscriber(queryToken) {\n        const localQuery = this.querySet.get(queryToken);\n        if (localQuery.numSubscribers > 1) {\n            localQuery.numSubscribers -= 1;\n            return null;\n        } else {\n            this.querySet.delete(queryToken);\n            this.queryIdToToken.delete(localQuery.id);\n            this.outstandingQueriesOlderThanRestart.delete(localQuery.id);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const remove = {\n                type: \"Remove\",\n                queryId: localQuery.id\n            };\n            if (this.paused) {\n                if (this.pendingQuerySetModifications.has(localQuery.id)) {\n                    this.pendingQuerySetModifications.delete(localQuery.id);\n                } else {\n                    this.pendingQuerySetModifications.set(localQuery.id, remove);\n                }\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            return {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    remove\n                ]\n            };\n        }\n    }\n    constructor(){\n        __publicField(this, \"nextQueryId\");\n        __publicField(this, \"querySetVersion\");\n        __publicField(this, \"querySet\");\n        __publicField(this, \"queryIdToToken\");\n        __publicField(this, \"identityVersion\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"outstandingQueriesOlderThanRestart\");\n        __publicField(this, \"outstandingAuthOlderThanRestart\");\n        __publicField(this, \"paused\");\n        __publicField(this, \"pendingQuerySetModifications\");\n        this.nextQueryId = 0;\n        this.querySetVersion = 0;\n        this.identityVersion = 0;\n        this.querySet = /* @__PURE__ */ new Map();\n        this.queryIdToToken = /* @__PURE__ */ new Map();\n        this.outstandingQueriesOlderThanRestart = /* @__PURE__ */ new Set();\n        this.outstandingAuthOlderThanRestart = false;\n        this.paused = false;\n        this.pendingQuerySetModifications = /* @__PURE__ */ new Map();\n    }\n} //# sourceMappingURL=local_state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2xvY2FsX3N0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQVlvQztBQWtCN0I7QUFzQkEsTUFBTSxlQUFlO0lBd0IxQiw2QkFBc0M7UUFDcEMsT0FDRSxLQUFLLG1DQUFtQyxTQUFTLEtBQ2pELENBQUMsS0FBSztJQUVWO0lBRUEscUJBQXFCO1FBQ25CLEtBQUssa0NBQWtDO0lBQ3pDO0lBRUEsVUFDRSxTQUNBLE1BQ0EsU0FDQSxlQUtBO1FBQ0EsTUFBTSx1QkFBdUIsdUVBQW1CLENBQUMsT0FBTztRQUN4RCxNQUFNLGFBQWEsd0VBQW9CLENBQUMsc0JBQXNCLElBQUk7UUFFbEUsTUFBTSxnQkFBZ0IsS0FBSyxTQUFTLElBQUksVUFBVTtRQUVsRCxJQUFJLGtCQUFrQixRQUFXO1lBQy9CLGNBQWMsa0JBQWtCO1lBQ2hDLE9BQU87Z0JBQ0w7Z0JBQ0EsY0FBYztnQkFDZCxhQUFhLElBQU0sS0FBSyxpQkFBaUIsVUFBVTtZQUNyRDtRQUNGLE9BQU87WUFDTCxNQUFNLFVBQVUsS0FBSztZQUNyQixNQUFNLFFBQW9CO2dCQUN4QixJQUFJO2dCQUNKO2dCQUNBO2dCQUNBLGdCQUFnQjtnQkFDaEI7Z0JBQ0E7WUFDRjtZQUNBLEtBQUssU0FBUyxJQUFJLFlBQVksS0FBSztZQUNuQyxLQUFLLGVBQWUsSUFBSSxTQUFTLFVBQVU7WUFFM0MsTUFBTSxjQUFjLEtBQUs7WUFDekIsTUFBTSxhQUFhLEtBQUssa0JBQWtCO1lBRTFDLE1BQU0sTUFBZ0I7Z0JBQ3BCLE1BQU07Z0JBQ047Z0JBQ0EsU0FBUztnQkFDVCxNQUFNO29CQUFDLDhEQUFZLENBQUMsSUFBSSxDQUFDO2lCQUFBO2dCQUN6QjtnQkFDQTtZQUNGO1lBRUEsSUFBSSxLQUFLLFFBQVE7Z0JBQ2YsS0FBSyw2QkFBNkIsSUFBSSxTQUFTLEdBQUc7WUFDcEQsT0FBTztnQkFDTCxLQUFL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LG9CQUFRO1FBQ1Isb0JBQVE7UUFDUixvQkFBUTtRQUdOLEtBQUssY0FBYztRQUNuQixLQUFLLGtCQUFrQjtRQUN2QixLQUFLLGtCQUFrQjtRQUN2QixLQUFLLFdBQVcsb0JBQUksSUFBSTtRQUN4QixLQUFLLGlCQUFpQixvQkFBSSxJQUFJO1FBQzlCLEtBQUsscUNBQXFDLG9CQUFJLElBQUk7UUFDbEQsS0FBSyxrQ0FBa0M7UUFDdkMsS0FBSyxTQUFTO1FBQ2QsS0FBSywrQkFBK0Isb0JBQUksSUFBSTtJQUM5QztBQTRVRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9icm93c2VyL3N5bmMvbG9jYWxfc3RhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGUgbG9jYWwgc3RhdGUgb2YgdGhlIGNsaWVudDpcbiAqIC0gd2hpY2ggcXVlcmllcyBhcmUgc3Vic2NyaWJlZCB0b1xuICogLSB0aGUgXCJRdWVyeSBTZXQgVmVyc2lvbixcIiB1c2VkIHRvIHByb2R1Y2UgUXVlcnlTZXRNb2RpZmljYXRpb24gbWVzc2FnZXNcbiAqIC0gdGhlIGN1cnJlbnQgYXV0aCB0b2tlbiBhbmQgXCJJZGVudGl0eSBWZXJzaW9uXCJcbiAqXG4gKiBMb2NhbCBzdGF0ZSBkb2VzIG5vdCBpbmNsdWRlOlxuICogLSBxdWVyeSByZXN1bHRzIChzZWUgUmVtb3RlUXVlcnlTZXQpXG4gKiAtIGxvY2FsbHkgbWFkZSBcIm9wdGltaXN0aWMgdXBkYXRlXCIgbW9kaWZpY2F0aW9ucyB0byBxdWVyeSByZXN1bHRzIChzZWUgT3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cylcbiAqIC0gYW55IHF1ZXJ5IHJlc3VsdHMgYXQgYWxsXG4gKiovXG5cbmltcG9ydCB7IGNvbnZleFRvSnNvbiwgVmFsdWUgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBBZGRRdWVyeSxcbiAgUmVtb3ZlUXVlcnksXG4gIFF1ZXJ5SWQsXG4gIFF1ZXJ5U2V0TW9kaWZpY2F0aW9uLFxuICBRdWVyeVNldFZlcnNpb24sXG4gIElkZW50aXR5VmVyc2lvbixcbiAgQXV0aGVudGljYXRlLFxuICBRdWVyeUpvdXJuYWwsXG4gIFRyYW5zaXRpb24sXG4gIEFkbWluQXV0aGVudGljYXRpb24sXG4gIFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMsXG59IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQge1xuICBjYW5vbmljYWxpemVVZGZQYXRoLFxuICBRdWVyeVRva2VuLFxuICBzZXJpYWxpemVQYXRoQW5kQXJncyxcbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcblxudHlwZSBMb2NhbFF1ZXJ5ID0ge1xuICBpZDogUXVlcnlJZDtcbiAgY2Fub25pY2FsaXplZFVkZlBhdGg6IHN0cmluZztcbiAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+O1xuICBudW1TdWJzY3JpYmVyczogbnVtYmVyO1xuICBqb3VybmFsPzogUXVlcnlKb3VybmFsIHwgdW5kZWZpbmVkO1xuICBjb21wb25lbnRQYXRoPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgQXV0aFN0YXRlID1cbiAgfCB7XG4gICAgICB0b2tlblR5cGU6IFwiVXNlclwiO1xuICAgICAgdmFsdWU6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdG9rZW5UeXBlOiBcIkFkbWluXCI7XG4gICAgICB2YWx1ZTogc3RyaW5nO1xuICAgICAgaW1wZXJzb25hdGluZz86IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMgfCB1bmRlZmluZWQ7XG4gICAgfTtcblxuZXhwb3J0IGNsYXNzIExvY2FsU3luY1N0YXRlIHtcbiAgcHJpdmF0ZSBuZXh0UXVlcnlJZDogUXVlcnlJZDtcbiAgcHJpdmF0ZSBxdWVyeVNldFZlcnNpb246IFF1ZXJ5U2V0VmVyc2lvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBxdWVyeVNldDogTWFwPFF1ZXJ5VG9rZW4sIExvY2FsUXVlcnk+O1xuICBwcml2YXRlIHJlYWRvbmx5IHF1ZXJ5SWRUb1Rva2VuOiBNYXA8UXVlcnlJZCwgUXVlcnlUb2tlbj47XG4gIHByaXZhdGUgaWRlbnRpdHlWZXJzaW9uOiBJZGVudGl0eVZlcnNpb247XG4gIHByaXZhdGUgYXV0aDogQXV0aFN0YXRlIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IG91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQ6IFNldDxRdWVyeUlkPjtcbiAgcHJpdmF0ZSBvdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0OiBib29sZWFuO1xuICBwcml2YXRlIHBhdXNlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSBwZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zOiBNYXA8UXVlcnlJZCwgQWRkUXVlcnkgfCBSZW1vdmVRdWVyeT47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5uZXh0UXVlcnlJZCA9IDA7XG4gICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSAwO1xuICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMDtcbiAgICB0aGlzLnF1ZXJ5U2V0ID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucXVlcnlJZFRvVG9rZW4gPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0ID0gbmV3IFNldCgpO1xuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IGZhbHNlO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5zaXplID09PSAwICYmXG4gICAgICAhdGhpcy5vdXRzdGFuZGluZ0F1dGhPbGRlclRoYW5SZXN0YXJ0XG4gICAgKTtcbiAgfVxuXG4gIG1hcmtBdXRoQ29tcGxldGlvbigpIHtcbiAgICB0aGlzLm91dHN0YW5kaW5nQXV0aE9sZGVyVGhhblJlc3RhcnQgPSBmYWxzZTtcbiAgfVxuXG4gIHN1YnNjcmliZShcbiAgICB1ZGZQYXRoOiBzdHJpbmcsXG4gICAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgIGpvdXJuYWw/OiBRdWVyeUpvdXJuYWwgfCB1bmRlZmluZWQsXG4gICAgY29tcG9uZW50UGF0aD86IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgKToge1xuICAgIHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW47XG4gICAgbW9kaWZpY2F0aW9uOiBRdWVyeVNldE1vZGlmaWNhdGlvbiB8IG51bGw7XG4gICAgdW5zdWJzY3JpYmU6ICgpID0+IFF1ZXJ5U2V0TW9kaWZpY2F0aW9uIHwgbnVsbDtcbiAgfSB7XG4gICAgY29uc3QgY2Fub25pY2FsaXplZFVkZlBhdGggPSBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhjYW5vbmljYWxpemVkVWRmUGF0aCwgYXJncyk7XG5cbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik7XG5cbiAgICBpZiAoZXhpc3RpbmdFbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBleGlzdGluZ0VudHJ5Lm51bVN1YnNjcmliZXJzICs9IDE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeVRva2VuLFxuICAgICAgICBtb2RpZmljYXRpb246IG51bGwsXG4gICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB0aGlzLnJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbiksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBxdWVyeUlkID0gdGhpcy5uZXh0UXVlcnlJZCsrO1xuICAgICAgY29uc3QgcXVlcnk6IExvY2FsUXVlcnkgPSB7XG4gICAgICAgIGlkOiBxdWVyeUlkLFxuICAgICAgICBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJncyxcbiAgICAgICAgbnVtU3Vic2NyaWJlcnM6IDEsXG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICB9O1xuICAgICAgdGhpcy5xdWVyeVNldC5zZXQocXVlcnlUb2tlbiwgcXVlcnkpO1xuICAgICAgdGhpcy5xdWVyeUlkVG9Ub2tlbi5zZXQocXVlcnlJZCwgcXVlcnlUb2tlbik7XG5cbiAgICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb247XG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb24gKyAxO1xuXG4gICAgICBjb25zdCBhZGQ6IEFkZFF1ZXJ5ID0ge1xuICAgICAgICB0eXBlOiBcIkFkZFwiLFxuICAgICAgICBxdWVyeUlkLFxuICAgICAgICB1ZGZQYXRoOiBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJnczogW2NvbnZleFRvSnNvbihhcmdzKV0sXG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLnNldChxdWVyeUlkLCBhZGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSBuZXdWZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtb2RpZmljYXRpb246IFF1ZXJ5U2V0TW9kaWZpY2F0aW9uID0ge1xuICAgICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICAgIGJhc2VWZXJzaW9uLFxuICAgICAgICBuZXdWZXJzaW9uLFxuICAgICAgICBtb2RpZmljYXRpb25zOiBbYWRkXSxcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeVRva2VuLFxuICAgICAgICBtb2RpZmljYXRpb24sXG4gICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB0aGlzLnJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbiksXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zaXRpb24odHJhbnNpdGlvbjogVHJhbnNpdGlvbikge1xuICAgIGZvciAoY29uc3QgbW9kaWZpY2F0aW9uIG9mIHRyYW5zaXRpb24ubW9kaWZpY2F0aW9ucykge1xuICAgICAgc3dpdGNoIChtb2RpZmljYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiUXVlcnlVcGRhdGVkXCI6XG4gICAgICAgIGNhc2UgXCJRdWVyeUZhaWxlZFwiOiB7XG4gICAgICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgY29uc3Qgam91cm5hbCA9IG1vZGlmaWNhdGlvbi5qb3VybmFsO1xuICAgICAgICAgIGlmIChqb3VybmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSB0aGlzLnF1ZXJ5SWRUb1Rva2VuLmdldChtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgICAvLyBXZSBtYXkgaGF2ZSBhbHJlYWR5IHVuc3Vic2NyaWJlZCB0byB0aGlzIHF1ZXJ5IGJ5IHRoZSB0aW1lIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgIC8vIHNlbmRzIHVzIHRoZSBqb3VybmFsLiBJZiBzbywganVzdCBpZ25vcmUgaXQuXG4gICAgICAgICAgICBpZiAocXVlcnlUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHRoaXMucXVlcnlTZXQuZ2V0KHF1ZXJ5VG9rZW4pIS5qb3VybmFsID0gam91cm5hbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUXVlcnlSZW1vdmVkXCI6IHtcbiAgICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgLy8gRW5mb3JjZSB0aGF0IHRoZSBzd2l0Y2gtY2FzZSBpcyBleGhhdXN0aXZlLlxuICAgICAgICAgIG1vZGlmaWNhdGlvbiBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1vZGlmaWNhdGlvbiAkeyhtb2RpZmljYXRpb24gYXMgYW55KS50eXBlfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcXVlcnlJZCh1ZGZQYXRoOiBzdHJpbmcsIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPik6IFF1ZXJ5SWQgfCBudWxsIHtcbiAgICBjb25zdCBjYW5vbmljYWxpemVkVWRmUGF0aCA9IGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKGNhbm9uaWNhbGl6ZWRVZGZQYXRoLCBhcmdzKTtcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKGV4aXN0aW5nRW50cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nRW50cnkuaWQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaXNDdXJyZW50T3JOZXdlckF1dGhWZXJzaW9uKHZlcnNpb246IElkZW50aXR5VmVyc2lvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2ZXJzaW9uID49IHRoaXMuaWRlbnRpdHlWZXJzaW9uO1xuICB9XG5cbiAgZ2V0QXV0aCgpOiBBdXRoU3RhdGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmF1dGg7XG4gIH1cblxuICBzZXRBdXRoKHZhbHVlOiBzdHJpbmcpOiBBdXRoZW50aWNhdGUge1xuICAgIHRoaXMuYXV0aCA9IHtcbiAgICAgIHRva2VuVHlwZTogXCJVc2VyXCIgYXMgY29uc3QsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgfTtcbiAgICBjb25zdCBiYXNlVmVyc2lvbiA9IHRoaXMuaWRlbnRpdHlWZXJzaW9uO1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gYmFzZVZlcnNpb24gKyAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgIGJhc2VWZXJzaW9uOiBiYXNlVmVyc2lvbixcbiAgICAgIC4uLnRoaXMuYXV0aCxcbiAgICB9O1xuICB9XG5cbiAgc2V0QWRtaW5BdXRoKFxuICAgIHZhbHVlOiBzdHJpbmcsXG4gICAgYWN0aW5nQXM/OiBVc2VySWRlbnRpdHlBdHRyaWJ1dGVzLFxuICApOiBBZG1pbkF1dGhlbnRpY2F0aW9uIHtcbiAgICBjb25zdCBhdXRoOiB0eXBlb2YgdGhpcy5hdXRoICYge1xuICAgICAgdG9rZW5UeXBlOiBcIkFkbWluXCI7XG4gICAgfSA9IHtcbiAgICAgIHRva2VuVHlwZTogXCJBZG1pblwiLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBlcnNvbmF0aW5nOiBhY3RpbmdBcyxcbiAgICB9O1xuICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbjtcbiAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IGJhc2VWZXJzaW9uICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICBiYXNlVmVyc2lvbjogYmFzZVZlcnNpb24sXG4gICAgICAuLi5hdXRoLFxuICAgIH07XG4gIH1cblxuICBjbGVhckF1dGgoKTogQXV0aGVudGljYXRlIHtcbiAgICB0aGlzLmF1dGggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5tYXJrQXV0aENvbXBsZXRpb24oKTtcbiAgICBjb25zdCBiYXNlVmVyc2lvbiA9IHRoaXMuaWRlbnRpdHlWZXJzaW9uO1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHtcbiAgICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gYmFzZVZlcnNpb24gKyAxO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgIHRva2VuVHlwZTogXCJOb25lXCIsXG4gICAgICBiYXNlVmVyc2lvbjogYmFzZVZlcnNpb24sXG4gICAgfTtcbiAgfVxuXG4gIGhhc0F1dGgoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5hdXRoO1xuICB9XG5cbiAgaXNOZXdBdXRoKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoPy52YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICBxdWVyeVBhdGgocXVlcnlJZDogUXVlcnlJZCk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHBhdGhBbmRBcmdzID0gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCk7XG4gICAgaWYgKHBhdGhBbmRBcmdzKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocGF0aEFuZEFyZ3MpIS5jYW5vbmljYWxpemVkVWRmUGF0aDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBxdWVyeUFyZ3MocXVlcnlJZDogUXVlcnlJZCk6IFJlY29yZDxzdHJpbmcsIFZhbHVlPiB8IG51bGwge1xuICAgIGNvbnN0IHBhdGhBbmRBcmdzID0gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCk7XG4gICAgaWYgKHBhdGhBbmRBcmdzKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocGF0aEFuZEFyZ3MpIS5hcmdzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHF1ZXJ5VG9rZW4ocXVlcnlJZDogUXVlcnlJZCk6IFF1ZXJ5VG9rZW4gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCkgPz8gbnVsbDtcbiAgfVxuXG4gIHF1ZXJ5Sm91cm5hbChxdWVyeVRva2VuOiBRdWVyeVRva2VuKTogUXVlcnlKb3VybmFsIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik/LmpvdXJuYWw7XG4gIH1cblxuICByZXN0YXJ0KFxuICAgIG9sZFJlbW90ZVF1ZXJ5UmVzdWx0czogU2V0PFF1ZXJ5SWQ+LFxuICApOiBbUXVlcnlTZXRNb2RpZmljYXRpb24sIChBdXRoZW50aWNhdGUgfCB1bmRlZmluZWQpP10ge1xuICAgIC8vIFJlc3RhcnQgd29ya3Mgd2hldGhlciB3ZSBhcmUgcGF1c2VkIG9yIHVucGF1c2VkLlxuICAgIC8vIFRoZSBgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zYCBpcyBub3QgdXNlZFxuICAgIC8vIHdoZW4gcmVzdGFydGluZyBhcyB0aGUgQWRkUXVlcnkgYW5kIFJlbW92ZVF1ZXJ5IGFyZSBjb21wdXRlZFxuICAgIC8vIGZyb20gc2NyYXRjaCwgYmFzZWQgb24gdGhlIG9sZCByZW1vdGUgcXVlcnkgcmVzdWx0cywgaGVyZS5cbiAgICB0aGlzLnVucGF1c2UoKTtcblxuICAgIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5jbGVhcigpO1xuICAgIGNvbnN0IG1vZGlmaWNhdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGxvY2FsUXVlcnkgb2YgdGhpcy5xdWVyeVNldC52YWx1ZXMoKSkge1xuICAgICAgY29uc3QgYWRkOiBBZGRRdWVyeSA9IHtcbiAgICAgICAgdHlwZTogXCJBZGRcIixcbiAgICAgICAgcXVlcnlJZDogbG9jYWxRdWVyeS5pZCxcbiAgICAgICAgdWRmUGF0aDogbG9jYWxRdWVyeS5jYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgICAgYXJnczogW2NvbnZleFRvSnNvbihsb2NhbFF1ZXJ5LmFyZ3MpXSxcbiAgICAgICAgam91cm5hbDogbG9jYWxRdWVyeS5qb3VybmFsLFxuICAgICAgICBjb21wb25lbnRQYXRoOiBsb2NhbFF1ZXJ5LmNvbXBvbmVudFBhdGgsXG4gICAgICB9O1xuICAgICAgbW9kaWZpY2F0aW9ucy5wdXNoKGFkZCk7XG5cbiAgICAgIGlmICghb2xkUmVtb3RlUXVlcnlSZXN1bHRzLmhhcyhsb2NhbFF1ZXJ5LmlkKSkge1xuICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuYWRkKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnF1ZXJ5U2V0VmVyc2lvbiA9IDE7XG4gICAgY29uc3QgcXVlcnlTZXQ6IFF1ZXJ5U2V0TW9kaWZpY2F0aW9uID0ge1xuICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgYmFzZVZlcnNpb246IDAsXG4gICAgICBuZXdWZXJzaW9uOiAxLFxuICAgICAgbW9kaWZpY2F0aW9ucyxcbiAgICB9O1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gYXV0aCwgbm8gbmVlZCB0byBzZW5kIGFuIHVwZGF0ZSBhcyB0aGUgc2VydmVyIHdpbGwgYWxzbyBzdGFydCB3aXRoIGFuIHVua25vd24gaWRlbnRpdHkuXG4gICAgaWYgKCF0aGlzLmF1dGgpIHtcbiAgICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMDtcbiAgICAgIHJldHVybiBbcXVlcnlTZXQsIHVuZGVmaW5lZF07XG4gICAgfVxuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IHRydWU7XG4gICAgY29uc3QgYXV0aGVudGljYXRlOiBBdXRoZW50aWNhdGUgPSB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb246IDAsXG4gICAgICAuLi50aGlzLmF1dGgsXG4gICAgfTtcbiAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IDE7XG4gICAgcmV0dXJuIFtxdWVyeVNldCwgYXV0aGVudGljYXRlXTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgfVxuXG4gIHJlc3VtZSgpOiBbUXVlcnlTZXRNb2RpZmljYXRpb24gfCB1bmRlZmluZWQsIEF1dGhlbnRpY2F0ZSB8IHVuZGVmaW5lZF0ge1xuICAgIGNvbnN0IHF1ZXJ5U2V0OiBRdWVyeVNldE1vZGlmaWNhdGlvbiB8IHVuZGVmaW5lZCA9XG4gICAgICB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuc2l6ZSA+IDBcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB0eXBlOiBcIk1vZGlmeVF1ZXJ5U2V0XCIsXG4gICAgICAgICAgICBiYXNlVmVyc2lvbjogdGhpcy5xdWVyeVNldFZlcnNpb24sXG4gICAgICAgICAgICBuZXdWZXJzaW9uOiArK3RoaXMucXVlcnlTZXRWZXJzaW9uLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uczogQXJyYXkuZnJvbShcbiAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLnZhbHVlcygpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGF1dGhlbnRpY2F0ZTogQXV0aGVudGljYXRlIHwgdW5kZWZpbmVkID1cbiAgICAgIHRoaXMuYXV0aCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8ge1xuICAgICAgICAgICAgdHlwZTogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgICAgICAgIGJhc2VWZXJzaW9uOiB0aGlzLmlkZW50aXR5VmVyc2lvbisrLFxuICAgICAgICAgICAgLi4udGhpcy5hdXRoLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLnVucGF1c2UoKTtcblxuICAgIHJldHVybiBbcXVlcnlTZXQsIGF1dGhlbnRpY2F0ZV07XG4gIH1cblxuICBwcml2YXRlIHVucGF1c2UoKSB7XG4gICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuY2xlYXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlU3Vic2NyaWJlcihcbiAgICBxdWVyeVRva2VuOiBRdWVyeVRva2VuLFxuICApOiBRdWVyeVNldE1vZGlmaWNhdGlvbiB8IG51bGwge1xuICAgIGNvbnN0IGxvY2FsUXVlcnkgPSB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKSE7XG5cbiAgICBpZiAobG9jYWxRdWVyeS5udW1TdWJzY3JpYmVycyA+IDEpIHtcbiAgICAgIGxvY2FsUXVlcnkubnVtU3Vic2NyaWJlcnMgLT0gMTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXJ5U2V0LmRlbGV0ZShxdWVyeVRva2VuKTtcbiAgICAgIHRoaXMucXVlcnlJZFRvVG9rZW4uZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShsb2NhbFF1ZXJ5LmlkKTtcbiAgICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb247XG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgcmVtb3ZlOiBSZW1vdmVRdWVyeSA9IHtcbiAgICAgICAgdHlwZTogXCJSZW1vdmVcIixcbiAgICAgICAgcXVlcnlJZDogbG9jYWxRdWVyeS5pZCxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5oYXMobG9jYWxRdWVyeS5pZCkpIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5zZXQobG9jYWxRdWVyeS5pZCwgcmVtb3ZlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSBuZXdWZXJzaW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgICBiYXNlVmVyc2lvbixcbiAgICAgICAgbmV3VmVyc2lvbixcbiAgICAgICAgbW9kaWZpY2F0aW9uczogW3JlbW92ZV0sXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/local_state.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/metrics.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/metrics.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMarksReport: () => (/* binding */ getMarksReport),\n/* harmony export */   mark: () => (/* binding */ mark)\n/* harmony export */ });\n\nconst markNames = [\n    \"convexClientConstructed\",\n    \"convexWebSocketOpen\",\n    \"convexFirstMessageReceived\"\n];\nfunction mark(name, sessionId) {\n    const detail = {\n        sessionId\n    };\n    if (typeof performance === \"undefined\" || !performance.mark) return;\n    performance.mark(name, {\n        detail\n    });\n}\nfunction performanceMarkToJson(mark2) {\n    let name = mark2.name.slice(\"convex\".length);\n    name = name.charAt(0).toLowerCase() + name.slice(1);\n    return {\n        name,\n        startTime: mark2.startTime\n    };\n}\nfunction getMarksReport(sessionId) {\n    if (typeof performance === \"undefined\" || !performance.getEntriesByName) {\n        return [];\n    }\n    const allMarks = [];\n    for (const name of markNames){\n        const marks = performance.getEntriesByName(name).filter((entry)=>entry.entryType === \"mark\").filter((mark2)=>mark2.detail.sessionId === sessionId);\n        allMarks.push(...marks);\n    }\n    return allMarks.map(performanceMarkToJson);\n} //# sourceMappingURL=metrics.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL21ldHJpY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsTUFBTSxZQUFZO0lBQ2hCO0lBQ0E7SUFDQTtDQUNGO0FBWU8sU0FBUyxLQUFLLE1BQWdCLFdBQW1CO0lBQ3RELE1BQU0sU0FBcUI7UUFBRTtJQUFVO0lBR3ZDLElBQUksT0FBTyxnQkFBZ0IsZUFBZSxDQUFDLFlBQVksS0FBTTtJQUM3RCxZQUFZLEtBQUssTUFBTTtRQUFFO0lBQU8sQ0FBQztBQUNuQztBQUlBLFNBQVMsc0JBQXNCQSxLQUFBQSxFQUFpQztJQUU5RCxJQUFJLE9BQU9BLE1BQUssS0FBSyxNQUFNLFNBQVMsTUFBTTtJQUUxQyxPQUFPLEtBQUssT0FBTyxDQUFDLEVBQUUsWUFBWSxJQUFJLEtBQUssTUFBTSxDQUFDO0lBQ2xELE9BQU87UUFDTDtRQUNBLFdBQVdBLE1BQUs7SUFDbEI7QUFDRjtBQVVPLFNBQVMsZUFBZSxXQUErQjtJQUM1RCxJQUFJLE9BQU8sZ0JBQWdCLGVBQWUsQ0FBQyxZQUFZLGtCQUFrQjtRQUN2RSxPQUFPLENBQUM7SUFDVjtJQUNBLE1BQU0sV0FBOEIsQ0FBQztJQUNyQyxXQUFXLFFBQVEsVUFBVztRQUM1QixNQUFNLFFBQ0osWUFDRyxpQkFBaUIsSUFBSSxFQUNyQixPQUFPLENBQUMsUUFBVSxNQUFNLGNBQWMsTUFBTSxFQUMvQyxPQUFPLENBQUNBLFFBQVNBLE1BQUssT0FBTyxjQUFjLFNBQVM7UUFDdEQsU0FBUyxLQUFLLEdBQUcsS0FBSztJQUN4QjtJQUNBLE9BQU8sU0FBUyxJQUFJLHFCQUFxQjtBQUMzQyIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9icm93c2VyL3N5bmMvbWV0cmljcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNYXJrcyBzaGFyZSBhIGdsb2JhbCBuYW1lc3BhY2Ugd2l0aCBvdGhlciBkZXZlbG9wZXIgY29kZS5cbmNvbnN0IG1hcmtOYW1lcyA9IFtcbiAgXCJjb252ZXhDbGllbnRDb25zdHJ1Y3RlZFwiLFxuICBcImNvbnZleFdlYlNvY2tldE9wZW5cIixcbiAgXCJjb252ZXhGaXJzdE1lc3NhZ2VSZWNlaXZlZFwiLFxuXSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE1hcmtOYW1lID0gKHR5cGVvZiBtYXJrTmFtZXMpW251bWJlcl07XG5cbi8vIE1hcmsgZGV0YWlscyBhcmUgbm90IHJlcG9ydGVkIHRvIHRoZSBzZXJ2ZXIuXG50eXBlIE1hcmtEZXRhaWwgPSB7XG4gIHNlc3Npb25JZDogc3RyaW5nO1xufTtcblxuLy8gYFBlcmZvcm1hbmNlTWFya2BzIGFyZSBlZmZpY2llbnQgYW5kIHNob3cgdXAgaW4gYnJvd3NlcidzIHBlcmZvcm1hbmNlXG4vLyB0aW1lbGluZS4gVGhleSBjYW4gYmUgY2xlYXJlZCB3aXRoIGBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKClgLlxuLy8gVGhpcyBpcyBhIG1lbW9yeSBsZWFrLCBidXQgYSB3b3J0aHdoaWxlIG9uZTogYXV0b21hdGljXG4vLyBjbGVhbnVwIHdvdWxkIG1ha2UgaW4tYnJvd3NlciBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQuXG5leHBvcnQgZnVuY3Rpb24gbWFyayhuYW1lOiBNYXJrTmFtZSwgc2Vzc2lvbklkOiBzdHJpbmcpIHtcbiAgY29uc3QgZGV0YWlsOiBNYXJrRGV0YWlsID0geyBzZXNzaW9uSWQgfTtcbiAgLy8gYHBlcmZvcm1hbmNlYCBBUElzIGV4aXN0cyBpbiBicm93c2VycywgTm9kZS5qcywgRGVubywgYW5kIG1vcmUgYnV0IGl0XG4gIC8vIGlzIG5vdCByZXF1aXJlZCBieSB0aGUgQ29udmV4IGNsaWVudC5cbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhcGVyZm9ybWFuY2UubWFyaykgcmV0dXJuO1xuICBwZXJmb3JtYW5jZS5tYXJrKG5hbWUsIHsgZGV0YWlsIH0pO1xufVxuXG4vLyBgUGVyZm9tYW5jZU1hcmtgIGhhcyBhIGJ1aWx0LWluIHRvSlNPTigpIGJ1dCB0aGUgcmV0dXJuIHR5cGUgdmFyaWVzXG4vLyBiZXR3ZWVuIGltcGxlbWVudGF0aW9ucywgZS5nLiBOb2RlLmpzIHJldHVybnMgZGV0YWlscyBidXQgQ2hyb21lIGRvZXMgbm90LlxuZnVuY3Rpb24gcGVyZm9ybWFuY2VNYXJrVG9Kc29uKG1hcms6IFBlcmZvcm1hbmNlTWFyayk6IE1hcmtKc29uIHtcbiAgLy8gUmVtb3ZlIFwiY29udmV4XCIgcHJlZml4XG4gIGxldCBuYW1lID0gbWFyay5uYW1lLnNsaWNlKFwiY29udmV4XCIubGVuZ3RoKTtcbiAgLy8gbG93ZXJjYXNlIHRoZSBmaXJzdCBsZXR0ZXJcbiAgbmFtZSA9IG5hbWUuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgc3RhcnRUaW1lOiBtYXJrLnN0YXJ0VGltZSxcbiAgfTtcbn1cblxuLy8gU2ltaWxhciB0byB0aGUgcmV0dXJuIHR5cGUgb2YgYFBlcmZvcm1hbmNlTWFyay50b0pzb24oKWAuXG5leHBvcnQgdHlwZSBNYXJrSnNvbiA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICAvLyBgc3RhcnRUaW1lYCBpcyBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIHRpbWUgb3JpZ2luIGxpa2UgYHBlcmZvcm1hbmNlLm5vdygpYC5cbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RPTUhpZ2hSZXNUaW1lU3RhbXAjdGhlX3RpbWVfb3JpZ2luXG4gIHN0YXJ0VGltZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmtzUmVwb3J0KHNlc3Npb25JZDogc3RyaW5nKTogTWFya0pzb25bXSB7XG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgPT09IFwidW5kZWZpbmVkXCIgfHwgIXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgYWxsTWFya3M6IFBlcmZvcm1hbmNlTWFya1tdID0gW107XG4gIGZvciAoY29uc3QgbmFtZSBvZiBtYXJrTmFtZXMpIHtcbiAgICBjb25zdCBtYXJrcyA9IChcbiAgICAgIHBlcmZvcm1hbmNlXG4gICAgICAgIC5nZXRFbnRyaWVzQnlOYW1lKG5hbWUpXG4gICAgICAgIC5maWx0ZXIoKGVudHJ5KSA9PiBlbnRyeS5lbnRyeVR5cGUgPT09IFwibWFya1wiKSBhcyBQZXJmb3JtYW5jZU1hcmtbXVxuICAgICkuZmlsdGVyKChtYXJrKSA9PiBtYXJrLmRldGFpbC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCk7XG4gICAgYWxsTWFya3MucHVzaCguLi5tYXJrcyk7XG4gIH1cbiAgcmV0dXJuIGFsbE1hcmtzLm1hcChwZXJmb3JtYW5jZU1hcmtUb0pzb24pO1xufVxuIl0sIm5hbWVzIjpbIm1hcmsiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/metrics.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptimisticQueryResults: () => (/* binding */ OptimisticQueryResults)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/errors.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nclass OptimisticLocalStoreImpl {\n    getQuery(query) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const queryResult = this.queryResults.get((0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs));\n        if (queryResult === void 0) {\n            return void 0;\n        }\n        return OptimisticLocalStoreImpl.queryValue(queryResult.result);\n    }\n    getAllQueries(query) {\n        const queriesWithName = [];\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        for (const queryResult of this.queryResults.values()){\n            if (queryResult.udfPath === (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.canonicalizeUdfPath)(name)) {\n                queriesWithName.push({\n                    args: queryResult.args,\n                    value: OptimisticLocalStoreImpl.queryValue(queryResult.result)\n                });\n            }\n        }\n        return queriesWithName;\n    }\n    setQuery(queryReference, args, value) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(queryReference);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs);\n        let result;\n        if (value === void 0) {\n            result = void 0;\n        } else {\n            result = {\n                success: true,\n                value,\n                // It's an optimistic update, so there are no function logs to show.\n                logLines: []\n            };\n        }\n        const query = {\n            udfPath: name,\n            args: queryArgs,\n            result\n        };\n        this.queryResults.set(queryToken, query);\n        this.modifiedQueries.push(queryToken);\n    }\n    static queryValue(result) {\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            return void 0;\n        }\n    }\n    constructor(queryResults){\n        // A references of the query results in OptimisticQueryResults\n        __publicField(this, \"queryResults\");\n        // All of the queries modified by this class\n        __publicField(this, \"modifiedQueries\");\n        this.queryResults = queryResults;\n        this.modifiedQueries = [];\n    }\n}\nclass OptimisticQueryResults {\n    /**\n   * Apply all optimistic updates on top of server query results\n   */ ingestQueryResultsFromServer(serverQueryResults, optimisticUpdatesToDrop) {\n        this.optimisticUpdates = this.optimisticUpdates.filter((updateAndId)=>{\n            return !optimisticUpdatesToDrop.has(updateAndId.mutationId);\n        });\n        const oldQueryResults = this.queryResults;\n        this.queryResults = new Map(serverQueryResults);\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        for (const updateAndId of this.optimisticUpdates){\n            updateAndId.update(localStore);\n        }\n        const changedQueries = [];\n        for (const [queryToken, query] of this.queryResults){\n            const oldQuery = oldQueryResults.get(queryToken);\n            if (oldQuery === void 0 || oldQuery.result !== query.result) {\n                changedQueries.push(queryToken);\n            }\n        }\n        return changedQueries;\n    }\n    applyOptimisticUpdate(update, mutationId) {\n        this.optimisticUpdates.push({\n            update,\n            mutationId\n        });\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        update(localStore);\n        return localStore.modifiedQueries;\n    }\n    /**\n   * \"Raw\" with respect to errors vs values, but query results still have\n   * optimistic updates applied.\n   *\n   * @internal\n   */ rawQueryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        return query.result;\n    }\n    queryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        const result = query.result;\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result));\n        }\n    }\n    hasQueryResult(queryToken) {\n        return this.queryResults.get(queryToken) !== void 0;\n    }\n    /**\n   * @internal\n   */ queryLogs(queryToken) {\n        var _query_result;\n        const query = this.queryResults.get(queryToken);\n        return query === null || query === void 0 ? void 0 : (_query_result = query.result) === null || _query_result === void 0 ? void 0 : _query_result.logLines;\n    }\n    constructor(){\n        __publicField(this, \"queryResults\");\n        __publicField(this, \"optimisticUpdates\");\n        this.queryResults = /* @__PURE__ */ new Map();\n        this.optimisticUpdates = [];\n    }\n} //# sourceMappingURL=optimistic_updates_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL29wdGltaXN0aWNfdXBkYXRlc19pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1PO0FBQ21CO0FBRStCO0FBUWxEO0FBQ3FCO0FBWTVCLE1BQU0seUJBQXlEO0lBWTdELFNBQ0UsT0FFdUM7UUFGdkM7aUJBQUEsMkJBQ0c7O1FBRUgsTUFBTSxZQUFZLDJEQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsTUFBTSxPQUFPLCtEQUFlLENBQUMsS0FBSztRQUNsQyxNQUFNLGNBQWMsS0FBSyxhQUFhLElBQ3BDLHdFQUFvQixDQUFDLE1BQU0sU0FBUztRQUV0QyxJQUFJLGdCQUFnQixRQUFXO1lBQzdCLE9BQU87UUFDVDtRQUNBLE9BQU8seUJBQXlCLFdBQVcsWUFBWSxNQUFNO0lBQy9EO0lBRUEsY0FDRSxPQUlFO1FBQ0YsTUFBTSxrQkFHQSxDQUFDO1FBQ1AsTUFBTSxPQUFPLCtEQUFlLENBQUMsS0FBSztRQUNsQyxXQUFXLGVBQWUsS0FBSyxhQUFhLE9BQU8sRUFBRztZQUNwRCxJQUFJLFlBQVksWUFBWSx1RUFBbUIsQ0FBQyxJQUFJLEdBQUc7Z0JBQ3JELGdCQUFnQixLQUFLO29CQUNuQixNQUFNLFlBQVk7b0JBQ2xCLE9BQU8seUJBQXlCLFdBQVcsWUFBWSxNQUFNO2dCQUMvRCxDQUFDO1lBQ0g7UUFDRjtRQUNBLE9BQU87SUFDVDtJQUVBLFNBQ0UsZ0JBQ0EsTUFDQSxPQUNNO1FBQ04sTUFBTSxZQUFZLDJEQUFTLENBQUMsSUFBSTtRQUNoQyxNQUFNLE9BQU8sK0RBQWUsQ0FBQyxjQUFjO1FBQzNDLE1BQU0sYUFBYSx3RUFBb0IsQ0FBQyxNQUFNLFNBQVM7UUFFdkQsSUFBSTtRQUNKLElBQUksVUFBVSxRQUFXO1lBQ3ZCLFNBQVM7UUFDWCxPQUFPO1lBQ0wsU0FBUztnQkFDUCxTQUFTO2dCQUNUO2dCQUFBO2dCQUVBLFVBQVUsQ0FBQztZQUNiO1FBQ0Y7UUFDQSxNQUFNLFFBQWU7WUFDbkIsU0FBUztZQUNULE1BQU07WUFDTjtRQUNGO1FBQ0EsS0FBSyxhQUFhLElBQUksWUFBWSxLQUFLO1FBQ3ZDLEtBQUssZ0JBQWdCLEtBQUssVUFBVTtJQUN0QztJQUVBLE9BQWUsV0FDYixRQUNtQjtRQUNuQixJQUFJLFdBQVcsUUFBVztZQUN4QixPQUFPO1FBQ1QsV0FBVyxPQUFPLFNBQVM7WUFDekIsT0FBTyxPQUFPO1FBQ2hCLE9BQU87WUFLTCxPQUFPO1FBQ1Q7SUFDRjtJQXJGQSxZQUFZLGFBQStCO1FBTDNDO1FBQUEsb0JBQWlCO1FBR2pCO1FBQUEsb0JBQVM7UUFHUCxLQUFLLGVBQWU7UUFDcEIsS0FBSyxrQkFBa0IsQ0FBQztJQUMxQjtBQW1GRjtBQXVCTyxNQUFNLHVCQUF1QjtJQU9sQzs7R0FBQSxHQUtBLDZCQUNFLG9CQUNBLHlCQUNnQjtRQUNoQixLQUFLLG9CQUFvQixLQUFLLGtCQUFrQixPQUFPLENBQUM7WUFDdEQsT0FBTyxDQUFDLHdCQUF3QixJQUFJLFlBQVksVUFBVTtRQUM1RCxDQUFDO1FBRUQsTUFBTSxrQkFBa0IsS0FBSztRQUM3QixLQUFLLGVBQWUsSUFBSSxJQUFJLGtCQUFrQjtRQUM5QyxNQUFNLGFBQWEsSUFBSSx5QkFBeUIsS0FBSyxZQUFZO1FBQ2pFLFdBQVcsZUFBZSxLQUFLLGtCQUFtQjtZQUNoRCxZQUFZLE9BQU8sVUFBVTtRQUMvQjtRQUlBLE1BQU0saUJBQWlDLENBQUM7UUFDeEMsV0FBVyxDQUFDLFlBQVksS0FBSyxLQUFLLEtBQUssYUFBYztZQUNuRCxNQUFNLFdBQVcsZ0JBQWdCLElBQUksVUFBVTtZQUMvQyxJQUFJLGFBQWEsVUFBYSxTQUFTLFdBQVcsTUFBTSxRQUFRO2dCQUM5RCxlQUFlLEtBQUssVUFBVTtZQUNoQztRQUNGO1FBRUEsT0FBTztJQUNUO0lBRUEsc0JBQ0UsUUFDQSxZQUNnQjtRQUVoQixLQUFLLGtCQUFrQixLQUFLO1lBQzFCO1lBQ0E7UUFDRixDQUFDO1FBQ0QsTUFBTSxhQUFhLElBQUkseUJBQXlCLEtBQUssWUFBWTtRQUNqRSxPQUFPLFVBQVU7UUFJakIsT0FBTyxXQUFXO0lBQ3BCO0lBQUE7Ozs7O0dBQUEsR0FRQSxlQUFlLFlBQW9EO1FBQ2pFLE1BQU0sUUFBUSxLQUFLLGFBQWEsSUFBSSxVQUFVO1FBQzlDLElBQUksVUFBVSxRQUFXO1lBQ3ZCLE9BQU87UUFDVDtRQUNBLE9BQU8sTUFBTTtJQUNmO0lBRUEsWUFBWSxZQUEyQztRQUNyRCxNQUFNLFFBQVEsS0FBSyxhQUFhLElBQUksVUFBVTtRQUM5QyxJQUFJLFVBQVUsUUFBVztZQUN2QixPQUFPO1FBQ1Q7UUFDQSxNQUFNLFNBQVMsTUFBTTtRQUNyQixJQUFJLFdBQVcsUUFBVztZQUN4QixPQUFPO1FBQ1QsV0FBVyxPQUFPLFNBQVM7WUFDekIsT0FBTyxPQUFPO1FBQ2hCLE9BQU87WUFDTCxJQUFJLE9BQU8sY0FBYyxRQUFXO2dCQUNsQyxNQUFNLHdEQUFXLENBQ2YsUUFDQSxJQUFJLDBEQUFXLENBQ2Isd0VBQTJCLENBQUMsU0FBUyxNQUFNLFNBQVMsTUFBTTtZQUdoRTtZQUNBLE1BQU0sSUFBSSxNQUNSLHdFQUEyQixDQUFDLFNBQVMsTUFBTSxTQUFTLE1BQU07UUFFOUQ7SUFDRjtJQUVBLGVBQWUsWUFBaUM7UUFDOUMsT0FBTyxLQUFLLGFBQWEsSUFBSSxVQUFVLE1BQU07SUFDL0M7SUFBQTs7R0FBQSxHQUtBLFVBQVUsWUFBOEM7WUFFL0M7UUFEUCxNQUFNLFFBQVEsS0FBSyxhQUFhLElBQUksVUFBVTtRQUM5Qyw0RUFBYyxzRUFBUTtJQUN4QjtJQXRHQSxhQUFjO1FBSGQsb0JBQVE7UUFDUixvQkFBUTtRQUdOLEtBQUssZUFBZSxvQkFBSSxJQUFJO1FBQzVCLEtBQUssb0JBQW9CLENBQUM7SUFDNUI7QUFvR0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcmMvYnJvd3Nlci9zeW5jL29wdGltaXN0aWNfdXBkYXRlc19pbXBsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEZ1bmN0aW9uQXJncyxcbiAgRnVuY3Rpb25SZWZlcmVuY2UsXG4gIEZ1bmN0aW9uUmV0dXJuVHlwZSxcbiAgT3B0aW9uYWxSZXN0QXJncyxcbiAgZ2V0RnVuY3Rpb25OYW1lLFxufSBmcm9tIFwiLi4vLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UsIGZvcndhcmREYXRhIH0gZnJvbSBcIi4uL2xvZ2dpbmcuanNcIjtcbmltcG9ydCB7IEZ1bmN0aW9uUmVzdWx0IH0gZnJvbSBcIi4vZnVuY3Rpb25fcmVzdWx0LmpzXCI7XG5pbXBvcnQgeyBPcHRpbWlzdGljTG9jYWxTdG9yZSB9IGZyb20gXCIuL29wdGltaXN0aWNfdXBkYXRlcy5qc1wiO1xuaW1wb3J0IHsgUmVxdWVzdElkIH0gZnJvbSBcIi4vcHJvdG9jb2wuanNcIjtcbmltcG9ydCB7XG4gIGNhbm9uaWNhbGl6ZVVkZlBhdGgsXG4gIFF1ZXJ5VG9rZW4sXG4gIHNlcmlhbGl6ZVBhdGhBbmRBcmdzLFxufSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuaW1wb3J0IHsgQ29udmV4RXJyb3IgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2Vycm9ycy5qc1wiO1xuXG4vKipcbiAqIEFuIG9wdGltaXN0aWMgdXBkYXRlIGZ1bmN0aW9uIHRoYXQgaGFzIGJlZW4gY3VycmllZCBvdmVyIGl0cyBhcmd1bWVudHMuXG4gKi9cbnR5cGUgV3JhcHBlZE9wdGltaXN0aWNVcGRhdGUgPSAobG9jYVF1ZXJ5U3RvcmU6IE9wdGltaXN0aWNMb2NhbFN0b3JlKSA9PiB2b2lkO1xuXG4vKipcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBvZiBgT3B0aW1pc3RpY0xvY2FsU3RvcmVgLlxuICpcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgdGhlIGludGVyZmFjZSBmb3Igb3B0aW1pc3RpYyB1cGRhdGVzIHRvIG1vZGlmeSBxdWVyeSByZXN1bHRzLlxuICovXG5jbGFzcyBPcHRpbWlzdGljTG9jYWxTdG9yZUltcGwgaW1wbGVtZW50cyBPcHRpbWlzdGljTG9jYWxTdG9yZSB7XG4gIC8vIEEgcmVmZXJlbmNlcyBvZiB0aGUgcXVlcnkgcmVzdWx0cyBpbiBPcHRpbWlzdGljUXVlcnlSZXN1bHRzXG4gIHByaXZhdGUgcmVhZG9ubHkgcXVlcnlSZXN1bHRzOiBRdWVyeVJlc3VsdHNNYXA7XG5cbiAgLy8gQWxsIG9mIHRoZSBxdWVyaWVzIG1vZGlmaWVkIGJ5IHRoaXMgY2xhc3NcbiAgcmVhZG9ubHkgbW9kaWZpZWRRdWVyaWVzOiBRdWVyeVRva2VuW107XG5cbiAgY29uc3RydWN0b3IocXVlcnlSZXN1bHRzOiBRdWVyeVJlc3VsdHNNYXApIHtcbiAgICB0aGlzLnF1ZXJ5UmVzdWx0cyA9IHF1ZXJ5UmVzdWx0cztcbiAgICB0aGlzLm1vZGlmaWVkUXVlcmllcyA9IFtdO1xuICB9XG5cbiAgZ2V0UXVlcnk8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICAgLi4uYXJnczogT3B0aW9uYWxSZXN0QXJnczxRdWVyeT5cbiAgKTogdW5kZWZpbmVkIHwgRnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5PiB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgIGNvbnN0IHF1ZXJ5UmVzdWx0ID0gdGhpcy5xdWVyeVJlc3VsdHMuZ2V0KFxuICAgICAgc2VyaWFsaXplUGF0aEFuZEFyZ3MobmFtZSwgcXVlcnlBcmdzKSxcbiAgICApO1xuICAgIGlmIChxdWVyeVJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsLnF1ZXJ5VmFsdWUocXVlcnlSZXN1bHQucmVzdWx0KTtcbiAgfVxuXG4gIGdldEFsbFF1ZXJpZXM8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICk6IHtcbiAgICBhcmdzOiBGdW5jdGlvbkFyZ3M8UXVlcnk+O1xuICAgIHZhbHVlOiB1bmRlZmluZWQgfCBGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+O1xuICB9W10ge1xuICAgIGNvbnN0IHF1ZXJpZXNXaXRoTmFtZToge1xuICAgICAgYXJnczogRnVuY3Rpb25BcmdzPFF1ZXJ5PjtcbiAgICAgIHZhbHVlOiB1bmRlZmluZWQgfCBGdW5jdGlvblJldHVyblR5cGU8UXVlcnk+O1xuICAgIH1bXSA9IFtdO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICAgIGZvciAoY29uc3QgcXVlcnlSZXN1bHQgb2YgdGhpcy5xdWVyeVJlc3VsdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChxdWVyeVJlc3VsdC51ZGZQYXRoID09PSBjYW5vbmljYWxpemVVZGZQYXRoKG5hbWUpKSB7XG4gICAgICAgIHF1ZXJpZXNXaXRoTmFtZS5wdXNoKHtcbiAgICAgICAgICBhcmdzOiBxdWVyeVJlc3VsdC5hcmdzIGFzIEZ1bmN0aW9uQXJnczxRdWVyeT4sXG4gICAgICAgICAgdmFsdWU6IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbC5xdWVyeVZhbHVlKHF1ZXJ5UmVzdWx0LnJlc3VsdCksXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcXVlcmllc1dpdGhOYW1lO1xuICB9XG5cbiAgc2V0UXVlcnk8UXVlcnlSZWZlcmVuY2UgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeVJlZmVyZW5jZTogUXVlcnlSZWZlcmVuY2UsXG4gICAgYXJnczogRnVuY3Rpb25BcmdzPFF1ZXJ5UmVmZXJlbmNlPixcbiAgICB2YWx1ZTogdW5kZWZpbmVkIHwgRnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5UmVmZXJlbmNlPixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnlSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhuYW1lLCBxdWVyeUFyZ3MpO1xuXG4gICAgbGV0IHJlc3VsdDogRnVuY3Rpb25SZXN1bHQgfCB1bmRlZmluZWQ7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc3VsdCA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgLy8gSXQncyBhbiBvcHRpbWlzdGljIHVwZGF0ZSwgc28gdGhlcmUgYXJlIG5vIGZ1bmN0aW9uIGxvZ3MgdG8gc2hvdy5cbiAgICAgICAgbG9nTGluZXM6IFtdLFxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnk6IFF1ZXJ5ID0ge1xuICAgICAgdWRmUGF0aDogbmFtZSxcbiAgICAgIGFyZ3M6IHF1ZXJ5QXJncyxcbiAgICAgIHJlc3VsdCxcbiAgICB9O1xuICAgIHRoaXMucXVlcnlSZXN1bHRzLnNldChxdWVyeVRva2VuLCBxdWVyeSk7XG4gICAgdGhpcy5tb2RpZmllZFF1ZXJpZXMucHVzaChxdWVyeVRva2VuKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHF1ZXJ5VmFsdWUoXG4gICAgcmVzdWx0OiBGdW5jdGlvblJlc3VsdCB8IHVuZGVmaW5lZCxcbiAgKTogVmFsdWUgfCB1bmRlZmluZWQge1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB0aGUgcXVlcnkgaXMgYW4gZXJyb3Igc3RhdGUsIGp1c3QgcmV0dXJuIGB1bmRlZmluZWRgIGFzIHRob3VnaFxuICAgICAgLy8gaXQncyBsb2FkaW5nLiBPcHRpbWlzdGljIHVwZGF0ZXMgc2hvdWxkIGFscmVhZHkgaGFuZGxlIGB1bmRlZmluZWRgIHdlbGxcbiAgICAgIC8vIGFuZCB0aGVyZSBpc24ndCBhIG5lZWQgdG8gYnJlYWsgdGhlIHdob2xlIHVwZGF0ZSBiZWNhdXNlIGl0IHRyaWVkXG4gICAgICAvLyB0byBsb2FkIGEgc2luZ2xlIHF1ZXJ5IHRoYXQgZXJyb3JlZC5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59XG5cbnR5cGUgT3B0aW1pc3RpY1VwZGF0ZUFuZElkID0ge1xuICB1cGRhdGU6IFdyYXBwZWRPcHRpbWlzdGljVXBkYXRlO1xuICBtdXRhdGlvbklkOiBSZXF1ZXN0SWQ7XG59O1xuXG50eXBlIFF1ZXJ5ID0ge1xuICAvLyB1bmRlZmluZWQgbWVhbnMgdGhlIHF1ZXJ5IHdhcyBzZXQgdG8gYmUgbG9hZGluZyAodW5kZWZpbmVkKSBpbiBhbiBvcHRpbWlzdGljIHVwZGF0ZS5cbiAgLy8gTm90ZSB0aGF0IHdlIGNhbiBhbHNvIGhhdmUgcXVlcmllcyBub3QgcHJlc2VudCBpbiB0aGUgUXVlcnlSZXN1bHRNYXBcbiAgLy8gYXQgYWxsIGJlY2F1c2UgdGhleSBhcmUgc3RpbGwgbG9hZGluZyBmcm9tIHRoZSBzZXJ2ZXIgYW5kIGhhdmUgbm8gb3B0aW1pc3RpYyB1cGRhdGVcbiAgLy8gc2V0dGluZyBhbiBvcHRpbWlzdGljIHZhbHVlIGluIGFkdmFuY2UuXG4gIHJlc3VsdDogRnVuY3Rpb25SZXN1bHQgfCB1bmRlZmluZWQ7XG4gIHVkZlBhdGg6IHN0cmluZztcbiAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+O1xufTtcbmV4cG9ydCB0eXBlIFF1ZXJ5UmVzdWx0c01hcCA9IE1hcDxRdWVyeVRva2VuLCBRdWVyeT47XG5cbnR5cGUgQ2hhbmdlZFF1ZXJpZXMgPSBRdWVyeVRva2VuW107XG5cbi8qKlxuICogQSB2aWV3IG9mIGFsbCBvZiBvdXIgcXVlcnkgcmVzdWx0cyB3aXRoIG9wdGltaXN0aWMgdXBkYXRlcyBhcHBsaWVkIG9uIHRvcC5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wdGltaXN0aWNRdWVyeVJlc3VsdHMge1xuICBwcml2YXRlIHF1ZXJ5UmVzdWx0czogUXVlcnlSZXN1bHRzTWFwO1xuICBwcml2YXRlIG9wdGltaXN0aWNVcGRhdGVzOiBPcHRpbWlzdGljVXBkYXRlQW5kSWRbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnF1ZXJ5UmVzdWx0cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm9wdGltaXN0aWNVcGRhdGVzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYWxsIG9wdGltaXN0aWMgdXBkYXRlcyBvbiB0b3Agb2Ygc2VydmVyIHF1ZXJ5IHJlc3VsdHNcbiAgICovXG4gIGluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIoXG4gICAgc2VydmVyUXVlcnlSZXN1bHRzOiBRdWVyeVJlc3VsdHNNYXAsXG4gICAgb3B0aW1pc3RpY1VwZGF0ZXNUb0Ryb3A6IFNldDxSZXF1ZXN0SWQ+LFxuICApOiBDaGFuZ2VkUXVlcmllcyB7XG4gICAgdGhpcy5vcHRpbWlzdGljVXBkYXRlcyA9IHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMuZmlsdGVyKCh1cGRhdGVBbmRJZCkgPT4ge1xuICAgICAgcmV0dXJuICFvcHRpbWlzdGljVXBkYXRlc1RvRHJvcC5oYXModXBkYXRlQW5kSWQubXV0YXRpb25JZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBvbGRRdWVyeVJlc3VsdHMgPSB0aGlzLnF1ZXJ5UmVzdWx0cztcbiAgICB0aGlzLnF1ZXJ5UmVzdWx0cyA9IG5ldyBNYXAoc2VydmVyUXVlcnlSZXN1bHRzKTtcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gbmV3IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCh0aGlzLnF1ZXJ5UmVzdWx0cyk7XG4gICAgZm9yIChjb25zdCB1cGRhdGVBbmRJZCBvZiB0aGlzLm9wdGltaXN0aWNVcGRhdGVzKSB7XG4gICAgICB1cGRhdGVBbmRJZC51cGRhdGUobG9jYWxTdG9yZSk7XG4gICAgfVxuXG4gICAgLy8gVG8gZmluZCB0aGUgY2hhbmdlZCBxdWVyaWVzLCBqdXN0IGRvIGEgc2hhbGxvdyBjb21wYXJpc29uXG4gICAgLy8gVE9ETyhDWC03MzMpOiBDaGFuZ2UgdGhpcyBzbyB3ZSBhdm9pZCB1bm5lY2Vzc2FyeSByZXJlbmRlcnNcbiAgICBjb25zdCBjaGFuZ2VkUXVlcmllczogQ2hhbmdlZFF1ZXJpZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtxdWVyeVRva2VuLCBxdWVyeV0gb2YgdGhpcy5xdWVyeVJlc3VsdHMpIHtcbiAgICAgIGNvbnN0IG9sZFF1ZXJ5ID0gb2xkUXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICAgIGlmIChvbGRRdWVyeSA9PT0gdW5kZWZpbmVkIHx8IG9sZFF1ZXJ5LnJlc3VsdCAhPT0gcXVlcnkucmVzdWx0KSB7XG4gICAgICAgIGNoYW5nZWRRdWVyaWVzLnB1c2gocXVlcnlUb2tlbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYW5nZWRRdWVyaWVzO1xuICB9XG5cbiAgYXBwbHlPcHRpbWlzdGljVXBkYXRlKFxuICAgIHVwZGF0ZTogV3JhcHBlZE9wdGltaXN0aWNVcGRhdGUsXG4gICAgbXV0YXRpb25JZDogUmVxdWVzdElkLFxuICApOiBDaGFuZ2VkUXVlcmllcyB7XG4gICAgLy8gQXBwbHkgdGhlIHVwZGF0ZSB0byBvdXIgc3RvcmVcbiAgICB0aGlzLm9wdGltaXN0aWNVcGRhdGVzLnB1c2goe1xuICAgICAgdXBkYXRlLFxuICAgICAgbXV0YXRpb25JZCxcbiAgICB9KTtcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gbmV3IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCh0aGlzLnF1ZXJ5UmVzdWx0cyk7XG4gICAgdXBkYXRlKGxvY2FsU3RvcmUpO1xuXG4gICAgLy8gTm90aWZ5IGFib3V0IGFueSBxdWVyeSByZXN1bHRzIHRoYXQgY2hhbmdlZFxuICAgIC8vIFRPRE8oQ1gtNzMzKTogQ2hhbmdlIHRoaXMgc28gd2UgYXZvaWQgdW5uZWNlc3NhcnkgcmVyZW5kZXJzXG4gICAgcmV0dXJuIGxvY2FsU3RvcmUubW9kaWZpZWRRdWVyaWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFwiUmF3XCIgd2l0aCByZXNwZWN0IHRvIGVycm9ycyB2cyB2YWx1ZXMsIGJ1dCBxdWVyeSByZXN1bHRzIHN0aWxsIGhhdmVcbiAgICogb3B0aW1pc3RpYyB1cGRhdGVzIGFwcGxpZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcmF3UXVlcnlSZXN1bHQocXVlcnlUb2tlbjogUXVlcnlUb2tlbik6IEZ1bmN0aW9uUmVzdWx0IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5LnJlc3VsdDtcbiAgfVxuXG4gIHF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW4pOiBWYWx1ZSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5UmVzdWx0cy5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKHF1ZXJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHF1ZXJ5LnJlc3VsdDtcbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlc3VsdC5lcnJvckRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBmb3J3YXJkRGF0YShcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgbmV3IENvbnZleEVycm9yKFxuICAgICAgICAgICAgY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwicXVlcnlcIiwgcXVlcnkudWRmUGF0aCwgcmVzdWx0KSxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJxdWVyeVwiLCBxdWVyeS51ZGZQYXRoLCByZXN1bHQpLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBoYXNRdWVyeVJlc3VsdChxdWVyeVRva2VuOiBRdWVyeVRva2VuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKSAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcXVlcnlMb2dzKHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW4pOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5UmVzdWx0cy5nZXQocXVlcnlUb2tlbik7XG4gICAgcmV0dXJuIHF1ZXJ5Py5yZXN1bHQ/LmxvZ0xpbmVzO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaginatedQueryClient: () => (/* binding */ PaginatedQueryClient)\n/* harmony export */ });\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pagination.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/pagination.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../vendor/long.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/vendor/long.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass PaginatedQueryClient {\n    /**\n   * Subscribe to a paginated query.\n   *\n   * @param name - The name of the paginated query function\n   * @param args - Arguments for the query (excluding paginationOpts)\n   * @param options - Pagination options including initialNumItems\n   * @returns Object with paginatedQueryToken and unsubscribe function\n   */ subscribe(name, args, options) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.canonicalizeUdfPath)(name);\n        const token = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.serializePaginatedPathAndArgs)(canonicalizedUdfPath, args, options);\n        const unsubscribe = ()=>this.removePaginatedQuerySubscriber(token);\n        const existingEntry = this.paginatedQuerySet.get(token);\n        if (existingEntry) {\n            existingEntry.numSubscribers += 1;\n            return {\n                paginatedQueryToken: token,\n                unsubscribe\n            };\n        }\n        this.paginatedQuerySet.set(token, {\n            token,\n            canonicalizedUdfPath,\n            args,\n            numSubscribers: 1,\n            options: {\n                initialNumItems: options.initialNumItems\n            },\n            nextPageKey: 0,\n            pageKeys: [],\n            pageKeyToQuery: /* @__PURE__ */ new Map(),\n            ongoingSplits: /* @__PURE__ */ new Map(),\n            skip: false,\n            id: options.id\n        });\n        this.addPageToPaginatedQuery(token, null, options.initialNumItems);\n        return {\n            paginatedQueryToken: token,\n            unsubscribe\n        };\n    }\n    /**\n   * Get current results for a paginated query based on local state.\n   *\n   * Throws an error when one of the pages has errored.\n   */ localQueryResult(name, args, options) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.canonicalizeUdfPath)(name);\n        const token = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.serializePaginatedPathAndArgs)(canonicalizedUdfPath, args, options);\n        return this.localQueryResultByToken(token);\n    }\n    /**\n   * @internal\n   */ localQueryResultByToken(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            return void 0;\n        }\n        const activePages = this.activePageQueryTokens(paginatedQuery);\n        if (activePages.length === 0) {\n            return {\n                results: [],\n                status: \"LoadingFirstPage\",\n                loadMore: (numItems)=>{\n                    return this.loadMoreOfPaginatedQuery(token, numItems);\n                }\n            };\n        }\n        let allResults = [];\n        let hasUndefined = false;\n        let isDone = false;\n        for (const pageToken of activePages){\n            const result = this.client.localQueryResultByToken(pageToken);\n            if (result === void 0) {\n                hasUndefined = true;\n                isDone = false;\n                continue;\n            }\n            const paginationResult = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(result);\n            allResults = allResults.concat(paginationResult.page);\n            isDone = !!paginationResult.isDone;\n        }\n        let status;\n        if (hasUndefined) {\n            status = allResults.length === 0 ? \"LoadingFirstPage\" : \"LoadingMore\";\n        } else if (isDone) {\n            status = \"Exhausted\";\n        } else {\n            status = \"CanLoadMore\";\n        }\n        return {\n            results: allResults,\n            status,\n            loadMore: (numItems)=>{\n                return this.loadMoreOfPaginatedQuery(token, numItems);\n            }\n        };\n    }\n    onBaseTransition(transition) {\n        const changedBaseTokens = transition.queries.map((q)=>q.token);\n        const changed = this.queriesContainingTokens(changedBaseTokens);\n        let paginatedQueries = [];\n        if (changed.length > 0) {\n            this.processPaginatedQuerySplits(changed, (token)=>this.client.localQueryResultByToken(token));\n            paginatedQueries = changed.map((token)=>({\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: this.localQueryResultByToken(token)\n                    }\n                }));\n        }\n        const extendedTransition = {\n            ...transition,\n            paginatedQueries\n        };\n        this.onTransition(extendedTransition);\n    }\n    /**\n   * Load more items for a paginated query.\n   *\n   * This *always* causes a transition, the status of the query\n   * has probably changed from \"CanLoadMore\" to \"LoadingMore\".\n   * Data might have changed too: maybe a subscription to this page\n   * query already exists (unlikely but possible) or this page query\n   * has an optimistic update providing some initial data.\n   *\n   * @internal\n   */ loadMoreOfPaginatedQuery(token, numItems) {\n        this.mustGetPaginatedQuery(token);\n        const lastPageToken = this.queryTokenForLastPageOfPaginatedQuery(token);\n        const lastPageResult = this.client.localQueryResultByToken(lastPageToken);\n        if (!lastPageResult) {\n            return false;\n        }\n        const paginationResult = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(lastPageResult);\n        if (paginationResult.isDone) {\n            return false;\n        }\n        this.addPageToPaginatedQuery(token, paginationResult.continueCursor, numItems);\n        const loadMoreTransition = {\n            timestamp: this.lastTransitionTs,\n            reflectedMutations: [],\n            queries: [],\n            paginatedQueries: [\n                {\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: this.localQueryResultByToken(token)\n                    }\n                }\n            ]\n        };\n        this.onTransition(loadMoreTransition);\n        return true;\n    }\n    /**\n   * @internal\n   */ queriesContainingTokens(queryTokens) {\n        if (queryTokens.length === 0) {\n            return [];\n        }\n        const changed = [];\n        const queryTokenSet = new Set(queryTokens);\n        for (const [paginatedToken, paginatedQuery] of this.paginatedQuerySet){\n            for (const pageToken of this.allQueryTokens(paginatedQuery)){\n                if (queryTokenSet.has(pageToken)) {\n                    changed.push(paginatedToken);\n                    break;\n                }\n            }\n        }\n        return changed;\n    }\n    /**\n   * @internal\n   */ processPaginatedQuerySplits(changed, getResult) {\n        for (const paginatedQueryToken of changed){\n            const paginatedQuery = this.mustGetPaginatedQuery(paginatedQueryToken);\n            const { ongoingSplits, pageKeyToQuery, pageKeys } = paginatedQuery;\n            for (const [pageKey, [splitKey1, splitKey2]] of ongoingSplits){\n                const bothNewPagesLoaded = getResult(pageKeyToQuery.get(splitKey1).queryToken) !== void 0 && getResult(pageKeyToQuery.get(splitKey2).queryToken) !== void 0;\n                if (bothNewPagesLoaded) {\n                    this.completePaginatedQuerySplit(paginatedQuery, pageKey, splitKey1, splitKey2);\n                }\n            }\n            for (const pageKey of pageKeys){\n                if (ongoingSplits.has(pageKey)) {\n                    continue;\n                }\n                const pageToken = pageKeyToQuery.get(pageKey).queryToken;\n                const pageResult = getResult(pageToken);\n                if (!pageResult) {\n                    continue;\n                }\n                const result = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(pageResult);\n                const shouldSplit = result.splitCursor && (result.pageStatus === \"SplitRecommended\" || result.pageStatus === \"SplitRequired\" || // This client-driven page splitting condition will change in the future.\n                result.page.length > paginatedQuery.options.initialNumItems * 2);\n                if (shouldSplit) {\n                    this.splitPaginatedQueryPage(paginatedQuery, pageKey, result.splitCursor, // we just checked\n                    result.continueCursor);\n                }\n            }\n        }\n    }\n    splitPaginatedQueryPage(paginatedQuery, pageKey, splitCursor, continueCursor) {\n        const splitKey1 = paginatedQuery.nextPageKey++;\n        const splitKey2 = paginatedQuery.nextPageKey++;\n        const paginationOpts = {\n            cursor: continueCursor,\n            numItems: paginatedQuery.options.initialNumItems,\n            id: paginatedQuery.id\n        };\n        const firstSubscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, {\n            ...paginatedQuery.args,\n            paginationOpts: {\n                ...paginationOpts,\n                cursor: null,\n                // Start from beginning for first split\n                endCursor: splitCursor\n            }\n        });\n        paginatedQuery.pageKeyToQuery.set(splitKey1, firstSubscription);\n        const secondSubscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, {\n            ...paginatedQuery.args,\n            paginationOpts: {\n                ...paginationOpts,\n                cursor: splitCursor,\n                endCursor: continueCursor\n            }\n        });\n        paginatedQuery.pageKeyToQuery.set(splitKey2, secondSubscription);\n        paginatedQuery.ongoingSplits.set(pageKey, [\n            splitKey1,\n            splitKey2\n        ]);\n    }\n    /**\n   * @internal\n   */ addPageToPaginatedQuery(token, continueCursor, numItems) {\n        const paginatedQuery = this.mustGetPaginatedQuery(token);\n        const pageKey = paginatedQuery.nextPageKey++;\n        const paginationOpts = {\n            cursor: continueCursor,\n            numItems,\n            id: paginatedQuery.id\n        };\n        const pageArgs = {\n            ...paginatedQuery.args,\n            paginationOpts\n        };\n        const subscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, pageArgs);\n        paginatedQuery.pageKeys.push(pageKey);\n        paginatedQuery.pageKeyToQuery.set(pageKey, subscription);\n        return subscription;\n    }\n    removePaginatedQuerySubscriber(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            return;\n        }\n        paginatedQuery.numSubscribers -= 1;\n        if (paginatedQuery.numSubscribers > 0) {\n            return;\n        }\n        for (const subscription of paginatedQuery.pageKeyToQuery.values()){\n            subscription.unsubscribe();\n        }\n        this.paginatedQuerySet.delete(token);\n    }\n    completePaginatedQuerySplit(paginatedQuery, pageKey, splitKey1, splitKey2) {\n        const originalQuery = paginatedQuery.pageKeyToQuery.get(pageKey);\n        paginatedQuery.pageKeyToQuery.delete(pageKey);\n        const pageIndex = paginatedQuery.pageKeys.indexOf(pageKey);\n        paginatedQuery.pageKeys.splice(pageIndex, 1, splitKey1, splitKey2);\n        paginatedQuery.ongoingSplits.delete(pageKey);\n        originalQuery.unsubscribe();\n    }\n    /** The query tokens for all active pages, in result order */ activePageQueryTokens(paginatedQuery) {\n        return paginatedQuery.pageKeys.map((pageKey)=>paginatedQuery.pageKeyToQuery.get(pageKey).queryToken);\n    }\n    allQueryTokens(paginatedQuery) {\n        return Array.from(paginatedQuery.pageKeyToQuery.values()).map((sub)=>sub.queryToken);\n    }\n    queryTokenForLastPageOfPaginatedQuery(token) {\n        const paginatedQuery = this.mustGetPaginatedQuery(token);\n        const lastPageKey = paginatedQuery.pageKeys[paginatedQuery.pageKeys.length - 1];\n        if (lastPageKey === void 0) {\n            throw new Error(\"No pages for paginated query \".concat(token));\n        }\n        return paginatedQuery.pageKeyToQuery.get(lastPageKey).queryToken;\n    }\n    mustGetPaginatedQuery(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            throw new Error(\"paginated query no longer exists for token \" + token);\n        }\n        return paginatedQuery;\n    }\n    constructor(client, onTransition){\n        this.client = client;\n        this.onTransition = onTransition;\n        __publicField(this, \"paginatedQuerySet\", /* @__PURE__ */ new Map());\n        // hold onto a real Transition so we can construct synthetic ones with that timestamp\n        __publicField(this, \"lastTransitionTs\");\n        this.lastTransitionTs = _vendor_long_js__WEBPACK_IMPORTED_MODULE_2__.Long.fromNumber(0);\n        this.client.addOnTransitionHandler((transition)=>this.onBaseTransition(transition));\n    }\n} //# sourceMappingURL=paginated_query_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQWtCTztBQU1BO0FBRWM7QUFrRGQsTUFBTSxxQkFBcUI7SUFlaEM7Ozs7Ozs7R0FBQSxHQVVBLFVBQ0UsTUFDQSxNQUNBLFNBSUE7UUFDQSxNQUFNLHVCQUF1Qix1RUFBbUIsQ0FBQyxJQUFJO1FBRXJELE1BQU0sUUFBUSxpRkFBNkIsQ0FDekMsc0JBQ0EsTUFDQTtRQUdGLE1BQU0sY0FBYyxJQUFNLEtBQUssK0JBQStCLEtBQUs7UUFFbkUsTUFBTSxnQkFBZ0IsS0FBSyxrQkFBa0IsSUFBSSxLQUFLO1FBQ3RELElBQUksZUFBZTtZQUNqQixjQUFjLGtCQUFrQjtZQUNoQyxPQUFPO2dCQUNMLHFCQUFxQjtnQkFDckI7WUFDRjtRQUNGO1FBR0EsS0FBSyxrQkFBa0IsSUFBSSxPQUFPO1lBQ2hDO1lBQ0E7WUFDQTtZQUNBLGdCQUFnQjtZQUNoQixTQUFTO2dCQUFFLGlCQUFpQixRQUFRO1lBQWdCO1lBQ3BELGFBQWE7WUFDYixVQUFVLENBQUM7WUFDWCxnQkFBZ0Isb0JBQUksSUFBSTtZQUN4QixlQUFlLG9CQUFJLElBQUk7WUFDdkIsTUFBTTtZQUNOLElBQUksUUFBUTtRQUNkLENBQUM7UUFFRCxLQUFLLHdCQUF3QixPQUFPLE1BQU0sUUFBUSxlQUFlO1FBRWpFLE9BQU87WUFDTCxxQkFBcUI7WUFDckI7UUFDRjtJQUNGO0lBQUE7Ozs7R0FBQSxHQU9BLGlCQUNFLE1BQ0EsTUFDQSxTQUNxQztRQUNyQyxNQUFNLHVCQUF1Qix1RUFBbUIsQ0FBQyxJQUFJO1FBQ3JELE1BQU0sUUFBUSxpRkFBNkIsQ0FDekMsc0JBQ0EsTUFDQTtRQUVGLE9BQU8sS0FBSyx3QkFBd0IsS0FBSztJQUMzQztJQUFBOztHQUFBLEdBS0Esd0JBQ0UsT0FDcUM7UUFLckMsTUFB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QkFBdUIsQ0FBQyxhQUNsQyxLQUFLLGlCQUFpQixVQUFVO0lBRXBDO0FBd2RGIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy9wYWdpbmF0ZWRfcXVlcnlfY2xpZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUGFnaW5hdGVkUXVlcnlDbGllbnQgbWFwcyBzdWJzY3JpcHRpb25zIHRvIHBhZ2luYXRlZCBxdWVyaWVzIHRvIHRoZVxuICogaW5kaXZpZHVhbCBwYWdlIHF1ZXJpZXMgYW5kIGhhbmRsZXMgcGFnZSBzcGxpdHMuXG4gKlxuICogSW4gb3JkZXIgdG8gcHJvY2VzcyBhbGwgbW9kaWZpZWQgcXVlcmllcywgcGFnaW5hdGVkIGFuZCBub3JtYWwsIGluIHRoZSBzYW1lXG4gKiBzeW5jaHJvbm91cyBjYWxsIHRoZSBQYWdpbmF0ZWRRdWVyeUNsaWVudCB0cmFuc2l0aW9uIHNob3VsZCBiZSB1c2VkIGV4Y2x1c2l2ZWx5LlxuICpcbiAqIExpa2UgdGhlIEJhc2VDb252ZXhDbGllbnQsIHRoaXMgY2xpZW50IGlzIG5vdCBDb252ZXggRnVuY3Rpb24gdHlwZS1hd2FyZTogaXQgZGVhbHNcbiAqIHdpdGggcXVlcmllcyBhcyBmdW5jdGlvbnMgdGhhdCByZXR1cm4gVmFsdWUsIG5vdCB0aGUgc3BlY2lmaWMgdmFsdWUuXG4gKiBVc2UgYSBoaWdoZXItbGV2ZWwgbGlicmFyeSB0byBnZXQgdHlwZXMuXG4gKi9cblxuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICBRdWVyeVRva2VuLFxuICBzZXJpYWxpemVQYWdpbmF0ZWRQYXRoQW5kQXJncyxcbiAgY2Fub25pY2FsaXplVWRmUGF0aCxcbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmltcG9ydCB7IEJhc2VDb252ZXhDbGllbnQsIFRyYW5zaXRpb24gfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmltcG9ydCB7XG4gIFBhZ2luYXRlZFF1ZXJ5UmVzdWx0LFxuICBQYWdpbmF0aW9uU3RhdHVzLFxuICBhc1BhZ2luYXRpb25SZXN1bHQsXG59IGZyb20gXCIuL3BhZ2luYXRpb24uanNcIjtcbmltcG9ydCB7IFRTIH0gZnJvbSBcIi4vcHJvdG9jb2wuanNcIjtcbmltcG9ydCB7IExvbmcgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2xvbmcuanNcIjtcblxudHlwZSBRdWVyeVBhZ2VLZXkgPSBudW1iZXI7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBhZ2luYXRlZCBxdWVyeSBzdWJzY3JpcHRpb24gd2l0aCBtdWx0aXBsZSBwYWdlcy5cbiAqXG4gKiBUbyBrbm93IHRoZSBvcmRlciBvZiBwYWdlcyBpdCdzIG5lY2Vzc2FyeSB0byBjb25zdWx0IGBwYWdlS2V5c2AuXG4gKiBUaGUgcGFnZXMgaW4gdGhpcyBhcnJheSBhcmUgYWN0aXZlLCB0aGV5IGNvbnN0aXR1dGUgYSBnYXBsZXNzIHNlcXVlbmNlIG9mIHJlc3VsdHMuXG4gKiBTb21lIHBhZ2VzIGFyZSBub3QgaW4gdGhpcyBhcnJheTogdGhleSBtYXkgYmUgd2FpdGluZyBmb3IgZGF0YSBmb3IgYSBwYWdlIHNwbGl0LlxuICovXG50eXBlIExvY2FsUGFnaW5hdGVkUXVlcnkgPSB7XG4gIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuO1xuICBjYW5vbmljYWxpemVkVWRmUGF0aDogc3RyaW5nO1xuICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT47IC8vIFdJVEhPVVQgcGFnaW5hdGlvbk9wdHNcbiAgbnVtU3Vic2NyaWJlcnM6IG51bWJlcjtcbiAgb3B0aW9uczogeyBpbml0aWFsTnVtSXRlbXM6IG51bWJlciB9O1xuICBuZXh0UGFnZUtleTogUXVlcnlQYWdlS2V5O1xuICBwYWdlS2V5czogUXVlcnlQYWdlS2V5W107IC8vIFRoZXNlIHBhZ2VzIG1ha2UgdXAgdGhlIGFjdGl2ZSBwYWdlIHF1ZXJpZXMuXG4gIC8vIE1hcCBwYWdlIGtleXMgdG8gdGhlaXIgcXVlcnkgc3Vic2NyaXB0aW9uc1xuICBwYWdlS2V5VG9RdWVyeTogTWFwPFxuICAgIFF1ZXJ5UGFnZUtleSxcbiAgICB7IHF1ZXJ5VG9rZW46IFF1ZXJ5VG9rZW47IHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIH1cbiAgPjtcbiAgb25nb2luZ1NwbGl0czogTWFwPFF1ZXJ5UGFnZUtleSwgW1F1ZXJ5UGFnZUtleSwgUXVlcnlQYWdlS2V5XT47XG4gIHNraXA6IGJvb2xlYW47XG5cbiAgLy8gR2l2ZSBzZXBhcmF0ZSB1c2VzIG9mIHRoZSBxdWVyeSBzZXBhcmF0ZSBpZGVudGl0aWVzLFxuICAvLyB3aGljaCBtYXkgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlIHRvIGltcHJvdmUgY2FjaGluZy5cbiAgaWQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnMge1xuICBpbml0aWFsTnVtSXRlbXM6IG51bWJlcjtcbiAgaWQ6IG51bWJlcjtcbn1cblxudHlwZSBBbnlQYWdpbmF0ZWRRdWVyeVJlc3VsdCA9IFBhZ2luYXRlZFF1ZXJ5UmVzdWx0PFZhbHVlPjtcblxuZXhwb3J0IHR5cGUgUGFnaW5hdGVkUXVlcnlNb2RpZmljYXRpb24gPVxuICB8IHsga2luZDogXCJVcGRhdGVkXCI7IHJlc3VsdDogQW55UGFnaW5hdGVkUXVlcnlSZXN1bHQgfCB1bmRlZmluZWQgfVxuICB8IHsga2luZDogXCJSZW1vdmVkXCIgfTtcblxuZXhwb3J0IHR5cGUgRXh0ZW5kZWRUcmFuc2l0aW9uID0gVHJhbnNpdGlvbiAmIHtcbiAgcGFnaW5hdGVkUXVlcmllczogQXJyYXk8e1xuICAgIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuO1xuICAgIG1vZGlmaWNhdGlvbjogUGFnaW5hdGVkUXVlcnlNb2RpZmljYXRpb247XG4gIH0+O1xufTtcblxuZXhwb3J0IGNsYXNzIFBhZ2luYXRlZFF1ZXJ5Q2xpZW50IHtcbiAgcHJpdmF0ZSBwYWdpbmF0ZWRRdWVyeVNldDogTWFwPFBhZ2luYXRlZFF1ZXJ5VG9rZW4sIExvY2FsUGFnaW5hdGVkUXVlcnk+ID1cbiAgICBuZXcgTWFwKCk7XG4gIC8vIGhvbGQgb250byBhIHJlYWwgVHJhbnNpdGlvbiBzbyB3ZSBjYW4gY29uc3RydWN0IHN5bnRoZXRpYyBvbmVzIHdpdGggdGhhdCB0aW1lc3RhbXBcbiAgcHJpdmF0ZSBsYXN0VHJhbnNpdGlvblRzOiBUUztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNsaWVudDogQmFzZUNvbnZleENsaWVudCxcbiAgICBwcml2YXRlIG9uVHJhbnNpdGlvbjogKHRyYW5zaXRpb246IEV4dGVuZGVkVHJhbnNpdGlvbikgPT4gdm9pZCxcbiAgKSB7XG4gICAgLy8gTm9uc2Vuc2UgaW5pdGlhbCB2YWx1ZSB0byBjb25zdHJ1Y3Qgc3ludGhldGljIFRyYW5zaXRpb25zXG4gICAgdGhpcy5sYXN0VHJhbnNpdGlvblRzID0gTG9uZy5mcm9tTnVtYmVyKDApO1xuICAgIHRoaXMuY2xpZW50LmFkZE9uVHJhbnNpdGlvbkhhbmRsZXIoKHRyYW5zaXRpb246IFRyYW5zaXRpb24pID0+XG4gICAgICB0aGlzLm9uQmFzZVRyYW5zaXRpb24odHJhbnNpdGlvbiksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gYSBwYWdpbmF0ZWQgcXVlcnkuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBhZ2luYXRlZCBxdWVyeSBmdW5jdGlvblxuICAgKiBAcGFyYW0gYXJncyAtIEFyZ3VtZW50cyBmb3IgdGhlIHF1ZXJ5IChleGNsdWRpbmcgcGFnaW5hdGlvbk9wdHMpXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUGFnaW5hdGlvbiBvcHRpb25zIGluY2x1ZGluZyBpbml0aWFsTnVtSXRlbXNcbiAgICogQHJldHVybnMgT2JqZWN0IHdpdGggcGFnaW5hdGVkUXVlcnlUb2tlbiBhbmQgdW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICovXG4gIHN1YnNjcmliZShcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgIG9wdGlvbnM6IFN1YnNjcmliZVRvUGFnaW5hdGVkUXVlcnlPcHRpb25zLFxuICApOiB7XG4gICAgcGFnaW5hdGVkUXVlcnlUb2tlbjogUGFnaW5hdGVkUXVlcnlUb2tlbjtcbiAgICB1bnN1YnNjcmliZTogKCkgPT4gdm9pZDtcbiAgfSB7XG4gICAgY29uc3QgY2Fub25pY2FsaXplZFVkZlBhdGggPSBjYW5vbmljYWxpemVVZGZQYXRoKG5hbWUpO1xuICAgIC8vIE5vdGUgdGhhdCBvbmx5IHRoZSBleHBlY3RlZCBvcHRpb25zIGFyZSBpbmNsdWRlZCBpbiB0aGUgc2VyaWFsaXphdGlvbi5cbiAgICBjb25zdCB0b2tlbiA9IHNlcmlhbGl6ZVBhZ2luYXRlZFBhdGhBbmRBcmdzKFxuICAgICAgY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnJlbW92ZVBhZ2luYXRlZFF1ZXJ5U3Vic2NyaWJlcih0b2tlbik7XG5cbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5wYWdpbmF0ZWRRdWVyeVNldC5nZXQodG9rZW4pO1xuICAgIGlmIChleGlzdGluZ0VudHJ5KSB7XG4gICAgICBleGlzdGluZ0VudHJ5Lm51bVN1YnNjcmliZXJzICs9IDE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWdpbmF0ZWRRdWVyeVRva2VuOiB0b2tlbixcbiAgICAgICAgdW5zdWJzY3JpYmUsXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBuZXcgcGFnaW5hdGVkIHF1ZXJ5XG4gICAgdGhpcy5wYWdpbmF0ZWRRdWVyeVNldC5zZXQodG9rZW4sIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgbnVtU3Vic2NyaWJlcnM6IDEsXG4gICAgICBvcHRpb25zOiB7IGluaXRpYWxOdW1JdGVtczogb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgfSxcbiAgICAgIG5leHRQYWdlS2V5OiAwLFxuICAgICAgcGFnZUtleXM6IFtdLFxuICAgICAgcGFnZUtleVRvUXVlcnk6IG5ldyBNYXAoKSxcbiAgICAgIG9uZ29pbmdTcGxpdHM6IG5ldyBNYXAoKSxcbiAgICAgIHNraXA6IGZhbHNlLFxuICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZFBhZ2VUb1BhZ2luYXRlZFF1ZXJ5KHRva2VuLCBudWxsLCBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFnaW5hdGVkUXVlcnlUb2tlbjogdG9rZW4sXG4gICAgICB1bnN1YnNjcmliZSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXJyZW50IHJlc3VsdHMgZm9yIGEgcGFnaW5hdGVkIHF1ZXJ5IGJhc2VkIG9uIGxvY2FsIHN0YXRlLlxuICAgKlxuICAgKiBUaHJvd3MgYW4gZXJyb3Igd2hlbiBvbmUgb2YgdGhlIHBhZ2VzIGhhcyBlcnJvcmVkLlxuICAgKi9cbiAgbG9jYWxRdWVyeVJlc3VsdChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgIG9wdGlvbnM6IHsgaW5pdGlhbE51bUl0ZW1zOiBudW1iZXI7IGlkOiBudW1iZXIgfSxcbiAgKTogQW55UGFnaW5hdGVkUXVlcnlSZXN1bHQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGNhbm9uaWNhbGl6ZWRVZGZQYXRoID0gY2Fub25pY2FsaXplVWRmUGF0aChuYW1lKTtcbiAgICBjb25zdCB0b2tlbiA9IHNlcmlhbGl6ZVBhZ2luYXRlZFBhdGhBbmRBcmdzKFxuICAgICAgY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgb3B0aW9ucyxcbiAgICApO1xuICAgIHJldHVybiB0aGlzLmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKFxuICAgIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICApOiBBbnlQYWdpbmF0ZWRRdWVyeVJlc3VsdCB8IHVuZGVmaW5lZCB7XG4gICAgLy8gdW5kZWZpbmVkIGlzIHByb2JhYmx5IHRoZSB3cm9uZyB2YWx1ZSEgU2hvdWxkIGJlIGEgcmVhbCBwYWdpbmF0ZWQgcXVlcnkgcmVzdWx0IGZvciBsb2FkaW5nIVxuICAgIC8vIEJ1dGl0J3MgY29uZnVzaW5nIHdoeSB3ZSdkIGV2ZXIgZ2V0IHRoaXMsIEkgZ3Vlc3Mgc29tZSBmbG93cyBjYWxsIGxvY2FsUXVlcnlSZXN1bHQgYmVmb3JlXG4gICAgLy8gc3Vic2NyaWJpbmc/IFRoYXQncyBwcm9hYmJseSBmYWlyIGJ1dCBpcyBpdCBjb25zaXN0ZW50IHdpdGggdGhlIG5vcm1hbCBjbGllbnQ/XG4gICAgLy8gV2hhdCBpcyB0aGUgaW52YXJpYW50IGhlcmUsIHdpbGwgYSB0b2tlbiBhbHdheXMgZXhpc3Q/IE9yIGNhbiBhIGxvb2t1cCBvY2N1ciBhdCBhbnkgdGltZT9cbiAgICBjb25zdCBwYWdpbmF0ZWRRdWVyeSA9IHRoaXMucGFnaW5hdGVkUXVlcnlTZXQuZ2V0KHRva2VuKTtcbiAgICBpZiAoIXBhZ2luYXRlZFF1ZXJ5KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZVBhZ2VzID0gdGhpcy5hY3RpdmVQYWdlUXVlcnlUb2tlbnMocGFnaW5hdGVkUXVlcnkpO1xuICAgIGlmIChhY3RpdmVQYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICBzdGF0dXM6IFwiTG9hZGluZ0ZpcnN0UGFnZVwiLFxuICAgICAgICBsb2FkTW9yZTogKG51bUl0ZW1zOiBudW1iZXIpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkTW9yZU9mUGFnaW5hdGVkUXVlcnkodG9rZW4sIG51bUl0ZW1zKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGFsbFJlc3VsdHM6IFZhbHVlW10gPSBbXTtcblxuICAgIC8vIFNvbWUgcGFnZSBpcyBsb2FkaW5nICh0aGlzIGlzbid0IHN1cHBvc2VkIHRvIGhhcHBlbiB0byBhbnkgcGFnZSBidXQgdGhlIGxhc3QpXG4gICAgbGV0IGhhc1VuZGVmaW5lZCA9IGZhbHNlO1xuICAgIGxldCBpc0RvbmUgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgcGFnZVRva2VuIG9mIGFjdGl2ZVBhZ2VzKSB7XG4gICAgICAvLyBUaGlzIHRocm93cywgZG9uJ3QgY2F0Y2ggaXQsIGl0IHNob3VsZCBidWJibGUgdXAuXG4gICAgICAvLyBJdCBtaWdodCBiZSBhIEludmFsaWRDdXJzb3IgRXJyb3IuIElmIGl0IGlzLCB0aGlzIHF1ZXJ5XG4gICAgICAvLyBzaG91bGQgYmUgcmVzZXQgKGZvciBub3csIHVzZSBhIG5ldyBJRCB0byBlbnN1cmUgbmV3IHN0YXRlKS5cbiAgICAgIC8vXG4gICAgICAvLyBJbiB0aGUgZnV0dXJlIHRoaXMgbWlnaHQgYmUgY2F1Z2h0IGFuZCBkZWFsdCB3aXRoIGhlcmUgYnV0XG4gICAgICAvLyBhbiBJRC1iYXNlZCBzb2x1dGlvbiB3b24ndCB3b3JrIGhlcmUsIElEIGlzIGFuIGludHJpbnNpYyBwcm9wZXJ0eVxuICAgICAgLy8gb2YgdGhpcyBwYWdpbmF0ZWQgcXVlcnkuXG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihwYWdlVG9rZW4pO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaGFzVW5kZWZpbmVkID0gdHJ1ZTtcbiAgICAgICAgaXNEb25lID0gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYWdpbmF0aW9uUmVzdWx0ID0gYXNQYWdpbmF0aW9uUmVzdWx0KHJlc3VsdCk7XG4gICAgICBhbGxSZXN1bHRzID0gYWxsUmVzdWx0cy5jb25jYXQocGFnaW5hdGlvblJlc3VsdC5wYWdlKTtcbiAgICAgIC8vIGxvZ2ljIG9ubHkgcmVsZXZhbnQgdG8gdGhlIGxhc3QgcGFnZSwgd2UganVzdCBoYXBwZW4gdG8gcnVuIGl0IGVhY2ggdGltZVxuICAgICAgaXNEb25lID0gISFwYWdpbmF0aW9uUmVzdWx0LmlzRG9uZTtcbiAgICB9XG5cbiAgICBsZXQgc3RhdHVzOiBQYWdpbmF0aW9uU3RhdHVzO1xuICAgIGlmIChoYXNVbmRlZmluZWQpIHtcbiAgICAgIHN0YXR1cyA9IGFsbFJlc3VsdHMubGVuZ3RoID09PSAwID8gXCJMb2FkaW5nRmlyc3RQYWdlXCIgOiBcIkxvYWRpbmdNb3JlXCI7XG4gICAgfSBlbHNlIGlmIChpc0RvbmUpIHtcbiAgICAgIHN0YXR1cyA9IFwiRXhoYXVzdGVkXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1cyA9IFwiQ2FuTG9hZE1vcmVcIjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0czogYWxsUmVzdWx0cyxcbiAgICAgIHN0YXR1cyxcbiAgICAgIGxvYWRNb3JlOiAobnVtSXRlbXM6IG51bWJlcikgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkTW9yZU9mUGFnaW5hdGVkUXVlcnkodG9rZW4sIG51bUl0ZW1zKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgb25CYXNlVHJhbnNpdGlvbih0cmFuc2l0aW9uOiBUcmFuc2l0aW9uKSB7XG4gICAgY29uc3QgY2hhbmdlZEJhc2VUb2tlbnMgPSB0cmFuc2l0aW9uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKTtcbiAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy5xdWVyaWVzQ29udGFpbmluZ1Rva2VucyhjaGFuZ2VkQmFzZVRva2Vucyk7XG5cbiAgICBsZXQgcGFnaW5hdGVkUXVlcmllczogQXJyYXk8e1xuICAgICAgdG9rZW46IFBhZ2luYXRlZFF1ZXJ5VG9rZW47XG4gICAgICBtb2RpZmljYXRpb246IFBhZ2luYXRlZFF1ZXJ5TW9kaWZpY2F0aW9uO1xuICAgIH0+ID0gW107XG5cbiAgICBpZiAoY2hhbmdlZC5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnByb2Nlc3NQYWdpbmF0ZWRRdWVyeVNwbGl0cyhjaGFuZ2VkLCAodG9rZW4pID0+XG4gICAgICAgIHRoaXMuY2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHRva2VuKSxcbiAgICAgICk7XG5cbiAgICAgIHBhZ2luYXRlZFF1ZXJpZXMgPSBjaGFuZ2VkLm1hcCgodG9rZW4pID0+ICh7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBtb2RpZmljYXRpb246IHtcbiAgICAgICAgICBraW5kOiBcIlVwZGF0ZWRcIiBhcyBjb25zdCxcbiAgICAgICAgICByZXN1bHQ6IHRoaXMubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4odG9rZW4pLFxuICAgICAgICB9LFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGV4dGVuZGVkVHJhbnNpdGlvbjogRXh0ZW5kZWRUcmFuc2l0aW9uID0ge1xuICAgICAgLi4udHJhbnNpdGlvbixcbiAgICAgIHBhZ2luYXRlZFF1ZXJpZXMsXG4gICAgfTtcblxuICAgIHRoaXMub25UcmFuc2l0aW9uKGV4dGVuZGVkVHJhbnNpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBtb3JlIGl0ZW1zIGZvciBhIHBhZ2luYXRlZCBxdWVyeS5cbiAgICpcbiAgICogVGhpcyAqYWx3YXlzKiBjYXVzZXMgYSB0cmFuc2l0aW9uLCB0aGUgc3RhdHVzIG9mIHRoZSBxdWVyeVxuICAgKiBoYXMgcHJvYmFibHkgY2hhbmdlZCBmcm9tIFwiQ2FuTG9hZE1vcmVcIiB0byBcIkxvYWRpbmdNb3JlXCIuXG4gICAqIERhdGEgbWlnaHQgaGF2ZSBjaGFuZ2VkIHRvbzogbWF5YmUgYSBzdWJzY3JpcHRpb24gdG8gdGhpcyBwYWdlXG4gICAqIHF1ZXJ5IGFscmVhZHkgZXhpc3RzICh1bmxpa2VseSBidXQgcG9zc2libGUpIG9yIHRoaXMgcGFnZSBxdWVyeVxuICAgKiBoYXMgYW4gb3B0aW1pc3RpYyB1cGRhdGUgcHJvdmlkaW5nIHNvbWUgaW5pdGlhbCBkYXRhLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgbG9hZE1vcmVPZlBhZ2luYXRlZFF1ZXJ5KFxuICAgIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICAgIG51bUl0ZW1zOiBudW1iZXIsXG4gICk6IGJvb2xlYW4ge1xuICAgIHRoaXMubXVzdEdldFBhZ2luYXRlZFF1ZXJ5KHRva2VuKTtcblxuICAgIGNvbnN0IGxhc3RQYWdlVG9rZW4gPSB0aGlzLnF1ZXJ5VG9rZW5Gb3JMYXN0UGFnZU9mUGFnaW5hdGVkUXVlcnkodG9rZW4pO1xuICAgIGNvbnN0IGxhc3RQYWdlUmVzdWx0ID0gdGhpcy5jbGllbnQubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4obGFzdFBhZ2VUb2tlbik7XG5cbiAgICBpZiAoIWxhc3RQYWdlUmVzdWx0KSB7XG4gICAgICAvLyBTdGlsbCBsb2FkaW5nIGEgcGFnZSBhbmQgY29uY3VycmVudCBsb2FkcyBhcmUgbm90IGFsbG93ZWRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdpbmF0aW9uUmVzdWx0ID0gYXNQYWdpbmF0aW9uUmVzdWx0KGxhc3RQYWdlUmVzdWx0KTtcbiAgICBpZiAocGFnaW5hdGlvblJlc3VsdC5pc0RvbmUpIHtcbiAgICAgIC8vIE5vIG1vcmUgcGFnZXMgYXZhaWxhYmxlXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRQYWdlVG9QYWdpbmF0ZWRRdWVyeShcbiAgICAgIHRva2VuLFxuICAgICAgcGFnaW5hdGlvblJlc3VsdC5jb250aW51ZUN1cnNvcixcbiAgICAgIG51bUl0ZW1zLFxuICAgICk7XG5cbiAgICBjb25zdCBsb2FkTW9yZVRyYW5zaXRpb246IEV4dGVuZGVkVHJhbnNpdGlvbiA9IHtcbiAgICAgIHRpbWVzdGFtcDogdGhpcy5sYXN0VHJhbnNpdGlvblRzLFxuICAgICAgcmVmbGVjdGVkTXV0YXRpb25zOiBbXSxcbiAgICAgIHF1ZXJpZXM6IFtdLFxuICAgICAgcGFnaW5hdGVkUXVlcmllczogW1xuICAgICAgICB7XG4gICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICBraW5kOiBcIlVwZGF0ZWRcIiBhcyBjb25zdCxcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbiksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgICB0aGlzLm9uVHJhbnNpdGlvbihsb2FkTW9yZVRyYW5zaXRpb24pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHF1ZXJpZXNDb250YWluaW5nVG9rZW5zKFxuICAgIHF1ZXJ5VG9rZW5zOiBRdWVyeVRva2VuW10sXG4gICk6IFBhZ2luYXRlZFF1ZXJ5VG9rZW5bXSB7XG4gICAgaWYgKHF1ZXJ5VG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZWQ6IFBhZ2luYXRlZFF1ZXJ5VG9rZW5bXSA9IFtdO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW5TZXQgPSBuZXcgU2V0KHF1ZXJ5VG9rZW5zKTtcblxuICAgIGZvciAoY29uc3QgW3BhZ2luYXRlZFRva2VuLCBwYWdpbmF0ZWRRdWVyeV0gb2YgdGhpcy5wYWdpbmF0ZWRRdWVyeVNldCkge1xuICAgICAgZm9yIChjb25zdCBwYWdlVG9rZW4gb2YgdGhpcy5hbGxRdWVyeVRva2VucyhwYWdpbmF0ZWRRdWVyeSkpIHtcbiAgICAgICAgaWYgKHF1ZXJ5VG9rZW5TZXQuaGFzKHBhZ2VUb2tlbikpIHtcbiAgICAgICAgICBjaGFuZ2VkLnB1c2gocGFnaW5hdGVkVG9rZW4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHByb2Nlc3NQYWdpbmF0ZWRRdWVyeVNwbGl0cyhcbiAgICBjaGFuZ2VkOiBQYWdpbmF0ZWRRdWVyeVRva2VuW10sXG4gICAgZ2V0UmVzdWx0OiAodG9rZW46IFF1ZXJ5VG9rZW4pID0+IFZhbHVlIHwgdW5kZWZpbmVkLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHBhZ2luYXRlZFF1ZXJ5VG9rZW4gb2YgY2hhbmdlZCkge1xuICAgICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeShwYWdpbmF0ZWRRdWVyeVRva2VuKTtcblxuICAgICAgLy8gVGhlc2UgcHJvcGVydGllcyBhcmUgYWxsIG11dGFibGUsIHRoZSBkZXN0cnVjdHVyZSBoZXJlIGlzIG9wdGlvbmFsLlxuICAgICAgY29uc3QgeyBvbmdvaW5nU3BsaXRzLCBwYWdlS2V5VG9RdWVyeSwgcGFnZUtleXMgfSA9IHBhZ2luYXRlZFF1ZXJ5O1xuXG4gICAgICAvLyBDaGVjayBmb3IgYW55IGNvbXBsZXRlZCBzcGxpdHNcbiAgICAgIGZvciAoY29uc3QgW3BhZ2VLZXksIFtzcGxpdEtleTEsIHNwbGl0S2V5Ml1dIG9mIG9uZ29pbmdTcGxpdHMpIHtcbiAgICAgICAgY29uc3QgYm90aE5ld1BhZ2VzTG9hZGVkID1cbiAgICAgICAgICBnZXRSZXN1bHQocGFnZUtleVRvUXVlcnkuZ2V0KHNwbGl0S2V5MSkhLnF1ZXJ5VG9rZW4pICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBnZXRSZXN1bHQocGFnZUtleVRvUXVlcnkuZ2V0KHNwbGl0S2V5MikhLnF1ZXJ5VG9rZW4pICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGJvdGhOZXdQYWdlc0xvYWRlZCkge1xuICAgICAgICAgIHRoaXMuY29tcGxldGVQYWdpbmF0ZWRRdWVyeVNwbGl0KFxuICAgICAgICAgICAgcGFnaW5hdGVkUXVlcnksXG4gICAgICAgICAgICBwYWdlS2V5LFxuICAgICAgICAgICAgc3BsaXRLZXkxLFxuICAgICAgICAgICAgc3BsaXRLZXkyLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZWFjaCBhY3RpdmUgcGFnZSBmb3Igc3BsaXRzIG5lZWRlZFxuICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgIGlmIChvbmdvaW5nU3BsaXRzLmhhcyhwYWdlS2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlOyAvLyBBbHJlYWR5IHNwbGl0dGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZVRva2VuID0gcGFnZUtleVRvUXVlcnkuZ2V0KHBhZ2VLZXkpIS5xdWVyeVRva2VuO1xuICAgICAgICBjb25zdCBwYWdlUmVzdWx0ID0gZ2V0UmVzdWx0KHBhZ2VUb2tlbik7XG4gICAgICAgIGlmICghcGFnZVJlc3VsdCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFzUGFnaW5hdGlvblJlc3VsdChwYWdlUmVzdWx0KTtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHBhZ2UgbmVlZHMgc3BsaXR0aW5nXG4gICAgICAgIGNvbnN0IHNob3VsZFNwbGl0ID1cbiAgICAgICAgICByZXN1bHQuc3BsaXRDdXJzb3IgJiZcbiAgICAgICAgICAocmVzdWx0LnBhZ2VTdGF0dXMgPT09IFwiU3BsaXRSZWNvbW1lbmRlZFwiIHx8XG4gICAgICAgICAgICByZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIgfHxcbiAgICAgICAgICAgIC8vIFRoaXMgY2xpZW50LWRyaXZlbiBwYWdlIHNwbGl0dGluZyBjb25kaXRpb24gd2lsbCBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgIHJlc3VsdC5wYWdlLmxlbmd0aCA+IHBhZ2luYXRlZFF1ZXJ5Lm9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zICogMik7XG5cbiAgICAgICAgaWYgKHNob3VsZFNwbGl0KSB7XG4gICAgICAgICAgdGhpcy5zcGxpdFBhZ2luYXRlZFF1ZXJ5UGFnZShcbiAgICAgICAgICAgIHBhZ2luYXRlZFF1ZXJ5LFxuICAgICAgICAgICAgcGFnZUtleSxcbiAgICAgICAgICAgIHJlc3VsdC5zcGxpdEN1cnNvciEsIC8vIHdlIGp1c3QgY2hlY2tlZFxuICAgICAgICAgICAgcmVzdWx0LmNvbnRpbnVlQ3Vyc29yLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNwbGl0UGFnaW5hdGVkUXVlcnlQYWdlKFxuICAgIHBhZ2luYXRlZFF1ZXJ5OiBMb2NhbFBhZ2luYXRlZFF1ZXJ5LFxuICAgIHBhZ2VLZXk6IFF1ZXJ5UGFnZUtleSxcbiAgICBzcGxpdEN1cnNvcjogc3RyaW5nLFxuICAgIGNvbnRpbnVlQ3Vyc29yOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzcGxpdEtleTEgPSBwYWdpbmF0ZWRRdWVyeS5uZXh0UGFnZUtleSsrO1xuICAgIGNvbnN0IHNwbGl0S2V5MiA9IHBhZ2luYXRlZFF1ZXJ5Lm5leHRQYWdlS2V5Kys7XG5cbiAgICBjb25zdCBwYWdpbmF0aW9uT3B0czogVmFsdWUgPSB7XG4gICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgbnVtSXRlbXM6IHBhZ2luYXRlZFF1ZXJ5Lm9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgICAgaWQ6IHBhZ2luYXRlZFF1ZXJ5LmlkLFxuICAgIH07XG5cbiAgICAvLyBGaXJzdCBzcGxpdCBwYWdlOiBzYW1lIGN1cnNvciBhcyBvcmlnaW5hbCwgYnV0IGFkZCBlbmRDdXJzb3IgYXQgc3BsaXRDdXJzb3JcbiAgICBjb25zdCBmaXJzdFN1YnNjcmlwdGlvbiA9IHRoaXMuY2xpZW50LnN1YnNjcmliZShcbiAgICAgIHBhZ2luYXRlZFF1ZXJ5LmNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAge1xuICAgICAgICAuLi5wYWdpbmF0ZWRRdWVyeS5hcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgIC4uLnBhZ2luYXRpb25PcHRzLFxuICAgICAgICAgIGN1cnNvcjogbnVsbCwgLy8gU3RhcnQgZnJvbSBiZWdpbm5pbmcgZm9yIGZpcnN0IHNwbGl0XG4gICAgICAgICAgZW5kQ3Vyc29yOiBzcGxpdEN1cnNvcixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS5zZXQoc3BsaXRLZXkxLCBmaXJzdFN1YnNjcmlwdGlvbik7XG5cbiAgICAvLyBTZWNvbmQgc3BsaXQgcGFnZTogY3Vyc29yIHN0YXJ0cyBhdCBzcGxpdEN1cnNvciwgZW5kQ3Vyc29yIGlzIHRoZSBvcmlnaW5hbCBjb250aW51ZUN1cnNvclxuICAgIGNvbnN0IHNlY29uZFN1YnNjcmlwdGlvbiA9IHRoaXMuY2xpZW50LnN1YnNjcmliZShcbiAgICAgIHBhZ2luYXRlZFF1ZXJ5LmNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAge1xuICAgICAgICAuLi5wYWdpbmF0ZWRRdWVyeS5hcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgIC4uLnBhZ2luYXRpb25PcHRzLFxuICAgICAgICAgIGN1cnNvcjogc3BsaXRDdXJzb3IsXG4gICAgICAgICAgZW5kQ3Vyc29yOiBjb250aW51ZUN1cnNvcixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS5zZXQoc3BsaXRLZXkyLCBzZWNvbmRTdWJzY3JpcHRpb24pO1xuXG4gICAgcGFnaW5hdGVkUXVlcnkub25nb2luZ1NwbGl0cy5zZXQocGFnZUtleSwgW3NwbGl0S2V5MSwgc3BsaXRLZXkyXSk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIGFkZFBhZ2VUb1BhZ2luYXRlZFF1ZXJ5KFxuICAgIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICAgIGNvbnRpbnVlQ3Vyc29yOiBzdHJpbmcgfCBudWxsLFxuICAgIG51bUl0ZW1zOiBudW1iZXIsXG4gICk6IHsgcXVlcnlUb2tlbjogUXVlcnlUb2tlbjsgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgcGFnZUtleSA9IHBhZ2luYXRlZFF1ZXJ5Lm5leHRQYWdlS2V5Kys7XG5cbiAgICBjb25zdCBwYWdpbmF0aW9uT3B0czogVmFsdWUgPSB7XG4gICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgbnVtSXRlbXMsXG4gICAgICBpZDogcGFnaW5hdGVkUXVlcnkuaWQsXG4gICAgfTtcblxuICAgIGNvbnN0IHBhZ2VBcmdzID0ge1xuICAgICAgLi4ucGFnaW5hdGVkUXVlcnkuYXJncyxcbiAgICAgIHBhZ2luYXRpb25PcHRzLFxuICAgIH07XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoXG4gICAgICBwYWdpbmF0ZWRRdWVyeS5jYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgIHBhZ2VBcmdzLFxuICAgICk7XG5cbiAgICBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5wdXNoKHBhZ2VLZXkpO1xuICAgIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlUb1F1ZXJ5LnNldChwYWdlS2V5LCBzdWJzY3JpcHRpb24pO1xuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZVBhZ2luYXRlZFF1ZXJ5U3Vic2NyaWJlcih0b2tlbjogUGFnaW5hdGVkUXVlcnlUb2tlbik6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2luYXRlZFF1ZXJ5ID0gdGhpcy5wYWdpbmF0ZWRRdWVyeVNldC5nZXQodG9rZW4pO1xuICAgIGlmICghcGFnaW5hdGVkUXVlcnkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwYWdpbmF0ZWRRdWVyeS5udW1TdWJzY3JpYmVycyAtPSAxO1xuICAgIGlmIChwYWdpbmF0ZWRRdWVyeS5udW1TdWJzY3JpYmVycyA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIHBhZ2Ugc3Vic2NyaXB0aW9ucyBieSBjYWxsaW5nIHRoZWlyIHVuc3Vic2NyaWJlIGNhbGxiYWNrc1xuICAgIGZvciAoY29uc3Qgc3Vic2NyaXB0aW9uIG9mIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlUb1F1ZXJ5LnZhbHVlcygpKSB7XG4gICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0LmRlbGV0ZSh0b2tlbik7XG4gIH1cblxuICBwcml2YXRlIGNvbXBsZXRlUGFnaW5hdGVkUXVlcnlTcGxpdChcbiAgICBwYWdpbmF0ZWRRdWVyeTogTG9jYWxQYWdpbmF0ZWRRdWVyeSxcbiAgICBwYWdlS2V5OiBRdWVyeVBhZ2VLZXksXG4gICAgc3BsaXRLZXkxOiBRdWVyeVBhZ2VLZXksXG4gICAgc3BsaXRLZXkyOiBRdWVyeVBhZ2VLZXksXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG9yaWdpbmFsUXVlcnkgPSBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS5nZXQocGFnZUtleSkhO1xuICAgIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlUb1F1ZXJ5LmRlbGV0ZShwYWdlS2V5KTtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5pbmRleE9mKHBhZ2VLZXkpO1xuICAgIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlzLnNwbGljZShwYWdlSW5kZXgsIDEsIHNwbGl0S2V5MSwgc3BsaXRLZXkyKTtcbiAgICBwYWdpbmF0ZWRRdWVyeS5vbmdvaW5nU3BsaXRzLmRlbGV0ZShwYWdlS2V5KTtcbiAgICBvcmlnaW5hbFF1ZXJ5LnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICAvKiogVGhlIHF1ZXJ5IHRva2VucyBmb3IgYWxsIGFjdGl2ZSBwYWdlcywgaW4gcmVzdWx0IG9yZGVyICovXG4gIHByaXZhdGUgYWN0aXZlUGFnZVF1ZXJ5VG9rZW5zKFxuICAgIHBhZ2luYXRlZFF1ZXJ5OiBMb2NhbFBhZ2luYXRlZFF1ZXJ5LFxuICApOiBRdWVyeVRva2VuW10ge1xuICAgIHJldHVybiBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5tYXAoXG4gICAgICAocGFnZUtleSkgPT4gcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkuZ2V0KHBhZ2VLZXkpIS5xdWVyeVRva2VuLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGFsbFF1ZXJ5VG9rZW5zKHBhZ2luYXRlZFF1ZXJ5OiBMb2NhbFBhZ2luYXRlZFF1ZXJ5KTogUXVlcnlUb2tlbltdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS52YWx1ZXMoKSkubWFwKFxuICAgICAgKHN1YikgPT4gc3ViLnF1ZXJ5VG9rZW4sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcXVlcnlUb2tlbkZvckxhc3RQYWdlT2ZQYWdpbmF0ZWRRdWVyeShcbiAgICB0b2tlbjogUGFnaW5hdGVkUXVlcnlUb2tlbixcbiAgKTogUXVlcnlUb2tlbiB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgbGFzdFBhZ2VLZXkgPVxuICAgICAgcGFnaW5hdGVkUXVlcnkucGFnZUtleXNbcGFnaW5hdGVkUXVlcnkucGFnZUtleXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RQYWdlS2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcGFnZXMgZm9yIHBhZ2luYXRlZCBxdWVyeSAke3Rva2VufWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkuZ2V0KGxhc3RQYWdlS2V5KSEucXVlcnlUb2tlbjtcbiAgfVxuXG4gIHByaXZhdGUgbXVzdEdldFBhZ2luYXRlZFF1ZXJ5KFxuICAgIHRva2VuOiBQYWdpbmF0ZWRRdWVyeVRva2VuLFxuICApOiBMb2NhbFBhZ2luYXRlZFF1ZXJ5IHtcbiAgICBjb25zdCBwYWdpbmF0ZWRRdWVyeSA9IHRoaXMucGFnaW5hdGVkUXVlcnlTZXQuZ2V0KHRva2VuKTtcbiAgICBpZiAoIXBhZ2luYXRlZFF1ZXJ5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYWdpbmF0ZWQgcXVlcnkgbm8gbG9uZ2VyIGV4aXN0cyBmb3IgdG9rZW4gXCIgKyB0b2tlbik7XG4gICAgfVxuICAgIHJldHVybiBwYWdpbmF0ZWRRdWVyeTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/pagination.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/pagination.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asPaginationArgs: () => (/* binding */ asPaginationArgs),\n/* harmony export */   asPaginationResult: () => (/* binding */ asPaginationResult)\n/* harmony export */ });\n\nfunction asPaginationArgs(value) {\n    if (typeof value.paginationOpts.numItems !== \"number\") {\n        throw new Error(\"Not valid paginated query args: \".concat(JSON.stringify(value)));\n    }\n    return value;\n}\nfunction asPaginationResult(value) {\n    if (typeof value !== \"object\" || value === null || !Array.isArray(value.page) || typeof value.isDone !== \"boolean\" || typeof value.continueCursor !== \"string\") {\n        throw new Error(\"Not a valid paginated query result: \".concat(value === null || value === void 0 ? void 0 : value.toString()));\n    }\n    return value;\n} //# sourceMappingURL=pagination.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3BhZ2luYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBd0JPLFNBQVMsaUJBQWlCLE9BRS9CO0lBQ0EsSUFBSSxPQUFRLE1BQWMsZUFBZSxhQUFhLFVBQVU7UUFDOUQsTUFBTSxJQUFJLE1BQU0sbUNBQXdELENBQUUsTUFBdkIsS0FBSyxVQUFVLEtBQUssQ0FBQztJQUMxRTtJQUNBLE9BQU87QUFHVDtBQUtPLFNBQVMsbUJBQW1CLE9BQXVDO0lBQ3hFLElBQ0UsT0FBTyxVQUFVLFlBQ2pCLFVBQVUsUUFDVixDQUFDLE1BQU0sUUFBUyxNQUFjLElBQUksS0FDbEMsT0FBUSxNQUFjLFdBQVcsYUFDakMsT0FBUSxNQUFjLG1CQUFtQixVQUN6QztRQUNBLE1BQU0sSUFBSSxNQUFNLHVDQUF3RCxDQUFFLG9EQUFuQixNQUFPLFNBQVMsQ0FBQztJQUMxRTtJQUNBLE9BQU87QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9icm93c2VyL3N5bmMvcGFnaW5hdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBhZ2luYXRpb25SZXN1bHQgfSBmcm9tIFwiLi4vLi4vc2VydmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgdHlwZSB7IEluZmVyLCBWYWx1ZSB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB0eXBlIHsgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3IgfSBmcm9tIFwiLi4vLi4vc2VydmVyL2luZGV4LmpzXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2luYXRpb25TdGF0dXMgPVxuICB8IFwiTG9hZGluZ0ZpcnN0UGFnZVwiXG4gIHwgXCJDYW5Mb2FkTW9yZVwiXG4gIHwgXCJMb2FkaW5nTW9yZVwiXG4gIHwgXCJFeGhhdXN0ZWRcIjtcblxuZXhwb3J0IHR5cGUgUGFnaW5hdGVkUXVlcnlSZXN1bHQ8VD4gPSB7XG4gIHJlc3VsdHM6IFRbXTtcbiAgc3RhdHVzOiBQYWdpbmF0aW9uU3RhdHVzO1xuICBsb2FkTW9yZTogTG9hZE1vcmVPZlBhZ2luYXRlZFF1ZXJ5O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgbG9hZGluZyBtb3JlIHdhcyBhY3R1YWxseSBpbml0aWF0ZWQ7IGluIGNhc2VzIHdoZXJlXG4gKiBhIHBhZ2luYXRlZCBxdWVyeSBpcyBhbHJlYWR5IGxvYWRpbmcgbW9yZSBpdGVtcyBvciB0aGVyZSBhcmUgbm8gbW9yZVxuICogaXRlbXMgYXZhaWxhYmxlLCBjYWxsaW5nIGxvYWRNb3JlKCkgbWF5IGRvIG5vdGhpbmcuXG4gKi9cbmV4cG9ydCB0eXBlIExvYWRNb3JlT2ZQYWdpbmF0ZWRRdWVyeSA9IChudW1JdGVtczogbnVtYmVyKSA9PiBib29sZWFuO1xuXG4vLyBUaGUgYXJndW1lbnRzIGZvciBlYWNoIHBhZ2UgcXVlcnkuXG5leHBvcnQgZnVuY3Rpb24gYXNQYWdpbmF0aW9uQXJncyh2YWx1ZTogVmFsdWUpOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4gJiB7XG4gIHBhZ2luYXRpb25PcHRzOiBJbmZlcjx0eXBlb2YgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3I+O1xufSB7XG4gIGlmICh0eXBlb2YgKHZhbHVlIGFzIGFueSkucGFnaW5hdGlvbk9wdHMubnVtSXRlbXMgIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCB2YWxpZCBwYWdpbmF0ZWQgcXVlcnkgYXJnczogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgVmFsdWU+ICYge1xuICAgIHBhZ2luYXRpb25PcHRzOiBJbmZlcjx0eXBlb2YgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3I+O1xuICB9O1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGEgVmFsdWUgaXMgYSB2YWxpZCBwYWdpbmF0aW9uIHJlc3VsdCBhbmQgcmV0dXJucyBpdCBjYXN0IHRvIFBhZ2luYXRpb25SZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc1BhZ2luYXRpb25SZXN1bHQodmFsdWU6IFZhbHVlKTogUGFnaW5hdGlvblJlc3VsdDxWYWx1ZT4ge1xuICBpZiAoXG4gICAgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8XG4gICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICAhQXJyYXkuaXNBcnJheSgodmFsdWUgYXMgYW55KS5wYWdlKSB8fFxuICAgIHR5cGVvZiAodmFsdWUgYXMgYW55KS5pc0RvbmUgIT09IFwiYm9vbGVhblwiIHx8XG4gICAgdHlwZW9mICh2YWx1ZSBhcyBhbnkpLmNvbnRpbnVlQ3Vyc29yICE9PSBcInN0cmluZ1wiXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgdmFsaWQgcGFnaW5hdGVkIHF1ZXJ5IHJlc3VsdDogJHt2YWx1ZT8udG9TdHJpbmcoKX1gKTtcbiAgfVxuICByZXR1cm4gdmFsdWUgYXMgdW5rbm93biBhcyBQYWdpbmF0aW9uUmVzdWx0PFZhbHVlPjtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/pagination.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/protocol.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/protocol.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeClientMessage: () => (/* binding */ encodeClientMessage),\n/* harmony export */   longToU64: () => (/* binding */ longToU64),\n/* harmony export */   parseServerMessage: () => (/* binding */ parseServerMessage),\n/* harmony export */   u64ToLong: () => (/* binding */ u64ToLong)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vendor/long.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/vendor/long.js\");\n\n\n\nfunction u64ToLong(encoded) {\n    const integerBytes = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.toByteArray(encoded);\n    return _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromBytesLE(Array.from(integerBytes));\n}\nfunction longToU64(raw) {\n    const integerBytes = new Uint8Array(raw.toBytesLE());\n    return _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.fromByteArray(integerBytes);\n}\nfunction parseServerMessage(encoded) {\n    switch(encoded.type){\n        case \"FatalError\":\n        case \"AuthError\":\n        case \"ActionResponse\":\n        case \"TransitionChunk\":\n        case \"Ping\":\n            {\n                return {\n                    ...encoded\n                };\n            }\n        case \"MutationResponse\":\n            {\n                if (encoded.success) {\n                    return {\n                        ...encoded,\n                        ts: u64ToLong(encoded.ts)\n                    };\n                } else {\n                    return {\n                        ...encoded\n                    };\n                }\n            }\n        case \"Transition\":\n            {\n                return {\n                    ...encoded,\n                    startVersion: {\n                        ...encoded.startVersion,\n                        ts: u64ToLong(encoded.startVersion.ts)\n                    },\n                    endVersion: {\n                        ...encoded.endVersion,\n                        ts: u64ToLong(encoded.endVersion.ts)\n                    }\n                };\n            }\n        default:\n            {\n                encoded;\n            }\n    }\n    return void 0;\n}\nfunction encodeClientMessage(message) {\n    switch(message.type){\n        case \"Authenticate\":\n        case \"ModifyQuerySet\":\n        case \"Mutation\":\n        case \"Action\":\n        case \"Event\":\n            {\n                return {\n                    ...message\n                };\n            }\n        case \"Connect\":\n            {\n                if (message.maxObservedTimestamp !== void 0) {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: longToU64(message.maxObservedTimestamp)\n                    };\n                } else {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: void 0\n                    };\n                }\n            }\n        default:\n            {\n                message;\n            }\n    }\n    return void 0;\n} //# sourceMappingURL=protocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3Byb3RvY29sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFa0M7QUFDYjtBQU1kLFNBQVMsVUFBVSxTQUEwQjtJQUNsRCxNQUFNLGVBQWUsZ0VBQU8sQ0FBWSxPQUFPO0lBQy9DLE9BQU8saURBQUksQ0FBQyxZQUFZLE1BQU0sS0FBSyxZQUFZLENBQUM7QUFDbEQ7QUFFTyxTQUFTLFVBQVUsS0FBc0I7SUFDOUMsTUFBTSxlQUFlLElBQUksV0FBVyxJQUFJLFVBQVUsQ0FBQztJQUNuRCxPQUFPLGtFQUFPLENBQWMsWUFBWTtBQUMxQztBQUVPLFNBQVMsbUJBQ2QsU0FDbUI7SUFDbkIsT0FBUSxRQUFRLE1BQU07UUFDcEIsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFBUTtnQkFDWCxPQUFPO29CQUFFLEdBQUc7Z0JBQVE7WUFDdEI7UUFDQSxLQUFLO1lBQW9CO2dCQUN2QixJQUFJLFFBQVEsU0FBUztvQkFDbkIsT0FBTzt3QkFBRSxHQUFHO3dCQUFTLElBQUksVUFBVSxRQUFRLEVBQUU7b0JBQUU7Z0JBQ2pELE9BQU87b0JBQ0wsT0FBTzt3QkFBRSxHQUFHO29CQUFRO2dCQUN0QjtZQUNGO1FBQ0EsS0FBSztZQUFjO2dCQUNqQixPQUFPO29CQUNMLEdBQUc7b0JBQ0gsY0FBYzt3QkFDWixHQUFHLFFBQVE7d0JBQ1gsSUFBSSxVQUFVLFFBQVEsYUFBYSxFQUFFO29CQUN2QztvQkFDQSxZQUFZO3dCQUNWLEdBQUcsUUFBUTt3QkFDWCxJQUFJLFVBQVUsUUFBUSxXQUFXLEVBQUU7b0JBQ3JDO2dCQUNGO1lBQ0Y7UUFDQTtZQUFTO2dCQUNQO1lBQ0Y7SUFDRjtJQUNBLE9BQU87QUFDVDtBQUVPLFNBQVMsb0JBQ2QsU0FDc0I7SUFDdEIsT0FBUSxRQUFRLE1BQU07UUFDcEIsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7WUFBUztnQkFDWixPQUFPO29CQUFFLEdBQUc7Z0JBQVE7WUFDdEI7UUFDQSxLQUFLO1lBQVc7Z0JBQ2QsSUFBSSxRQUFRLHlCQUF5QixRQUFXO29CQUM5QyxPQUFPO3dCQUNMLEdBQUc7d0JBQ0gsc0JBQXNCLFVBQVUsUUFBUSxvQkFBb0I7b0JBQzlEO2dCQUNGLE9BQU87b0JBQ0wsT0FBTzt3QkFBRSxHQUFHO3dCQUFTLHNCQUFzQjtvQkFBVTtnQkFDdkQ7WUFDRjtRQUNBO1lBQVM7Z0JBQ1A7WUFDRjtJQUNGO0lBQ0EsT0FBTztBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy9wcm90b2NvbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMgfSBmcm9tIFwiLi4vLi4vc2VydmVyL2F1dGhlbnRpY2F0aW9uLmpzXCI7XG5leHBvcnQgdHlwZSB7IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMgfSBmcm9tIFwiLi4vLi4vc2VydmVyL2F1dGhlbnRpY2F0aW9uLmpzXCI7XG5pbXBvcnQgeyBKU09OVmFsdWUsIEJhc2U2NCB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IExvbmcgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2xvbmcuanNcIjtcblxuLyoqXG4gKiBTaGFyZWQgc2NoZW1hXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHU2NFRvTG9uZyhlbmNvZGVkOiBFbmNvZGVkVTY0KTogVTY0IHtcbiAgY29uc3QgaW50ZWdlckJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KGVuY29kZWQpO1xuICByZXR1cm4gTG9uZy5mcm9tQnl0ZXNMRShBcnJheS5mcm9tKGludGVnZXJCeXRlcykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9uZ1RvVTY0KHJhdzogVTY0KTogRW5jb2RlZFU2NCB7XG4gIGNvbnN0IGludGVnZXJCeXRlcyA9IG5ldyBVaW50OEFycmF5KHJhdy50b0J5dGVzTEUoKSk7XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShpbnRlZ2VyQnl0ZXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZXJ2ZXJNZXNzYWdlKFxuICBlbmNvZGVkOiBFbmNvZGVkU2VydmVyTWVzc2FnZSxcbik6IFdpcmVTZXJ2ZXJNZXNzYWdlIHtcbiAgc3dpdGNoIChlbmNvZGVkLnR5cGUpIHtcbiAgICBjYXNlIFwiRmF0YWxFcnJvclwiOlxuICAgIGNhc2UgXCJBdXRoRXJyb3JcIjpcbiAgICBjYXNlIFwiQWN0aW9uUmVzcG9uc2VcIjpcbiAgICBjYXNlIFwiVHJhbnNpdGlvbkNodW5rXCI6XG4gICAgY2FzZSBcIlBpbmdcIjoge1xuICAgICAgcmV0dXJuIHsgLi4uZW5jb2RlZCB9O1xuICAgIH1cbiAgICBjYXNlIFwiTXV0YXRpb25SZXNwb25zZVwiOiB7XG4gICAgICBpZiAoZW5jb2RlZC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IC4uLmVuY29kZWQsIHRzOiB1NjRUb0xvbmcoZW5jb2RlZC50cykgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLmVuY29kZWQgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBcIlRyYW5zaXRpb25cIjoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZW5jb2RlZCxcbiAgICAgICAgc3RhcnRWZXJzaW9uOiB7XG4gICAgICAgICAgLi4uZW5jb2RlZC5zdGFydFZlcnNpb24sXG4gICAgICAgICAgdHM6IHU2NFRvTG9uZyhlbmNvZGVkLnN0YXJ0VmVyc2lvbi50cyksXG4gICAgICAgIH0sXG4gICAgICAgIGVuZFZlcnNpb246IHtcbiAgICAgICAgICAuLi5lbmNvZGVkLmVuZFZlcnNpb24sXG4gICAgICAgICAgdHM6IHU2NFRvTG9uZyhlbmNvZGVkLmVuZFZlcnNpb24udHMpLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgZW5jb2RlZCBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQgYXMgbmV2ZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVDbGllbnRNZXNzYWdlKFxuICBtZXNzYWdlOiBDbGllbnRNZXNzYWdlLFxuKTogRW5jb2RlZENsaWVudE1lc3NhZ2Uge1xuICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgIGNhc2UgXCJBdXRoZW50aWNhdGVcIjpcbiAgICBjYXNlIFwiTW9kaWZ5UXVlcnlTZXRcIjpcbiAgICBjYXNlIFwiTXV0YXRpb25cIjpcbiAgICBjYXNlIFwiQWN0aW9uXCI6XG4gICAgY2FzZSBcIkV2ZW50XCI6IHtcbiAgICAgIHJldHVybiB7IC4uLm1lc3NhZ2UgfTtcbiAgICB9XG4gICAgY2FzZSBcIkNvbm5lY3RcIjoge1xuICAgICAgaWYgKG1lc3NhZ2UubWF4T2JzZXJ2ZWRUaW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgbWF4T2JzZXJ2ZWRUaW1lc3RhbXA6IGxvbmdUb1U2NChtZXNzYWdlLm1heE9ic2VydmVkVGltZXN0YW1wKSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IC4uLm1lc3NhZ2UsIG1heE9ic2VydmVkVGltZXN0YW1wOiB1bmRlZmluZWQgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgbWVzc2FnZSBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQgYXMgbmV2ZXI7XG59XG5cbnR5cGUgVTY0ID0gTG9uZztcbnR5cGUgRW5jb2RlZFU2NCA9IHN0cmluZztcblxuLyoqXG4gKiBVbmlxdWUgbm9ubmVnYXRpdmUgaW50ZWdlciBpZGVudGlmeWluZyBhIHNpbmdsZSBxdWVyeS5cbiAqL1xuZXhwb3J0IHR5cGUgUXVlcnlJZCA9IG51bWJlcjsgLy8gbm9ubmVnYXRpdmUgaW50XG5cbmV4cG9ydCB0eXBlIFF1ZXJ5U2V0VmVyc2lvbiA9IG51bWJlcjsgLy8gbm9ubmVnYXRpdmUgaW50XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RJZCA9IG51bWJlcjsgLy8gbm9ubmVnYXRpdmUgaW50XG5cbmV4cG9ydCB0eXBlIElkZW50aXR5VmVyc2lvbiA9IG51bWJlcjsgLy8gbm9ubmVnYXRpdmUgaW50XG5cbi8qKlxuICogQSBzZXJpYWxpemVkIHJlcHJlc2VudGF0aW9uIG9mIGRlY2lzaW9ucyBtYWRlIGR1cmluZyBhIHF1ZXJ5J3MgZXhlY3V0aW9uLlxuICpcbiAqIEEgam91cm5hbCBpcyBwcm9kdWNlZCB3aGVuIGEgcXVlcnkgZnVuY3Rpb24gZmlyc3QgZXhlY3V0ZXMgYW5kIGlzIHJlLXVzZWRcbiAqIHdoZW4gYSBxdWVyeSBpcyByZS1leGVjdXRlZC5cbiAqXG4gKiBDdXJyZW50bHkgdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHBhZ2luYXRpb24gZW5kIGN1cnNvcnMgdG8gZW5zdXJlXG4gKiB0aGF0IHBhZ2VzIG9mIHBhZ2luYXRlZCBxdWVyaWVzIHdpbGwgYWx3YXlzIGVuZCBhdCB0aGUgc2FtZSBjdXJzb3IuIFRoaXNcbiAqIGVuYWJsZXMgZ2FwbGVzcywgcmVhY3RpdmUgcGFnaW5hdGlvbi5cbiAqXG4gKiBgbnVsbGAgaXMgdXNlZCB0byByZXByZXNlbnQgZW1wdHkgam91cm5hbHMuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFF1ZXJ5Sm91cm5hbCA9IHN0cmluZyB8IG51bGw7XG5cbi8qKlxuICogQ2xpZW50IG1lc3NhZ2Ugc2NoZW1hXG4gKi9cblxudHlwZSBDb25uZWN0ID0ge1xuICB0eXBlOiBcIkNvbm5lY3RcIjtcbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyO1xuICBsYXN0Q2xvc2VSZWFzb246IHN0cmluZyB8IG51bGw7XG4gIG1heE9ic2VydmVkVGltZXN0YW1wPzogVFMgfCB1bmRlZmluZWQ7XG4gIGNsaWVudFRzOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBBZGRRdWVyeSA9IHtcbiAgdHlwZTogXCJBZGRcIjtcbiAgcXVlcnlJZDogUXVlcnlJZDtcbiAgdWRmUGF0aDogc3RyaW5nO1xuICBhcmdzOiBKU09OVmFsdWVbXTtcbiAgam91cm5hbD86IFF1ZXJ5Sm91cm5hbCB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29tcG9uZW50UGF0aD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJlbW92ZVF1ZXJ5ID0ge1xuICB0eXBlOiBcIlJlbW92ZVwiO1xuICBxdWVyeUlkOiBRdWVyeUlkO1xufTtcblxuZXhwb3J0IHR5cGUgUXVlcnlTZXRNb2RpZmljYXRpb24gPSB7XG4gIHR5cGU6IFwiTW9kaWZ5UXVlcnlTZXRcIjtcbiAgYmFzZVZlcnNpb246IFF1ZXJ5U2V0VmVyc2lvbjtcbiAgbmV3VmVyc2lvbjogUXVlcnlTZXRWZXJzaW9uO1xuICBtb2RpZmljYXRpb25zOiAoQWRkUXVlcnkgfCBSZW1vdmVRdWVyeSlbXTtcbn07XG5cbmV4cG9ydCB0eXBlIE11dGF0aW9uUmVxdWVzdCA9IHtcbiAgdHlwZTogXCJNdXRhdGlvblwiO1xuICByZXF1ZXN0SWQ6IFJlcXVlc3RJZDtcbiAgdWRmUGF0aDogc3RyaW5nO1xuICBhcmdzOiBKU09OVmFsdWVbXTtcbiAgLy8gRXhlY3V0ZSB0aGUgbXV0YXRpb24gb24gYSBzcGVjaWZpYyBjb21wb25lbnQuXG4gIC8vIE9ubHkgYWRtaW4gYXV0aCBpcyBhbGxvd2VkIHRvIHJ1biBtdXRhdGlvbnMgb24gbm9uLXJvb3QgY29tcG9uZW50cy5cbiAgY29tcG9uZW50UGF0aD86IHN0cmluZyB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIEFjdGlvblJlcXVlc3QgPSB7XG4gIHR5cGU6IFwiQWN0aW9uXCI7XG4gIHJlcXVlc3RJZDogUmVxdWVzdElkO1xuICB1ZGZQYXRoOiBzdHJpbmc7XG4gIGFyZ3M6IEpTT05WYWx1ZVtdO1xuICAvLyBFeGVjdXRlIHRoZSBhY3Rpb24gb24gYSBzcGVjaWZpYyBjb21wb25lbnQuXG4gIC8vIE9ubHkgYWRtaW4gYXV0aCBpcyBhbGxvd2VkIHRvIHJ1biBhY3Rpb25zIG9uIG5vbi1yb290IGNvbXBvbmVudHMuXG4gIGNvbXBvbmVudFBhdGg/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBZG1pbkF1dGhlbnRpY2F0aW9uID0ge1xuICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiO1xuICB0b2tlblR5cGU6IFwiQWRtaW5cIjtcbiAgdmFsdWU6IHN0cmluZztcbiAgYmFzZVZlcnNpb246IElkZW50aXR5VmVyc2lvbjtcbiAgaW1wZXJzb25hdGluZz86IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMgfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBBdXRoZW50aWNhdGUgPVxuICB8IEFkbWluQXV0aGVudGljYXRpb25cbiAgfCB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiO1xuICAgICAgdG9rZW5UeXBlOiBcIlVzZXJcIjtcbiAgICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgICBiYXNlVmVyc2lvbjogSWRlbnRpdHlWZXJzaW9uO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiO1xuICAgICAgdG9rZW5UeXBlOiBcIk5vbmVcIjtcbiAgICAgIGJhc2VWZXJzaW9uOiBJZGVudGl0eVZlcnNpb247XG4gICAgfTtcblxuZXhwb3J0IHR5cGUgRXZlbnQgPSB7XG4gIHR5cGU6IFwiRXZlbnRcIjtcbiAgZXZlbnRUeXBlOiBzdHJpbmc7XG4gIGV2ZW50OiBhbnk7XG59O1xuZXhwb3J0IHR5cGUgQ2xpZW50TWVzc2FnZSA9XG4gIHwgQ29ubmVjdFxuICB8IEF1dGhlbnRpY2F0ZVxuICB8IFF1ZXJ5U2V0TW9kaWZpY2F0aW9uXG4gIHwgTXV0YXRpb25SZXF1ZXN0XG4gIHwgQWN0aW9uUmVxdWVzdFxuICB8IEV2ZW50O1xuXG50eXBlIEVuY29kZWRDb25uZWN0ID0gT21pdDxDb25uZWN0LCBcIm1heE9ic2VydmVkVGltZXN0YW1wXCI+ICYge1xuICBtYXhPYnNlcnZlZFRpbWVzdGFtcD86IEVuY29kZWRUUyB8IHVuZGVmaW5lZDtcbn07XG5cbi8vIEl0J3Mgbm90IGEgYmlnIGRlYWwgdG8gYWRkIGB8IHVuZGVmaW5lZGAgdG8gYW55IG9wdGlvbmFsIHByb3BlcnRpZXMgaGVyZSBiZWNhdXNlXG4vLyB0aGVzZSBtZXNzYWdlcyBhcmUgYm91bmQgZm9yIEpTT04uc3RyaW5naWZ5KCkgc2VyaWFsaXphdGlvbiwgd2hpY2ggcmVtb3ZlcyBwcm9wZXJ0aWVzXG4vLyB0aGF0IGFyZSB1bmRlZmluZWQuXG50eXBlIEVuY29kZWRDbGllbnRNZXNzYWdlID1cbiAgfCBFbmNvZGVkQ29ubmVjdFxuICB8IEF1dGhlbnRpY2F0ZVxuICB8IFF1ZXJ5U2V0TW9kaWZpY2F0aW9uXG4gIHwgTXV0YXRpb25SZXF1ZXN0XG4gIHwgQWN0aW9uUmVxdWVzdFxuICB8IEV2ZW50O1xuXG4vKipcbiAqIFNlcnZlciBtZXNzYWdlIHNjaGVtYVxuICovXG5leHBvcnQgdHlwZSBUUyA9IFU2NDtcbnR5cGUgRW5jb2RlZFRTID0gRW5jb2RlZFU2NDtcbnR5cGUgTG9nTGluZXMgPSBzdHJpbmdbXTtcblxuZXhwb3J0IHR5cGUgU3RhdGVWZXJzaW9uID0ge1xuICBxdWVyeVNldDogUXVlcnlTZXRWZXJzaW9uO1xuICB0czogVFM7XG4gIGlkZW50aXR5OiBJZGVudGl0eVZlcnNpb247XG59O1xudHlwZSBFbmNvZGVkU3RhdGVWZXJzaW9uID0gT21pdDxTdGF0ZVZlcnNpb24sIFwidHNcIj4gJiB7IHRzOiBFbmNvZGVkVFMgfTtcblxudHlwZSBTdGF0ZU1vZGlmaWNhdGlvbiA9XG4gIHwge1xuICAgICAgdHlwZTogXCJRdWVyeVVwZGF0ZWRcIjtcbiAgICAgIHF1ZXJ5SWQ6IFF1ZXJ5SWQ7XG4gICAgICB2YWx1ZTogSlNPTlZhbHVlO1xuICAgICAgbG9nTGluZXM6IExvZ0xpbmVzO1xuICAgICAgam91cm5hbDogUXVlcnlKb3VybmFsO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBcIlF1ZXJ5RmFpbGVkXCI7XG4gICAgICBxdWVyeUlkOiBRdWVyeUlkO1xuICAgICAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG4gICAgICBsb2dMaW5lczogTG9nTGluZXM7XG4gICAgICBlcnJvckRhdGE6IEpTT05WYWx1ZTtcbiAgICAgIGpvdXJuYWw6IFF1ZXJ5Sm91cm5hbDtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogXCJRdWVyeVJlbW92ZWRcIjtcbiAgICAgIHF1ZXJ5SWQ6IFF1ZXJ5SWQ7XG4gICAgfTtcblxuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbiA9IHtcbiAgdHlwZTogXCJUcmFuc2l0aW9uXCI7XG4gIHN0YXJ0VmVyc2lvbjogU3RhdGVWZXJzaW9uO1xuICBlbmRWZXJzaW9uOiBTdGF0ZVZlcnNpb247XG4gIG1vZGlmaWNhdGlvbnM6IFN0YXRlTW9kaWZpY2F0aW9uW107XG4gIGNsaWVudENsb2NrU2tldz86IG51bWJlcjtcbiAgc2VydmVyVHM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBUcmFuc2l0aW9uQ2h1bmsgPSB7XG4gIHR5cGU6IFwiVHJhbnNpdGlvbkNodW5rXCI7XG4gIGNodW5rOiBzdHJpbmc7XG4gIHBhcnROdW1iZXI6IG51bWJlcjtcbiAgdG90YWxQYXJ0czogbnVtYmVyO1xuICB0cmFuc2l0aW9uSWQ6IHN0cmluZztcbn07XG5cbnR5cGUgTXV0YXRpb25TdWNjZXNzID0ge1xuICB0eXBlOiBcIk11dGF0aW9uUmVzcG9uc2VcIjtcbiAgcmVxdWVzdElkOiBSZXF1ZXN0SWQ7XG4gIHN1Y2Nlc3M6IHRydWU7XG4gIHJlc3VsdDogSlNPTlZhbHVlO1xuICB0czogVFM7XG4gIGxvZ0xpbmVzOiBMb2dMaW5lcztcbn07XG50eXBlIE11dGF0aW9uRmFpbGVkID0ge1xuICB0eXBlOiBcIk11dGF0aW9uUmVzcG9uc2VcIjtcbiAgcmVxdWVzdElkOiBSZXF1ZXN0SWQ7XG4gIHN1Y2Nlc3M6IGZhbHNlO1xuICByZXN1bHQ6IHN0cmluZztcbiAgbG9nTGluZXM6IExvZ0xpbmVzO1xuICBlcnJvckRhdGE/OiBKU09OVmFsdWU7XG59O1xuZXhwb3J0IHR5cGUgTXV0YXRpb25SZXNwb25zZSA9IE11dGF0aW9uU3VjY2VzcyB8IE11dGF0aW9uRmFpbGVkO1xudHlwZSBBY3Rpb25TdWNjZXNzID0ge1xuICB0eXBlOiBcIkFjdGlvblJlc3BvbnNlXCI7XG4gIHJlcXVlc3RJZDogUmVxdWVzdElkO1xuICBzdWNjZXNzOiB0cnVlO1xuICByZXN1bHQ6IEpTT05WYWx1ZTtcbiAgbG9nTGluZXM6IExvZ0xpbmVzO1xufTtcbnR5cGUgQWN0aW9uRmFpbGVkID0ge1xuICB0eXBlOiBcIkFjdGlvblJlc3BvbnNlXCI7XG4gIHJlcXVlc3RJZDogUmVxdWVzdElkO1xuICBzdWNjZXNzOiBmYWxzZTtcbiAgcmVzdWx0OiBzdHJpbmc7XG4gIGxvZ0xpbmVzOiBMb2dMaW5lcztcbiAgZXJyb3JEYXRhPzogSlNPTlZhbHVlO1xufTtcbmV4cG9ydCB0eXBlIEFjdGlvblJlc3BvbnNlID0gQWN0aW9uU3VjY2VzcyB8IEFjdGlvbkZhaWxlZDtcbmV4cG9ydCB0eXBlIEF1dGhFcnJvciA9IHtcbiAgdHlwZTogXCJBdXRoRXJyb3JcIjtcbiAgZXJyb3I6IHN0cmluZztcbiAgYmFzZVZlcnNpb246IElkZW50aXR5VmVyc2lvbjtcbiAgLy8gVHJ1ZSBpZiB0aGlzIGVycm9yIGlzIGluIHJlc3BvbnNlIHRvIHByb2Nlc3NpbmcgYSBuZXcgYEF1dGhlbnRpY2F0ZWAgbWVzc2FnZS5cbiAgLy8gT3RoZXIgQXV0aEVycm9ycyBtYXkgb2NjdXIgZHVlIHRvIGV4ZWN1dGluZyBhIGZ1bmN0aW9uIHdpdGggZXhwaXJlZCBhdXRoIGFuZFxuICAvLyBzaG91bGQgYmUgaGFuZGxlZCBkaWZmZXJlbnRseS5cbiAgYXV0aFVwZGF0ZUF0dGVtcHRlZDogYm9vbGVhbjtcbn07XG50eXBlIEZhdGFsRXJyb3IgPSB7XG4gIHR5cGU6IFwiRmF0YWxFcnJvclwiO1xuICBlcnJvcjogc3RyaW5nO1xufTtcbnR5cGUgUGluZyA9IHtcbiAgdHlwZTogXCJQaW5nXCI7XG59O1xuXG4vLyBTZXJ2ZXIgTWVzc2FnZXMgd2l0aG91dCB0aGUgbWVzc2FnZXMgb25seSB2aXNpYmxlIHRvIFdlYlNvY2tldE1hbmFnZXJcbmV4cG9ydCB0eXBlIFNlcnZlck1lc3NhZ2UgPVxuICB8IFRyYW5zaXRpb25cbiAgfCBNdXRhdGlvblJlc3BvbnNlXG4gIHwgQWN0aW9uUmVzcG9uc2VcbiAgfCBGYXRhbEVycm9yXG4gIHwgQXV0aEVycm9yO1xuXG5leHBvcnQgdHlwZSBXaXJlU2VydmVyTWVzc2FnZSA9XG4gIHwgVHJhbnNpdGlvblxuICB8IFRyYW5zaXRpb25DaHVua1xuICB8IE11dGF0aW9uUmVzcG9uc2VcbiAgfCBBY3Rpb25SZXNwb25zZVxuICB8IEZhdGFsRXJyb3JcbiAgfCBBdXRoRXJyb3JcbiAgfCBQaW5nO1xuXG50eXBlIEVuY29kZWRUcmFuc2l0aW9uID0gT21pdDxUcmFuc2l0aW9uLCBcInN0YXJ0VmVyc2lvblwiIHwgXCJlbmRWZXJzaW9uXCI+ICYge1xuICBzdGFydFZlcnNpb246IEVuY29kZWRTdGF0ZVZlcnNpb247XG4gIGVuZFZlcnNpb246IEVuY29kZWRTdGF0ZVZlcnNpb247XG59O1xudHlwZSBFbmNvZGVkTXV0YXRpb25TdWNjZXNzID0gT21pdDxNdXRhdGlvblN1Y2Nlc3MsIFwidHNcIj4gJiB7IHRzOiBFbmNvZGVkVFMgfTtcbnR5cGUgRW5jb2RlZE11dGF0aW9uUmVzcG9uc2UgPSBNdXRhdGlvbkZhaWxlZCB8IEVuY29kZWRNdXRhdGlvblN1Y2Nlc3M7XG5cbnR5cGUgRW5jb2RlZFNlcnZlck1lc3NhZ2UgPVxuICB8IEVuY29kZWRUcmFuc2l0aW9uXG4gIHwgVHJhbnNpdGlvbkNodW5rXG4gIHwgRW5jb2RlZE11dGF0aW9uUmVzcG9uc2VcbiAgfCBBY3Rpb25SZXNwb25zZVxuICB8IEZhdGFsRXJyb3JcbiAgfCBBdXRoRXJyb3JcbiAgfCBQaW5nO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/protocol.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/remote_query_set.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoteQuerySet: () => (/* binding */ RemoteQuerySet)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vendor/long.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/vendor/long.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass RemoteQuerySet {\n    transition(transition) {\n        const start = transition.startVersion;\n        if (this.version.querySet !== start.querySet || this.version.ts.notEquals(start.ts) || this.version.identity !== start.identity) {\n            throw new Error(\"Invalid start version: \".concat(start.ts.toString(), \":\").concat(start.querySet, \":\").concat(start.identity, \", transitioning from \").concat(this.version.ts.toString(), \":\").concat(this.version.querySet, \":\").concat(this.version.identity));\n        }\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        var _modification_value;\n                        const value = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)((_modification_value = modification.value) !== null && _modification_value !== void 0 ? _modification_value : null);\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: true,\n                            value,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryFailed\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const { errorData } = modification;\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: false,\n                            errorMessage: modification.errorMessage,\n                            errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.remoteQuerySet.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        modification;\n                        throw new Error(\"Invalid modification \".concat(modification.type));\n                    }\n            }\n        }\n        this.version = transition.endVersion;\n    }\n    remoteQueryResults() {\n        return this.remoteQuerySet;\n    }\n    timestamp() {\n        return this.version.ts;\n    }\n    constructor(queryPath, logger){\n        __publicField(this, \"version\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"queryPath\");\n        __publicField(this, \"logger\");\n        this.version = {\n            querySet: 0,\n            ts: _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromNumber(0),\n            identity: 0\n        };\n        this.remoteQuerySet = /* @__PURE__ */ new Map();\n        this.queryPath = queryPath;\n        this.logger = logger;\n    }\n} //# sourceMappingURL=remote_query_set.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3JlbW90ZV9xdWVyeV9zZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNSO0FBQ2tCO0FBY2hDLE1BQU0sZUFBZTtJQWExQixXQUFXLFlBQThCO1FBQ3ZDLE1BQU0sUUFBUSxXQUFXO1FBQ3pCLElBQ0UsS0FBSyxRQUFRLGFBQWEsTUFBTSxZQUNoQyxLQUFLLFFBQVEsR0FBRyxVQUFVLE1BQU0sRUFBRSxLQUNsQyxLQUFLLFFBQVEsYUFBYSxNQUFNLFVBQ2hDO1lBQ0EsTUFBTSxJQUFJLE1BQ1IsaUNBQTBCLE1BQU0sR0FBRyxTQUFTLENBQUMsT0FBc0IsT0FBbEIsTUFBTSxRQUFRLG9CQUFVLFFBQVEsa0NBQXdCLEtBQUssUUFBUSxHQUFHLFNBQVMsQ0FBQyxjQUFJLEtBQUssUUFBUSxRQUFRLE9BQXlCLE9BQXJCLEtBQUssUUFBUSxRQUFRO1FBRXpMO1FBQ0EsV0FBVyxnQkFBZ0IsV0FBVyxjQUFlO1lBQ25ELE9BQVEsYUFBYSxNQUFNO2dCQUN6QixLQUFLO29CQUFnQjt3QkFDbkIsTUFBTSxZQUFZLEtBQUssVUFBVSxhQUFhLE9BQU87d0JBQ3JELElBQUksV0FBVzs0QkFDYixXQUFXLFFBQVEsYUFBYSxTQUFVO2dDQUN4QywyREFBYyxDQUFDLEtBQUssUUFBUSxRQUFRLFNBQVMsV0FBVyxJQUFJOzRCQUM5RDt3QkFDRjs7d0JBQ0EsTUFBTSxRQUFRLDhEQUFZLHFDQUFjLG9EQUFiLHNCQUFzQixJQUFJO3dCQUNyRCxLQUFLLGVBQWUsSUFBSSxhQUFhLFNBQVM7NEJBQzVDLFNBQVM7NEJBQ1Q7NEJBQ0EsVUFBVSxhQUFhO3dCQUN6QixDQUFDO3dCQUNEO29CQUNGO2dCQUNBLEtBQUs7b0JBQWU7d0JBQ2xCLE1BQU0sWUFBWSxLQUFLLFVBQVUsYUFBYSxPQUFPO3dCQUNyRCxJQUFJLFdBQVc7NEJBQ2IsV0FBVyxRQUFRLGFBQWEsU0FBVTtnQ0FDeEMsMkRBQWMsQ0FBQyxLQUFLLFFBQVEsUUFBUSxTQUFTLFdBQVcsSUFBSTs0QkFDOUQ7d0JBQ0Y7d0JBQ0EsTUFBTSxFQUFFLFVBQVUsSUFBSTt3QkFDdEIsS0FBSyxlQUFlLElBQUksYUFBYSxTQUFTOzRCQUM1QyxTQUFTOzRCQUNULGNBQWMsYUFBYTs0QkFDM0IsV0FDRSxjQUFjLFNBQVksOERBQVksQ0FBQyxTQUFTLElBQUk7NEJBQ3RELFVBQVUsYUFBYTt3QkFDekIsQ0FBQzt3QkFDRDtvQkFDRjtnQkFDQSxLQUFLO29CQUFnQjt3QkFDbkIsS0FBSyxlQUFlLE9BQU8sYUFBYSxPQUFPO3dCQUMvQztvQkFDRjtnQkFDQTtvQkFBUzt3QkFFUDt3QkFDQSxNQUFNLElBQUksTUFBTSx3QkFBa0QsQ0FBRSxNQUEzQixhQUFxQixJQUFJO29CQUNwRTtZQUNGO1FBQ0Y7UUFDQSxLQUFLLFVBQVUsV0FBVztJQUM1QjtJQUVBLHFCQUFtRDtRQUNqRCxPQUFPLEtBQUs7SUFDZDtJQUVBLFlBQWtCO1FBQ2hCLE9BQU8sS0FBSyxRQUFRO0lBQ3RCO0lBeEVBLFlBQVksV0FBZ0QsT0FBZ0I7UUFMNUUsb0JBQVE7UUFDUixvQkFBaUI7UUFDakIsb0JBQWlCO1FBQ2pCLG9CQUFpQjtRQUdmLEtBQUssVUFBVTtZQUFFLFVBQVU7WUFBRyxJQUFJLGlEQUFJLENBQUMsV0FBVyxDQUFDO1lBQUcsVUFBVTtRQUFFO1FBQ2xFLEtBQUssaUJBQWlCLG9CQUFJLElBQUk7UUFDOUIsS0FBSyxZQUFZO1FBQ2pCLEtBQUssU0FBUztJQUNoQjtBQW9FRiIsInNvdXJjZXMiOlsiL1VzZXJzL3NyYy9icm93c2VyL3N5bmMvcmVtb3RlX3F1ZXJ5X3NldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uLy4uL3ZlbmRvci9sb25nLmpzXCI7XG5pbXBvcnQgeyBsb2dGb3JGdW5jdGlvbiwgTG9nZ2VyIH0gZnJvbSBcIi4uL2xvZ2dpbmcuanNcIjtcbmltcG9ydCB7IFF1ZXJ5SWQsIFN0YXRlVmVyc2lvbiwgVHJhbnNpdGlvbiB9IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvblJlc3VsdCB9IGZyb20gXCIuL2Z1bmN0aW9uX3Jlc3VsdC5qc1wiO1xuXG4vKipcbiAqIEEgcmVwcmVzZW50aW9uIG9mIHRoZSBxdWVyeSByZXN1bHRzIHdlJ3ZlIHJlY2VpdmVkIG9uIHRoZSBjdXJyZW50IFdlYlNvY2tldFxuICogY29ubmVjdGlvbi5cbiAqXG4gKiBRdWVyaWVzIHlvdSB3b24ndCBmaW5kIGhlcmUgaW5jbHVkZTpcbiAqIC0gcXVlcmllcyB3aGljaCBoYXZlIGJlZW4gcmVxdWVzdGVkLCBidXQgbm8gcXVlcnkgdHJhbnNpdGlvbiBoYXMgYmVlbiByZWNlaXZlZCB5ZXQgZm9yXG4gKiAtIHF1ZXJpZXMgd2hpY2ggYXJlIHBvcHVsYXRlZCBvbmx5IHRob3VnaCBhY3RpdmUgb3B0aW1pc3RpYyB1cGRhdGVzLCBidXQgYXJlIG5vdCBzdWJzY3JpYmVkIHRvXG4gKiAtIHF1ZXJpZXMgd2hpY2ggaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZCBieSB0aGUgc2VydmVyICh3aGljaCBpdCBzaG91bGRuJ3QgZG8gdW5sZXNzIHRoYXQnc1xuICogICBiZWVuIHJlcXVlc3RlZCBieSB0aGUgY2xpZW50KVxuICovXG5leHBvcnQgY2xhc3MgUmVtb3RlUXVlcnlTZXQge1xuICBwcml2YXRlIHZlcnNpb246IFN0YXRlVmVyc2lvbjtcbiAgcHJpdmF0ZSByZWFkb25seSByZW1vdGVRdWVyeVNldDogTWFwPFF1ZXJ5SWQsIEZ1bmN0aW9uUmVzdWx0PjtcbiAgcHJpdmF0ZSByZWFkb25seSBxdWVyeVBhdGg6IChxdWVyeUlkOiBRdWVyeUlkKSA9PiBzdHJpbmcgfCBudWxsO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHF1ZXJ5UGF0aDogKHF1ZXJ5SWQ6IFF1ZXJ5SWQpID0+IHN0cmluZyB8IG51bGwsIGxvZ2dlcjogTG9nZ2VyKSB7XG4gICAgdGhpcy52ZXJzaW9uID0geyBxdWVyeVNldDogMCwgdHM6IExvbmcuZnJvbU51bWJlcigwKSwgaWRlbnRpdHk6IDAgfTtcbiAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0ID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucXVlcnlQYXRoID0gcXVlcnlQYXRoO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICB9XG5cbiAgdHJhbnNpdGlvbih0cmFuc2l0aW9uOiBUcmFuc2l0aW9uKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhcnQgPSB0cmFuc2l0aW9uLnN0YXJ0VmVyc2lvbjtcbiAgICBpZiAoXG4gICAgICB0aGlzLnZlcnNpb24ucXVlcnlTZXQgIT09IHN0YXJ0LnF1ZXJ5U2V0IHx8XG4gICAgICB0aGlzLnZlcnNpb24udHMubm90RXF1YWxzKHN0YXJ0LnRzKSB8fFxuICAgICAgdGhpcy52ZXJzaW9uLmlkZW50aXR5ICE9PSBzdGFydC5pZGVudGl0eVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgSW52YWxpZCBzdGFydCB2ZXJzaW9uOiAke3N0YXJ0LnRzLnRvU3RyaW5nKCl9OiR7c3RhcnQucXVlcnlTZXR9OiR7c3RhcnQuaWRlbnRpdHl9LCB0cmFuc2l0aW9uaW5nIGZyb20gJHt0aGlzLnZlcnNpb24udHMudG9TdHJpbmcoKX06JHt0aGlzLnZlcnNpb24ucXVlcnlTZXR9OiR7dGhpcy52ZXJzaW9uLmlkZW50aXR5fWAsXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1vZGlmaWNhdGlvbiBvZiB0cmFuc2l0aW9uLm1vZGlmaWNhdGlvbnMpIHtcbiAgICAgIHN3aXRjaCAobW9kaWZpY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5VXBkYXRlZFwiOiB7XG4gICAgICAgICAgY29uc3QgcXVlcnlQYXRoID0gdGhpcy5xdWVyeVBhdGgobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGlmIChxdWVyeVBhdGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBtb2RpZmljYXRpb24ubG9nTGluZXMpIHtcbiAgICAgICAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIHF1ZXJ5UGF0aCwgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZhbHVlID0ganNvblRvQ29udmV4KG1vZGlmaWNhdGlvbi52YWx1ZSA/PyBudWxsKTtcbiAgICAgICAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnNldChtb2RpZmljYXRpb24ucXVlcnlJZCwge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbG9nTGluZXM6IG1vZGlmaWNhdGlvbi5sb2dMaW5lcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUXVlcnlGYWlsZWRcIjoge1xuICAgICAgICAgIGNvbnN0IHF1ZXJ5UGF0aCA9IHRoaXMucXVlcnlQYXRoKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBpZiAocXVlcnlQYXRoKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbW9kaWZpY2F0aW9uLmxvZ0xpbmVzKSB7XG4gICAgICAgICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJxdWVyeVwiLCBxdWVyeVBhdGgsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB7IGVycm9yRGF0YSB9ID0gbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQuc2V0KG1vZGlmaWNhdGlvbi5xdWVyeUlkLCB7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogbW9kaWZpY2F0aW9uLmVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgIGVycm9yRGF0YTpcbiAgICAgICAgICAgICAgZXJyb3JEYXRhICE9PSB1bmRlZmluZWQgPyBqc29uVG9Db252ZXgoZXJyb3JEYXRhKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxvZ0xpbmVzOiBtb2RpZmljYXRpb24ubG9nTGluZXMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlF1ZXJ5UmVtb3ZlZFwiOiB7XG4gICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5kZWxldGUobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBFbmZvcmNlIHRoYXQgdGhlIHN3aXRjaC1jYXNlIGlzIGV4aGF1c3RpdmUuXG4gICAgICAgICAgbW9kaWZpY2F0aW9uIHNhdGlzZmllcyBuZXZlcjtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbW9kaWZpY2F0aW9uICR7KG1vZGlmaWNhdGlvbiBhcyBhbnkpLnR5cGV9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy52ZXJzaW9uID0gdHJhbnNpdGlvbi5lbmRWZXJzaW9uO1xuICB9XG5cbiAgcmVtb3RlUXVlcnlSZXN1bHRzKCk6IE1hcDxRdWVyeUlkLCBGdW5jdGlvblJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZVF1ZXJ5U2V0O1xuICB9XG5cbiAgdGltZXN0YW1wKCk6IExvbmcge1xuICAgIHJldHVybiB0aGlzLnZlcnNpb24udHM7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/request_manager.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/request_manager.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestManager: () => (/* binding */ RequestManager)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass RequestManager {\n    request(message, sent) {\n        const result = new Promise((resolve)=>{\n            const status = sent ? \"Requested\" : \"NotSent\";\n            this.inflightRequests.set(message.requestId, {\n                message,\n                status: {\n                    status,\n                    requestedAt: /* @__PURE__ */ new Date(),\n                    onResult: resolve\n                }\n            });\n            if (message.type === \"Mutation\") {\n                this.inflightMutationsCount++;\n            } else if (message.type === \"Action\") {\n                this.inflightActionsCount++;\n            }\n        });\n        this.markConnectionStateDirty();\n        return result;\n    }\n    /**\n   * Update the state after receiving a response.\n   *\n   * @returns A RequestId if the request is complete and its optimistic update\n   * can be dropped, null otherwise.\n   */ onResponse(response) {\n        const requestInfo = this.inflightRequests.get(response.requestId);\n        if (requestInfo === void 0) {\n            return null;\n        }\n        if (requestInfo.status.status === \"Completed\") {\n            return null;\n        }\n        const udfType = requestInfo.message.type === \"Mutation\" ? \"mutation\" : \"action\";\n        const udfPath = requestInfo.message.udfPath;\n        for (const line of response.logLines){\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"info\", udfType, udfPath, line);\n        }\n        const status = requestInfo.status;\n        let result;\n        let onResolve;\n        if (response.success) {\n            result = {\n                success: true,\n                logLines: response.logLines,\n                value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(response.result)\n            };\n            onResolve = ()=>status.onResult(result);\n        } else {\n            const errorMessage = response.result;\n            const { errorData } = response;\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"error\", udfType, udfPath, errorMessage);\n            result = {\n                success: false,\n                errorMessage,\n                errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                logLines: response.logLines\n            };\n            onResolve = ()=>status.onResult(result);\n        }\n        if (response.type === \"ActionResponse\" || !response.success) {\n            onResolve();\n            this.inflightRequests.delete(response.requestId);\n            this.requestsOlderThanRestart.delete(response.requestId);\n            if (requestInfo.message.type === \"Action\") {\n                this.inflightActionsCount--;\n            } else if (requestInfo.message.type === \"Mutation\") {\n                this.inflightMutationsCount--;\n            }\n            this.markConnectionStateDirty();\n            return {\n                requestId: response.requestId,\n                result\n            };\n        }\n        requestInfo.status = {\n            status: \"Completed\",\n            result,\n            ts: response.ts,\n            onResolve\n        };\n        return null;\n    }\n    // Remove and returns completed requests.\n    removeCompleted(ts) {\n        const completeRequests = /* @__PURE__ */ new Map();\n        for (const [requestId, requestInfo] of this.inflightRequests.entries()){\n            const status = requestInfo.status;\n            if (status.status === \"Completed\" && status.ts.lessThanOrEqual(ts)) {\n                status.onResolve();\n                completeRequests.set(requestId, status.result);\n                if (requestInfo.message.type === \"Mutation\") {\n                    this.inflightMutationsCount--;\n                } else if (requestInfo.message.type === \"Action\") {\n                    this.inflightActionsCount--;\n                }\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n            }\n        }\n        if (completeRequests.size > 0) {\n            this.markConnectionStateDirty();\n        }\n        return completeRequests;\n    }\n    restart() {\n        this.requestsOlderThanRestart = new Set(this.inflightRequests.keys());\n        const allMessages = [];\n        for (const [requestId, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n            if (value.message.type === \"Mutation\") {\n                allMessages.push(value.message);\n            } else if (value.message.type === \"Action\") {\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n                this.inflightActionsCount--;\n                if (value.status.status === \"Completed\") {\n                    throw new Error(\"Action should never be in 'Completed' state\");\n                }\n                value.status.onResult({\n                    success: false,\n                    errorMessage: \"Connection lost while action was in flight\",\n                    logLines: []\n                });\n            }\n        }\n        this.markConnectionStateDirty();\n        return allMessages;\n    }\n    resume() {\n        const allMessages = [];\n        for (const [, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n        }\n        return allMessages;\n    }\n    /**\n   * @returns true if there are any requests that have been requested but have\n   * not be completed yet.\n   */ hasIncompleteRequests() {\n        for (const requestInfo of this.inflightRequests.values()){\n            if (requestInfo.status.status === \"Requested\") {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n   * @returns true if there are any inflight requests, including ones that have\n   * completed on the server, but have not been applied.\n   */ hasInflightRequests() {\n        return this.inflightRequests.size > 0;\n    }\n    /**\n   * @returns true if there are any inflight requests, that have been hanging around\n   * since prior to the most recent restart.\n   */ hasSyncedPastLastReconnect() {\n        return this.requestsOlderThanRestart.size === 0;\n    }\n    timeOfOldestInflightRequest() {\n        if (this.inflightRequests.size === 0) {\n            return null;\n        }\n        let oldestInflightRequest = Date.now();\n        for (const request of this.inflightRequests.values()){\n            if (request.status.status !== \"Completed\") {\n                if (request.status.requestedAt.getTime() < oldestInflightRequest) {\n                    oldestInflightRequest = request.status.requestedAt.getTime();\n                }\n            }\n        }\n        return new Date(oldestInflightRequest);\n    }\n    /**\n   * @returns The number of mutations currently in flight.\n   */ inflightMutations() {\n        return this.inflightMutationsCount;\n    }\n    /**\n   * @returns The number of actions currently in flight.\n   */ inflightActions() {\n        return this.inflightActionsCount;\n    }\n    constructor(logger, markConnectionStateDirty){\n        this.logger = logger;\n        this.markConnectionStateDirty = markConnectionStateDirty;\n        __publicField(this, \"inflightRequests\");\n        __publicField(this, \"requestsOlderThanRestart\");\n        __publicField(this, \"inflightMutationsCount\", 0);\n        __publicField(this, \"inflightActionsCount\", 0);\n        this.inflightRequests = /* @__PURE__ */ new Map();\n        this.requestsOlderThanRestart = /* @__PURE__ */ new Set();\n    }\n} //# sourceMappingURL=request_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3JlcXVlc3RfbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDVTtBQXlCaEMsTUFBTSxlQUFlO0lBbUIxQixRQUNFLFNBQ0EsTUFDeUI7UUFDekIsTUFBTSxTQUFTLElBQUksUUFBd0IsQ0FBQztZQUMxQyxNQUFNLFNBQVMsT0FBTyxjQUFjO1lBQ3BDLEtBQUssaUJBQWlCLElBQUksUUFBUSxXQUFXO2dCQUMzQztnQkFDQSxRQUFRO29CQUFFO29CQUFRLGFBQWEsb0JBQUksS0FBSztvQkFBRyxVQUFVO2dCQUFRO1lBQy9ELENBQUM7WUFFRCxJQUFJLFFBQVEsU0FBUyxZQUFZO2dCQUMvQixLQUFLO1lBQ1AsV0FBVyxRQUFRLFNBQVMsVUFBVTtnQkFDcEMsS0FBSztZQUNQO1FBQ0YsQ0FBQztRQUVELEtBQUsseUJBQXlCO1FBQzlCLE9BQU87SUFDVDtJQUFBOzs7OztHQUFBLEdBUUEsV0FDRSxVQUN5RDtRQUN6RCxNQUFNLGNBQWMsS0FBSyxpQkFBaUIsSUFBSSxTQUFTLFNBQVM7UUFDaEUsSUFBSSxnQkFBZ0IsUUFBVztZQWdCN0IsT0FBTztRQUNUO1FBTUEsSUFBSSxZQUFZLE9BQU8sV0FBVyxhQUFhO1lBQzdDLE9BQU87UUFDVDtRQUVBLE1BQU0sVUFDSixZQUFZLFFBQVEsU0FBUyxhQUFhLGFBQWE7UUFDekQsTUFBTSxVQUFVLFlBQVksUUFBUTtRQUVwQyxXQUFXLFFBQVEsU0FBUyxTQUFVO1lBQ3BDLDJEQUFjLENBQUMsS0FBSyxRQUFRLFFBQVEsU0FBUyxTQUFTLElBQUk7UUFDNUQ7UUFFQSxNQUFNLFNBQVMsWUFBWTtRQUMzQixJQUFJO1FBQ0osSUFBSTtRQUNKLElBQUksU0FBUyxTQUFTO1lBQ3BCLFNBQVM7Z0JBQ1AsU0FBUztnQkFDVCxVQUFVLFNBQVM7Z0JBQ25CLE9BQU8sOERBQVksQ0FBQyxTQUFT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UUFDQSxPQUFPO0lBQ1Q7SUFBQTs7O0dBQUEsR0FNQSx3QkFBaUM7UUFDL0IsV0FBVyxlQUFlLEtBQUssaUJBQWlCLE9BQU8sRUFBRztZQUN4RCxJQUFJLFlBQVksT0FBTyxXQUFXLGFBQWE7Z0JBQzdDLE9BQU87WUFDVDtRQUNGO1FBQ0EsT0FBTztJQUNUO0lBQUE7OztHQUFBLEdBTUEsc0JBQStCO1FBQzdCLE9BQU8sS0FBSyxpQkFBaUIsT0FBTztJQUN0QztJQUFBOzs7R0FBQSxHQU1BLDZCQUFzQztRQUNwQyxPQUFPLEtBQUsseUJBQXlCLFNBQVM7SUFDaEQ7SUFFQSw4QkFBMkM7UUFDekMsSUFBSSxLQUFLLGlCQUFpQixTQUFTLEdBQUc7WUFDcEMsT0FBTztRQUNUO1FBQ0EsSUFBSSx3QkFBd0IsS0FBSyxJQUFJO1FBQ3JDLFdBQVcsV0FBVyxLQUFLLGlCQUFpQixPQUFPLEVBQUc7WUFDcEQsSUFBSSxRQUFRLE9BQU8sV0FBVyxhQUFhO2dCQUN6QyxJQUFJLFFBQVEsT0FBTyxZQUFZLFFBQVEsSUFBSSx1QkFBdUI7b0JBQ2hFLHdCQUF3QixRQUFRLE9BQU8sWUFBWSxRQUFRO2dCQUM3RDtZQUNGO1FBQ0Y7UUFDQSxPQUFPLElBQUksS0FBSyxxQkFBcUI7SUFDdkM7SUFBQTs7R0FBQSxHQUtBLG9CQUE0QjtRQUMxQixPQUFPLEtBQUs7SUFDZDtJQUFBOztHQUFBLEdBS0Esa0JBQTBCO1FBQ3hCLE9BQU8sS0FBSztJQUNkO0lBdFFBLFlBQ21CLFFBQ0EseUJBQ2pCO1FBRmlCO1FBQ0E7UUFabkIsb0JBQVE7UUFPUixvQkFBUTtRQUNSLG9CQUFRLDBCQUFpQztRQUN6QyxvQkFBUSx3QkFBK0I7UUFLckMsS0FBSyxtQkFBbUIsb0JBQUksSUFBSTtRQUNoQyxLQUFLLDJCQUEyQixvQkFBSSxJQUFJO0lBQzFDO0FBaVFGIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy9yZXF1ZXN0X21hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbG9nRm9yRnVuY3Rpb24sIExvZ2dlciB9IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uLy4uL3ZlbmRvci9sb25nLmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvblJlc3VsdCB9IGZyb20gXCIuL2Z1bmN0aW9uX3Jlc3VsdC5qc1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uUmVxdWVzdCxcbiAgQWN0aW9uUmVzcG9uc2UsXG4gIENsaWVudE1lc3NhZ2UsXG4gIE11dGF0aW9uUmVxdWVzdCxcbiAgTXV0YXRpb25SZXNwb25zZSxcbiAgUmVxdWVzdElkLFxufSBmcm9tIFwiLi9wcm90b2NvbC5qc1wiO1xuXG50eXBlIFJlcXVlc3RTdGF0dXMgPVxuICB8IHtcbiAgICAgIHN0YXR1czogXCJSZXF1ZXN0ZWRcIiB8IFwiTm90U2VudFwiO1xuICAgICAgb25SZXN1bHQ6IChyZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0KSA9PiB2b2lkO1xuICAgICAgcmVxdWVzdGVkQXQ6IERhdGU7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogXCJDb21wbGV0ZWRcIjtcbiAgICAgIHJlc3VsdDogRnVuY3Rpb25SZXN1bHQ7XG4gICAgICBvblJlc29sdmU6ICgpID0+IHZvaWQ7XG4gICAgICB0czogTG9uZztcbiAgICB9O1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdE1hbmFnZXIge1xuICBwcml2YXRlIGluZmxpZ2h0UmVxdWVzdHM6IE1hcDxcbiAgICBSZXF1ZXN0SWQsXG4gICAge1xuICAgICAgbWVzc2FnZTogTXV0YXRpb25SZXF1ZXN0IHwgQWN0aW9uUmVxdWVzdDtcbiAgICAgIHN0YXR1czogUmVxdWVzdFN0YXR1cztcbiAgICB9XG4gID47XG4gIHByaXZhdGUgcmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0OiBTZXQ8UmVxdWVzdElkPjtcbiAgcHJpdmF0ZSBpbmZsaWdodE11dGF0aW9uc0NvdW50OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGluZmxpZ2h0QWN0aW9uc0NvdW50OiBudW1iZXIgPSAwO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgbWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5OiAoKSA9PiB2b2lkLFxuICApIHtcbiAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQgPSBuZXcgU2V0KCk7XG4gIH1cblxuICByZXF1ZXN0KFxuICAgIG1lc3NhZ2U6IE11dGF0aW9uUmVxdWVzdCB8IEFjdGlvblJlcXVlc3QsXG4gICAgc2VudDogYm9vbGVhbixcbiAgKTogUHJvbWlzZTxGdW5jdGlvblJlc3VsdD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBQcm9taXNlPEZ1bmN0aW9uUmVzdWx0PigocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gc2VudCA/IFwiUmVxdWVzdGVkXCIgOiBcIk5vdFNlbnRcIjtcbiAgICAgIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5zZXQobWVzc2FnZS5yZXF1ZXN0SWQsIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgc3RhdHVzOiB7IHN0YXR1cywgcmVxdWVzdGVkQXQ6IG5ldyBEYXRlKCksIG9uUmVzdWx0OiByZXNvbHZlIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJNdXRhdGlvblwiKSB7XG4gICAgICAgIHRoaXMuaW5mbGlnaHRNdXRhdGlvbnNDb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiQWN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5pbmZsaWdodEFjdGlvbnNDb3VudCsrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHkoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgc3RhdGUgYWZ0ZXIgcmVjZWl2aW5nIGEgcmVzcG9uc2UuXG4gICAqXG4gICAqIEByZXR1cm5zIEEgUmVxdWVzdElkIGlmIHRoZSByZXF1ZXN0IGlzIGNvbXBsZXRlIGFuZCBpdHMgb3B0aW1pc3RpYyB1cGRhdGVcbiAgICogY2FuIGJlIGRyb3BwZWQsIG51bGwgb3RoZXJ3aXNlLlxuICAgKi9cbiAgb25SZXNwb25zZShcbiAgICByZXNwb25zZTogTXV0YXRpb25SZXNwb25zZSB8IEFjdGlvblJlc3BvbnNlLFxuICApOiB7IHJlcXVlc3RJZDogUmVxdWVzdElkOyByZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0IH0gfCBudWxsIHtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5nZXQocmVzcG9uc2UucmVxdWVzdElkKTtcbiAgICBpZiAocmVxdWVzdEluZm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQW5ub3lpbmdseSB3ZSBjYW4gb2NjYXNpb25hbGx5IGdldCByZXNwb25zZXMgdG8gbXV0YXRpb25zIHRoYXQgd2UncmUgbm9cbiAgICAgIC8vIGxvbmdlciB0cmFja2luZy4gT25lIGZsb3cgd2hlcmUgdGhpcyBoYXBwZW5zIGlzOlxuICAgICAgLy8gMS4gQ2xpZW50IHNlbmRzIG11dGF0aW9uIDFcbiAgICAgIC8vIDIuIENsaWVudCBnZXRzIHJlc3BvbnNlIGZvciBtdXRhdGlvbiAxLiBUaGUgc2V2ZXIgc2F5cyB0aGF0IGl0IHdhcyBjb21taXR0ZWQgYXQgdHM9MTAuXG4gICAgICAvLyAzLiBDbGllbnQgaXMgZGlzY29ubmVjdGVkXG4gICAgICAvLyA0LiBDbGllbnQgcmVjb25uZWN0cyBhbmQgcmUtaXNzdWVzIHF1ZXJpZXMgYW5kIHRoaXMgbXV0YXRpb24uXG4gICAgICAvLyA1LiBTZXJ2ZXIgc2VuZHMgdHJhbnNpdGlvbiBtZXNzYWdlIHRvIHRzPTIwXG4gICAgICAvLyA2LiBDbGllbnQgZHJvcHMgbXV0YXRpb24gYmVjYXVzZSBpdCdzIGFscmVhZHkgYmVlbiBvYnNlcnZlZC5cbiAgICAgIC8vIDcuIENsaWVudCByZWNlaXZlcyBhIHNlY29uZCByZXNwb25zZSBmb3IgbXV0YXRpb24gMSBidXQgZG9lc24ndCBrbm93IGFib3V0IGl0IGFueW1vcmUuXG5cbiAgICAgIC8vIFRoZSByaWdodCBmaXggZm9yIHRoaXMgaXMgcHJvYmFibHkgdG8gYWRkIGEgcmVjb25jaWxpYXRpb24gcGhhc2Ugb25cbiAgICAgIC8vIHJlY29ubmVjdGlvbiB3aGVyZSB3ZSByZWNlaXZlIHJlc3BvbnNlcyB0byBhbGwgdGhlIG11dGF0aW9ucyBiZWZvcmVcbiAgICAgIC8vIHRoZSB0cmFuc2l0aW9uIG1lc3NhZ2Ugc28gdGhpcyBmbG93IGNvdWxkIG5ldmVyIGhhcHBlbiAoQ1gtMTUxMykuXG5cbiAgICAgIC8vIEZvciBub3cgdGhvdWdoLCB3ZSBjYW4ganVzdCBpZ25vcmUgdGhpcyBtZXNzYWdlLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gQmVjYXVzZSBgLnJlc3RhcnQoKWAgcmUtcmVxdWVzdHMgY29tcGxldGVkIHJlcXVlc3RzLCB3ZSBtYXkgZ2V0IHNvbWVcbiAgICAvLyByZXNwb25zZXMgZm9yIHJlcXVlc3RzIHRoYXQgYXJlIGFscmVhZHkgaW4gdGhlIFwiQ29tcGxldGVkXCIgc3RhdGUuXG4gICAgLy8gV2UgY2FuIHNhZmVseSBpZ25vcmUgdGhvc2UgYmVjYXVzZSB3ZSd2ZSBhbHJlYWR5IG5vdGlmaWVkIHRoZSBVSSBhYm91dFxuICAgIC8vIHRoZWlyIHJlc3VsdHMuXG4gICAgaWYgKHJlcXVlc3RJbmZvLnN0YXR1cy5zdGF0dXMgPT09IFwiQ29tcGxldGVkXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHVkZlR5cGUgPVxuICAgICAgcmVxdWVzdEluZm8ubWVzc2FnZS50eXBlID09PSBcIk11dGF0aW9uXCIgPyBcIm11dGF0aW9uXCIgOiBcImFjdGlvblwiO1xuICAgIGNvbnN0IHVkZlBhdGggPSByZXF1ZXN0SW5mby5tZXNzYWdlLnVkZlBhdGg7XG5cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcG9uc2UubG9nTGluZXMpIHtcbiAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgdWRmVHlwZSwgdWRmUGF0aCwgbGluZSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHVzID0gcmVxdWVzdEluZm8uc3RhdHVzO1xuICAgIGxldCByZXN1bHQ6IEZ1bmN0aW9uUmVzdWx0O1xuICAgIGxldCBvblJlc29sdmU7XG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbG9nTGluZXM6IHJlc3BvbnNlLmxvZ0xpbmVzLFxuICAgICAgICB2YWx1ZToganNvblRvQ29udmV4KHJlc3BvbnNlLnJlc3VsdCksXG4gICAgICB9O1xuICAgICAgb25SZXNvbHZlID0gKCkgPT4gc3RhdHVzLm9uUmVzdWx0KHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICBjb25zdCB7IGVycm9yRGF0YSB9ID0gcmVzcG9uc2U7XG4gICAgICBsb2dGb3JGdW5jdGlvbih0aGlzLmxvZ2dlciwgXCJlcnJvclwiLCB1ZGZUeXBlLCB1ZGZQYXRoLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgICBlcnJvckRhdGE6XG4gICAgICAgICAgZXJyb3JEYXRhICE9PSB1bmRlZmluZWQgPyBqc29uVG9Db252ZXgoZXJyb3JEYXRhKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9nTGluZXM6IHJlc3BvbnNlLmxvZ0xpbmVzLFxuICAgICAgfTtcbiAgICAgIG9uUmVzb2x2ZSA9ICgpID0+IHN0YXR1cy5vblJlc3VsdChyZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIFdlIGNhbiByZXNvbHZlIE11dGF0aW9uIGZhaWx1cmVzIGltbWVkaWF0ZWx5IHNpbmNlIHRoZXkgZG9uJ3QgaGF2ZSBhbnlcbiAgICAvLyBzaWRlIGVmZmVjdHMuIEFjdGlvbnMgYXJlIGludGVudGlvbmFsbHkgZGVjb3VwbGVkIGZyb21cbiAgICAvLyBxdWVyaWVzL211dGF0aW9ucyBoZXJlIG9uIHRoZSBzeW5jIHByb3RvY29sIHNpbmNlIHRoZXkgaGF2ZSBkaWZmZXJlbnRcbiAgICAvLyBndWFyYW50ZWVzLlxuICAgIGlmIChyZXNwb25zZS50eXBlID09PSBcIkFjdGlvblJlc3BvbnNlXCIgfHwgIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIG9uUmVzb2x2ZSgpO1xuICAgICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmRlbGV0ZShyZXNwb25zZS5yZXF1ZXN0SWQpO1xuICAgICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKHJlc3BvbnNlLnJlcXVlc3RJZCk7XG5cbiAgICAgIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiQWN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5pbmZsaWdodEFjdGlvbnNDb3VudC0tO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIikge1xuICAgICAgICB0aGlzLmluZmxpZ2h0TXV0YXRpb25zQ291bnQtLTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHkoKTtcbiAgICAgIHJldHVybiB7IHJlcXVlc3RJZDogcmVzcG9uc2UucmVxdWVzdElkLCByZXN1bHQgfTtcbiAgICB9XG5cbiAgICAvLyBXZSBoYXZlIHRvIHdhaXQgdG8gcmVzb2x2ZSB0aGUgcmVxdWVzdCBwcm9taXNlIHVudGlsIGFmdGVyIHdlIHRyYW5zaXRpb25cbiAgICAvLyBwYXN0IHRoaXMgdGltZXN0YW1wIHNvIGNsaWVudHMgY2FuIHJlYWQgdGhlaXIgb3duIHdyaXRlcy5cbiAgICByZXF1ZXN0SW5mby5zdGF0dXMgPSB7XG4gICAgICBzdGF0dXM6IFwiQ29tcGxldGVkXCIsXG4gICAgICByZXN1bHQsXG4gICAgICB0czogcmVzcG9uc2UudHMsXG4gICAgICBvblJlc29sdmUsXG4gICAgfTtcblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGFuZCByZXR1cm5zIGNvbXBsZXRlZCByZXF1ZXN0cy5cbiAgcmVtb3ZlQ29tcGxldGVkKHRzOiBMb25nKTogTWFwPFJlcXVlc3RJZCwgRnVuY3Rpb25SZXN1bHQ+IHtcbiAgICBjb25zdCBjb21wbGV0ZVJlcXVlc3RzOiBNYXA8UmVxdWVzdElkLCBGdW5jdGlvblJlc3VsdD4gPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcmVxdWVzdElkLCByZXF1ZXN0SW5mb10gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmVudHJpZXMoKSkge1xuICAgICAgY29uc3Qgc3RhdHVzID0gcmVxdWVzdEluZm8uc3RhdHVzO1xuICAgICAgaWYgKHN0YXR1cy5zdGF0dXMgPT09IFwiQ29tcGxldGVkXCIgJiYgc3RhdHVzLnRzLmxlc3NUaGFuT3JFcXVhbCh0cykpIHtcbiAgICAgICAgc3RhdHVzLm9uUmVzb2x2ZSgpO1xuICAgICAgICBjb21wbGV0ZVJlcXVlc3RzLnNldChyZXF1ZXN0SWQsIHN0YXR1cy5yZXN1bHQpO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIikge1xuICAgICAgICAgIHRoaXMuaW5mbGlnaHRNdXRhdGlvbnNDb3VudC0tO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcXVlc3RJbmZvLm1lc3NhZ2UudHlwZSA9PT0gXCJBY3Rpb25cIikge1xuICAgICAgICAgIHRoaXMuaW5mbGlnaHRBY3Rpb25zQ291bnQtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wbGV0ZVJlcXVlc3RzLnNpemUgPiAwKSB7XG4gICAgICB0aGlzLm1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGxldGVSZXF1ZXN0cztcbiAgfVxuXG4gIHJlc3RhcnQoKTogQ2xpZW50TWVzc2FnZVtdIHtcbiAgICAvLyBXaGVuIHdlIHJlY29ubmVjdCB0byB0aGUgYmFja2VuZCwgcmUtcmVxdWVzdCBhbGwgcmVxdWVzdHMgdGhhdCBhcmUgc2FmZVxuICAgIC8vIHRvIGJlIHJlc2VuZC5cblxuICAgIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0ID0gbmV3IFNldCh0aGlzLmluZmxpZ2h0UmVxdWVzdHMua2V5cygpKTtcbiAgICBjb25zdCBhbGxNZXNzYWdlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgW3JlcXVlc3RJZCwgdmFsdWVdIG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cykge1xuICAgICAgaWYgKHZhbHVlLnN0YXR1cy5zdGF0dXMgPT09IFwiTm90U2VudFwiKSB7XG4gICAgICAgIHZhbHVlLnN0YXR1cy5zdGF0dXMgPSBcIlJlcXVlc3RlZFwiO1xuICAgICAgICBhbGxNZXNzYWdlcy5wdXNoKHZhbHVlLm1lc3NhZ2UpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlLm1lc3NhZ2UudHlwZSA9PT0gXCJNdXRhdGlvblwiKSB7XG4gICAgICAgIC8vIFRoaXMgaW5jbHVkZXMgb25lcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGNvbXBsZXRlZCBiZWNhdXNlIHdlIHN0aWxsXG4gICAgICAgIC8vIHdhbnQgdG8gdGVsbCB0aGUgYmFja2VuZCB0byB0cmFuc2l0aW9uIHRoZSBjbGllbnQgcGFzdCB0aGUgY29tcGxldGVkXG4gICAgICAgIC8vIHRpbWVzdGFtcC4gVGhpcyBpcyBzYWZlIHNpbmNlIG11dGF0aW9ucyBhcmUgaWRlbXBvdGVudC5cbiAgICAgICAgYWxsTWVzc2FnZXMucHVzaCh2YWx1ZS5tZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUubWVzc2FnZS50eXBlID09PSBcIkFjdGlvblwiKSB7XG4gICAgICAgIC8vIFVubGlrZSBtdXRhdGlvbnMsIGFjdGlvbnMgYXJlIG5vdCBpZGVtcG90ZW50LiBXaGVuIHdlIHJlY29ubmVjdCB0byB0aGVcbiAgICAgICAgLy8gYmFja2VuZCwgd2UgZG9uJ3Qga25vdyBpZiBpdCBpcyBzYWZlIHRvIHJlc2VuZCBpbi1mbGlnaHQgYWN0aW9ucywgc28gd2VcbiAgICAgICAgLy8gY2FuY2VsIHRoZW0gYW5kIGNvbnNpZGVyIHRoZW0gZmFpbGVkLlxuICAgICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLmluZmxpZ2h0QWN0aW9uc0NvdW50LS07XG4gICAgICAgIGlmICh2YWx1ZS5zdGF0dXMuc3RhdHVzID09PSBcIkNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWN0aW9uIHNob3VsZCBuZXZlciBiZSBpbiAnQ29tcGxldGVkJyBzdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZS5zdGF0dXMub25SZXN1bHQoe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJDb25uZWN0aW9uIGxvc3Qgd2hpbGUgYWN0aW9uIHdhcyBpbiBmbGlnaHRcIixcbiAgICAgICAgICBsb2dMaW5lczogW10sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eSgpO1xuICAgIHJldHVybiBhbGxNZXNzYWdlcztcbiAgfVxuXG4gIHJlc3VtZSgpOiBDbGllbnRNZXNzYWdlW10ge1xuICAgIGNvbnN0IGFsbE1lc3NhZ2VzID0gW107XG4gICAgZm9yIChjb25zdCBbLCB2YWx1ZV0gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzKSB7XG4gICAgICBpZiAodmFsdWUuc3RhdHVzLnN0YXR1cyA9PT0gXCJOb3RTZW50XCIpIHtcbiAgICAgICAgdmFsdWUuc3RhdHVzLnN0YXR1cyA9IFwiUmVxdWVzdGVkXCI7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYWxsTWVzc2FnZXM7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IHJlcXVlc3RzIHRoYXQgaGF2ZSBiZWVuIHJlcXVlc3RlZCBidXQgaGF2ZVxuICAgKiBub3QgYmUgY29tcGxldGVkIHlldC5cbiAgICovXG4gIGhhc0luY29tcGxldGVSZXF1ZXN0cygpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IHJlcXVlc3RJbmZvIG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHJlcXVlc3RJbmZvLnN0YXR1cy5zdGF0dXMgPT09IFwiUmVxdWVzdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgaW5mbGlnaHQgcmVxdWVzdHMsIGluY2x1ZGluZyBvbmVzIHRoYXQgaGF2ZVxuICAgKiBjb21wbGV0ZWQgb24gdGhlIHNlcnZlciwgYnV0IGhhdmUgbm90IGJlZW4gYXBwbGllZC5cbiAgICovXG4gIGhhc0luZmxpZ2h0UmVxdWVzdHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5zaXplID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgaW5mbGlnaHQgcmVxdWVzdHMsIHRoYXQgaGF2ZSBiZWVuIGhhbmdpbmcgYXJvdW5kXG4gICAqIHNpbmNlIHByaW9yIHRvIHRoZSBtb3N0IHJlY2VudCByZXN0YXJ0LlxuICAgKi9cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0LnNpemUgPT09IDA7XG4gIH1cblxuICB0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QoKTogRGF0ZSB8IG51bGwge1xuICAgIGlmICh0aGlzLmluZmxpZ2h0UmVxdWVzdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCBvbGRlc3RJbmZsaWdodFJlcXVlc3QgPSBEYXRlLm5vdygpO1xuICAgIGZvciAoY29uc3QgcmVxdWVzdCBvZiB0aGlzLmluZmxpZ2h0UmVxdWVzdHMudmFsdWVzKCkpIHtcbiAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cy5zdGF0dXMgIT09IFwiQ29tcGxldGVkXCIpIHtcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzLnJlcXVlc3RlZEF0LmdldFRpbWUoKSA8IG9sZGVzdEluZmxpZ2h0UmVxdWVzdCkge1xuICAgICAgICAgIG9sZGVzdEluZmxpZ2h0UmVxdWVzdCA9IHJlcXVlc3Quc3RhdHVzLnJlcXVlc3RlZEF0LmdldFRpbWUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUob2xkZXN0SW5mbGlnaHRSZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIG11dGF0aW9ucyBjdXJyZW50bHkgaW4gZmxpZ2h0LlxuICAgKi9cbiAgaW5mbGlnaHRNdXRhdGlvbnMoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbmZsaWdodE11dGF0aW9uc0NvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgYWN0aW9ucyBjdXJyZW50bHkgaW4gZmxpZ2h0LlxuICAgKi9cbiAgaW5mbGlnaHRBY3Rpb25zKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuaW5mbGlnaHRBY3Rpb25zQ291bnQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/session.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/session.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newSessionId: () => (/* binding */ newSessionId)\n/* harmony export */ });\n\nfunction newSessionId() {\n    return uuidv4();\n}\nfunction uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0, v = c === \"x\" ? r : r & 3 | 8;\n        return v.toString(16);\n    });\n} //# sourceMappingURL=session.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3Nlc3Npb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxTQUFTLGVBQWU7SUFDN0IsT0FBTyxPQUFPO0FBQ2hCO0FBR0EsU0FBUyxTQUFTO0lBQ2hCLE9BQU8sdUNBQXVDLFFBQVEsU0FBUyxDQUFDO1FBQzlELE1BQU0sSUFBSyxLQUFLLE9BQU8sSUFBSSxLQUFNLEdBQy9CLElBQUksTUFBTSxNQUFNLElBQUssSUFBSSxJQUFPO1FBQ2xDLE9BQU8sRUFBRSxTQUFTLEVBQUU7SUFDdEIsQ0FBQztBQUNIIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy9zZXNzaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBuZXdTZXNzaW9uSWQoKSB7XG4gIHJldHVybiB1dWlkdjQoKTtcbn1cblxuLy8gRnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjExNzUyM1xuZnVuY3Rpb24gdXVpZHY0KCkge1xuICByZXR1cm4gXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csIChjKSA9PiB7XG4gICAgY29uc3QgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcbiAgICAgIHYgPSBjID09PSBcInhcIiA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/session.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canonicalizeUdfPath: () => (/* binding */ canonicalizeUdfPath),\n/* harmony export */   serializePaginatedPathAndArgs: () => (/* binding */ serializePaginatedPathAndArgs),\n/* harmony export */   serializePathAndArgs: () => (/* binding */ serializePathAndArgs),\n/* harmony export */   serializedQueryTokenIsPaginated: () => (/* binding */ serializedQueryTokenIsPaginated)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n\n\nfunction canonicalizeUdfPath(udfPath) {\n    const pieces = udfPath.split(\":\");\n    let moduleName;\n    let functionName;\n    if (pieces.length === 1) {\n        moduleName = pieces[0];\n        functionName = \"default\";\n    } else {\n        moduleName = pieces.slice(0, pieces.length - 1).join(\":\");\n        functionName = pieces[pieces.length - 1];\n    }\n    if (moduleName.endsWith(\".js\")) {\n        moduleName = moduleName.slice(0, -3);\n    }\n    return \"\".concat(moduleName, \":\").concat(functionName);\n}\nfunction serializePathAndArgs(udfPath, args) {\n    return JSON.stringify({\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n    });\n}\nfunction serializePaginatedPathAndArgs(udfPath, args, options) {\n    const { initialNumItems, id } = options;\n    const result = JSON.stringify({\n        type: \"paginated\",\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args),\n        options: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)({\n            initialNumItems,\n            id\n        })\n    });\n    return result;\n}\nfunction serializedQueryTokenIsPaginated(token) {\n    return JSON.parse(token).type === \"paginated\";\n} //# sourceMappingURL=udf_path_utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3VkZl9wYXRoX3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFvQztBQUU3QixTQUFTLG9CQUFvQixTQUF5QjtJQUMzRCxNQUFNLFNBQVMsUUFBUSxNQUFNLEdBQUc7SUFDaEMsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJLE9BQU8sV0FBVyxHQUFHO1FBQ3ZCLGFBQWEsT0FBTyxDQUFDO1FBQ3JCLGVBQWU7SUFDakIsT0FBTztRQUNMLGFBQWEsT0FBTyxNQUFNLEdBQUcsT0FBTyxTQUFTLENBQUMsRUFBRSxLQUFLLEdBQUc7UUFDeEQsZUFBZSxPQUFPLE9BQU8sU0FBUyxDQUFDO0lBQ3pDO0lBQ0EsSUFBSSxXQUFXLFNBQVMsS0FBSyxHQUFHO1FBQzlCLGFBQWEsV0FBVyxNQUFNLEdBQUcsRUFBRTtJQUNyQztJQUNBLE9BQU8sVUFBRyxVQUFVLE9BQWdCLE9BQVosWUFBWTtBQUN0QztBQXNCTyxTQUFTLHFCQUNkLFNBQ0EsTUFDWTtJQUNaLE9BQU8sS0FBSyxVQUFVO1FBQ3BCLFNBQVMsb0JBQW9CLE9BQU87UUFDcEMsTUFBTSw4REFBWSxDQUFDLElBQUk7SUFDekIsQ0FBQztBQUNIO0FBRU8sU0FBUyw4QkFDZCxTQUNBLE1BQ0EsU0FDcUI7SUFDckIsTUFBTSxFQUFFLGlCQUFpQixHQUFHLElBQUk7SUFDaEMsTUFBTSxTQUFTLEtBQUssVUFBVTtRQUM1QixNQUFNO1FBQ04sU0FBUyxvQkFBb0IsT0FBTztRQUNwQyxNQUFNLDhEQUFZLENBQUMsSUFBSTtRQUN2QixTQUFTLDhEQUFZLENBQUM7WUFBRTtZQUFpQjtRQUFHLENBQUM7SUFDL0MsQ0FBQztJQUNELE9BQU87QUFDVDtBQUVPLFNBQVMsZ0NBQ2QsT0FDOEI7SUFDOUIsT0FBTyxLQUFLLE1BQU0sS0FBSyxFQUFFLFNBQVM7QUFDcEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcmMvYnJvd3Nlci9zeW5jL3VkZl9wYXRoX3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbnZleFRvSnNvbiwgVmFsdWUgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBpZWNlcyA9IHVkZlBhdGguc3BsaXQoXCI6XCIpO1xuICBsZXQgbW9kdWxlTmFtZTogc3RyaW5nO1xuICBsZXQgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gIGlmIChwaWVjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgbW9kdWxlTmFtZSA9IHBpZWNlc1swXTtcbiAgICBmdW5jdGlvbk5hbWUgPSBcImRlZmF1bHRcIjtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGVOYW1lID0gcGllY2VzLnNsaWNlKDAsIHBpZWNlcy5sZW5ndGggLSAxKS5qb2luKFwiOlwiKTtcbiAgICBmdW5jdGlvbk5hbWUgPSBwaWVjZXNbcGllY2VzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGlmIChtb2R1bGVOYW1lLmVuZHNXaXRoKFwiLmpzXCIpKSB7XG4gICAgbW9kdWxlTmFtZSA9IG1vZHVsZU5hbWUuc2xpY2UoMCwgLTMpO1xuICB9XG4gIHJldHVybiBgJHttb2R1bGVOYW1lfToke2Z1bmN0aW9uTmFtZX1gO1xufVxuXG4vKipcbiAqIFRoZSBzZXJpYWxpemF0aW9uIGhlcmUgaXMgbm90IHN0YWJsZSwgdGhlc2Ugc3RyaW5ncyBuZXZlciBtYWtlIGl0IG91dHNpZGUgdGhlIGNsaWVudC5cbiAqL1xuXG4vKipcbiAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbmFtZSBhbmQgYXJndW1lbnRzIG9mIGEgcXVlcnkuXG4gKlxuICogVGhpcyBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgQmFzZUNvbnZleENsaWVudH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBRdWVyeVRva2VuID0gc3RyaW5nICYgeyBfX3F1ZXJ5VG9rZW46IHRydWUgfTtcblxuLyoqXG4gKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG5hbWUgYW5kIGFyZ3VtZW50cyBvZiBhIHBhZ2luYXRlZCBxdWVyeS5cbiAqXG4gKiBUaGlzIGlzIGEgc3BlY2lhbGl6ZWQgZm9ybSBvZiBRdWVyeVRva2VuIHVzZWQgZm9yIHBhZ2luYXRlZCBxdWVyaWVzLlxuICovXG5leHBvcnQgdHlwZSBQYWdpbmF0ZWRRdWVyeVRva2VuID0gUXVlcnlUb2tlbiAmIHsgX19wYWdpbmF0ZWRRdWVyeVRva2VuOiB0cnVlIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYXRoQW5kQXJncyhcbiAgdWRmUGF0aDogc3RyaW5nLFxuICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4sXG4pOiBRdWVyeVRva2VuIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICB1ZGZQYXRoOiBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihhcmdzKSxcbiAgfSkgYXMgUXVlcnlUb2tlbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVBhZ2luYXRlZFBhdGhBbmRBcmdzKFxuICB1ZGZQYXRoOiBzdHJpbmcsXG4gIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPiwgLy8gYXJncyBXSVRIT1VUIHBhZ2luYXRpb25PcHRzXG4gIG9wdGlvbnM6IHsgaW5pdGlhbE51bUl0ZW1zOiBudW1iZXI7IGlkOiBudW1iZXIgfSxcbik6IFBhZ2luYXRlZFF1ZXJ5VG9rZW4ge1xuICBjb25zdCB7IGluaXRpYWxOdW1JdGVtcywgaWQgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICB0eXBlOiBcInBhZ2luYXRlZFwiLFxuICAgIHVkZlBhdGg6IGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCksXG4gICAgYXJnczogY29udmV4VG9Kc29uKGFyZ3MpLFxuICAgIG9wdGlvbnM6IGNvbnZleFRvSnNvbih7IGluaXRpYWxOdW1JdGVtcywgaWQgfSksXG4gIH0pIGFzIFBhZ2luYXRlZFF1ZXJ5VG9rZW47XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVkUXVlcnlUb2tlbklzUGFnaW5hdGVkKFxuICB0b2tlbjogUXVlcnlUb2tlbiB8IFBhZ2luYXRlZFF1ZXJ5VG9rZW4sXG4pOiB0b2tlbiBpcyBQYWdpbmF0ZWRRdWVyeVRva2VuIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UodG9rZW4pLnR5cGUgPT09IFwicGFnaW5hdGVkXCI7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager)\n/* harmony export */ });\n/* harmony import */ var _protocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/protocol.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst CLOSE_NORMAL = 1e3;\nconst CLOSE_GOING_AWAY = 1001;\nconst CLOSE_NO_STATUS = 1005;\nconst CLOSE_NOT_FOUND = 4040;\nlet firstTime;\nfunction monotonicMillis() {\n    if (firstTime === void 0) {\n        firstTime = Date.now();\n    }\n    if (typeof performance === \"undefined\" || !performance.now) {\n        return Date.now();\n    }\n    return Math.round(firstTime + performance.now());\n}\nfunction prettyNow() {\n    return \"t=\".concat(Math.round((monotonicMillis() - firstTime) / 100) / 10, \"s\");\n}\nconst serverDisconnectErrors = {\n    // A known error, e.g. during a restart or push\n    InternalServerError: {\n        timeout: 1e3\n    },\n    // ErrorMetadata::overloaded() messages that we realy should back off\n    SubscriptionsWorkerFullError: {\n        timeout: 3e3\n    },\n    TooManyConcurrentRequests: {\n        timeout: 3e3\n    },\n    CommitterFullError: {\n        timeout: 3e3\n    },\n    AwsTooManyRequestsException: {\n        timeout: 3e3\n    },\n    ExecuteFullError: {\n        timeout: 3e3\n    },\n    SystemTimeoutError: {\n        timeout: 3e3\n    },\n    ExpiredInQueue: {\n        timeout: 3e3\n    },\n    // ErrorMetadata::feature_temporarily_unavailable() that typically indicate a deploy just happened\n    VectorIndexesUnavailable: {\n        timeout: 1e3\n    },\n    SearchIndexesUnavailable: {\n        timeout: 1e3\n    },\n    TableSummariesUnavailable: {\n        timeout: 1e3\n    },\n    // More ErrorMetadata::overloaded()\n    VectorIndexTooLarge: {\n        timeout: 3e3\n    },\n    SearchIndexTooLarge: {\n        timeout: 3e3\n    },\n    TooManyWritesInTimePeriod: {\n        timeout: 3e3\n    }\n};\nfunction classifyDisconnectError(s) {\n    if (s === void 0) return \"Unknown\";\n    for (const prefix of Object.keys(serverDisconnectErrors)){\n        if (s.startsWith(prefix)) {\n            return prefix;\n        }\n    }\n    return \"Unknown\";\n}\nclass WebSocketManager {\n    setSocketState(state) {\n        this.socket = state;\n        this._logVerbose(\"socket state changed: \".concat(this.socket.state, \", paused: \").concat(\"paused\" in this.socket ? this.socket.paused : void 0));\n        this.markConnectionStateDirty();\n    }\n    assembleTransition(chunk) {\n        if (chunk.partNumber < 0 || chunk.partNumber >= chunk.totalParts || chunk.totalParts === 0 || this.transitionChunkBuffer && (this.transitionChunkBuffer.totalParts !== chunk.totalParts || this.transitionChunkBuffer.transitionId !== chunk.transitionId)) {\n            this.transitionChunkBuffer = null;\n            throw new Error(\"Invalid TransitionChunk\");\n        }\n        if (this.transitionChunkBuffer === null) {\n            this.transitionChunkBuffer = {\n                chunks: [],\n                totalParts: chunk.totalParts,\n                transitionId: chunk.transitionId\n            };\n        }\n        if (chunk.partNumber !== this.transitionChunkBuffer.chunks.length) {\n            const expectedLength = this.transitionChunkBuffer.chunks.length;\n            this.transitionChunkBuffer = null;\n            throw new Error(\"TransitionChunk received out of order: expected part \".concat(expectedLength, \", got \").concat(chunk.partNumber));\n        }\n        this.transitionChunkBuffer.chunks.push(chunk.chunk);\n        if (this.transitionChunkBuffer.chunks.length === chunk.totalParts) {\n            const fullJson = this.transitionChunkBuffer.chunks.join(\"\");\n            this.transitionChunkBuffer = null;\n            const transition = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(fullJson));\n            if (transition.type !== \"Transition\") {\n                throw new Error(\"Expected Transition, got \".concat(transition.type, \" after assembling chunks\"));\n            }\n            return transition;\n        }\n        return null;\n    }\n    connect() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.socket.state !== \"disconnected\" && this.socket.state !== \"stopped\") {\n            throw new Error(\"Didn't start connection from disconnected state: \" + this.socket.state);\n        }\n        const ws = new this.webSocketConstructor(this.uri);\n        this._logVerbose(\"constructed WebSocket\");\n        this.setSocketState({\n            state: \"connecting\",\n            ws,\n            paused: \"no\"\n        });\n        this.resetServerInactivityTimeout();\n        ws.onopen = ()=>{\n            this.logger.logVerbose(\"begin ws.onopen\");\n            if (this.socket.state !== \"connecting\") {\n                throw new Error(\"onopen called with socket not in connecting state\");\n            }\n            this.setSocketState({\n                state: \"ready\",\n                ws,\n                paused: this.socket.paused === \"yes\" ? \"uninitialized\" : \"no\"\n            });\n            this.resetServerInactivityTimeout();\n            if (this.socket.paused === \"no\") {\n                this._hasEverConnected = true;\n                this.onOpen({\n                    connectionCount: this.connectionCount,\n                    lastCloseReason: this.lastCloseReason,\n                    clientTs: monotonicMillis()\n                });\n            }\n            if (this.lastCloseReason !== \"InitialConnect\") {\n                if (this.lastCloseReason) {\n                    this.logger.log(\"WebSocket reconnected at\", prettyNow(), \"after disconnect due to\", this.lastCloseReason);\n                } else {\n                    this.logger.log(\"WebSocket reconnected at\", prettyNow());\n                }\n            }\n            this.connectionCount += 1;\n            this.lastCloseReason = null;\n        };\n        ws.onerror = (error)=>{\n            this.transitionChunkBuffer = null;\n            const message = error.message;\n            if (message) {\n                this.logger.log(\"WebSocket error message: \".concat(message));\n            }\n        };\n        ws.onmessage = (message)=>{\n            this.resetServerInactivityTimeout();\n            const messageLength = message.data.length;\n            let serverMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(message.data));\n            this._logVerbose(\"received ws message with type \".concat(serverMessage.type));\n            if (serverMessage.type === \"Ping\") {\n                return;\n            }\n            if (serverMessage.type === \"TransitionChunk\") {\n                const transition = this.assembleTransition(serverMessage);\n                if (!transition) {\n                    return;\n                }\n                serverMessage = transition;\n                this._logVerbose(\"assembled full ws message of type \".concat(serverMessage.type));\n            }\n            if (this.transitionChunkBuffer !== null) {\n                this.transitionChunkBuffer = null;\n                this.logger.log(\"Received unexpected \".concat(serverMessage.type, \" while buffering TransitionChunks\"));\n            }\n            if (serverMessage.type === \"Transition\") {\n                this.reportLargeTransition({\n                    messageLength,\n                    transition: serverMessage\n                });\n            }\n            const response = this.onMessage(serverMessage);\n            if (response.hasSyncedPastLastReconnect) {\n                this.retries = 0;\n                this.markConnectionStateDirty();\n            }\n        };\n        ws.onclose = (event)=>{\n            this._logVerbose(\"begin ws.onclose\");\n            this.transitionChunkBuffer = null;\n            if (this.lastCloseReason === null) {\n                this.lastCloseReason = event.reason || \"closed with code \".concat(event.code);\n            }\n            if (event.code !== CLOSE_NORMAL && event.code !== CLOSE_GOING_AWAY && // This commonly gets fired on mobile apps when the app is backgrounded\n            event.code !== CLOSE_NO_STATUS && event.code !== CLOSE_NOT_FOUND) {\n                let msg = \"WebSocket closed with code \".concat(event.code);\n                if (event.reason) {\n                    msg += \": \".concat(event.reason);\n                }\n                this.logger.log(msg);\n                if (this.onServerDisconnectError && event.reason) {\n                    this.onServerDisconnectError(msg);\n                }\n            }\n            const reason = classifyDisconnectError(event.reason);\n            this.scheduleReconnect(reason);\n            return;\n        };\n    }\n    /**\n   * @returns The state of the {@link Socket}.\n   */ socketState() {\n        return this.socket.state;\n    }\n    /**\n   * @param message - A ClientMessage to send.\n   * @returns Whether the message (might have been) sent.\n   */ sendMessage(message) {\n        const messageForLog = {\n            type: message.type,\n            ...message.type === \"Authenticate\" && message.tokenType === \"User\" ? {\n                value: \"...\".concat(message.value.slice(-7))\n            } : {}\n        };\n        if (this.socket.state === \"ready\" && this.socket.paused === \"no\") {\n            const encodedMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.encodeClientMessage)(message);\n            const request = JSON.stringify(encodedMessage);\n            let sent = false;\n            try {\n                this.socket.ws.send(request);\n                sent = true;\n            } catch (error) {\n                this.logger.log(\"Failed to send message on WebSocket, reconnecting: \".concat(error));\n                this.closeAndReconnect(\"FailedToSendMessage\");\n            }\n            this._logVerbose(\"\".concat(sent ? \"sent\" : \"failed to send\", \" message with type \").concat(message.type, \": \").concat(JSON.stringify(messageForLog)));\n            return true;\n        }\n        this._logVerbose(\"message not sent (socket state: \".concat(this.socket.state, \", paused: \").concat(\"paused\" in this.socket ? this.socket.paused : void 0, \"): \").concat(JSON.stringify(messageForLog)));\n        return false;\n    }\n    resetServerInactivityTimeout() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.reconnectDueToServerInactivityTimeout !== null) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n            this.reconnectDueToServerInactivityTimeout = null;\n        }\n        this.reconnectDueToServerInactivityTimeout = setTimeout(()=>{\n            this.closeAndReconnect(\"InactiveServer\");\n        }, this.serverInactivityThreshold);\n    }\n    scheduleReconnect(reason) {\n        this.socket = {\n            state: \"disconnected\"\n        };\n        const backoff = this.nextBackoff(reason);\n        this.markConnectionStateDirty();\n        this.logger.log(\"Attempting reconnect in \".concat(Math.round(backoff), \"ms\"));\n        setTimeout(()=>this.connect(), backoff);\n    }\n    /**\n   * Close the WebSocket and schedule a reconnect.\n   *\n   * This should be used when we hit an error and would like to restart the session.\n   */ closeAndReconnect(closeReason) {\n        this._logVerbose(\"begin closeAndReconnect with reason \".concat(closeReason));\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.lastCloseReason = closeReason;\n                    void this.close();\n                    this.scheduleReconnect(\"client\");\n                    return;\n                }\n            default:\n                {\n                    this.socket;\n                }\n        }\n    }\n    /**\n   * Close the WebSocket, being careful to clear the onclose handler to avoid re-entrant\n   * calls. Use this instead of directly calling `ws.close()`\n   *\n   * It is the callers responsibility to update the state after this method is called so that the\n   * closed socket is not accessible or used again after this method is called\n   */ close() {\n        this.transitionChunkBuffer = null;\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return Promise.resolve();\n            case \"connecting\":\n                {\n                    const ws = this.socket.ws;\n                    ws.onmessage = (_message)=>{\n                        this._logVerbose(\"Ignoring message received after close\");\n                    };\n                    return new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            this._logVerbose(\"Closed after connecting\");\n                            r();\n                        };\n                        ws.onopen = ()=>{\n                            this._logVerbose(\"Opened after connecting\");\n                            ws.close();\n                        };\n                    });\n                }\n            case \"ready\":\n                {\n                    this._logVerbose(\"ws.close called\");\n                    const ws = this.socket.ws;\n                    ws.onmessage = (_message)=>{\n                        this._logVerbose(\"Ignoring message received after close\");\n                    };\n                    const result = new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            r();\n                        };\n                    });\n                    ws.close();\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Close the WebSocket and do not reconnect.\n   * @returns A Promise that resolves when the WebSocket `onClose` callback is called.\n   */ terminate() {\n        if (this.reconnectDueToServerInactivityTimeout) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n        }\n        switch(this.socket.state){\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"connecting\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.setSocketState({\n                        state: \"terminated\"\n                    });\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    throw new Error(\"Invalid websocket state: \".concat(this.socket.state));\n                }\n        }\n    }\n    stop() {\n        switch(this.socket.state){\n            case \"terminated\":\n                return Promise.resolve();\n            case \"connecting\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.socket = {\n                        state: \"stopped\"\n                    };\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Create a new WebSocket after a previous `stop()`, unless `terminate()` was\n   * called before.\n   */ tryRestart() {\n        switch(this.socket.state){\n            case \"stopped\":\n                break;\n            case \"terminated\":\n            case \"connecting\":\n            case \"ready\":\n            case \"disconnected\":\n                this.logger.logVerbose(\"Restart called without stopping first\");\n                return;\n            default:\n                {\n                    this.socket;\n                }\n        }\n        this.connect();\n    }\n    pause() {\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"stopped\":\n            case \"terminated\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"yes\"\n                    };\n                    return;\n                }\n            default:\n                {\n                    this.socket;\n                    return;\n                }\n        }\n    }\n    /**\n   * Resume the state machine if previously paused.\n   */ resume() {\n        switch(this.socket.state){\n            case \"connecting\":\n                this.socket = {\n                    ...this.socket,\n                    paused: \"no\"\n                };\n                return;\n            case \"ready\":\n                if (this.socket.paused === \"uninitialized\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onOpen({\n                        connectionCount: this.connectionCount,\n                        lastCloseReason: this.lastCloseReason,\n                        clientTs: monotonicMillis()\n                    });\n                } else if (this.socket.paused === \"yes\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onResume();\n                }\n                return;\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n                return;\n            default:\n                {\n                    this.socket;\n                }\n        }\n        this.connect();\n    }\n    connectionState() {\n        return {\n            isConnected: this.socket.state === \"ready\",\n            hasEverConnected: this._hasEverConnected,\n            connectionCount: this.connectionCount,\n            connectionRetries: this.retries\n        };\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(message);\n    }\n    nextBackoff(reason) {\n        const initialBackoff = reason === \"client\" ? 100 : reason === \"Unknown\" ? this.defaultInitialBackoff : serverDisconnectErrors[reason].timeout;\n        const baseBackoff = initialBackoff * Math.pow(2, this.retries);\n        this.retries += 1;\n        const actualBackoff = Math.min(baseBackoff, this.maxBackoff);\n        const jitter = actualBackoff * (Math.random() - 0.5);\n        return actualBackoff + jitter;\n    }\n    reportLargeTransition(param) {\n        let { transition, messageLength } = param;\n        if (transition.clientClockSkew === void 0 || transition.serverTs === void 0) {\n            return;\n        }\n        const transitionTransitTime = monotonicMillis() - // client time now\n        // clientClockSkew = (server time + upstream latency) - client time\n        // clientClockSkew is \"how many milliseconds behind (slow) is the client clock\"\n        // but the latency of the Connect message inflates this, making it appear further behind\n        transition.clientClockSkew - transition.serverTs / 1e6;\n        const prettyTransitionTime = \"\".concat(Math.round(transitionTransitTime), \"ms\");\n        const prettyMessageMB = \"\".concat(Math.round(messageLength / 1e4) / 100, \"MB\");\n        const bytesPerSecond = messageLength / (transitionTransitTime / 1e3);\n        const prettyBytesPerSecond = \"\".concat(Math.round(bytesPerSecond / 1e4) / 100, \"MB per second\");\n        this._logVerbose(\"received \".concat(prettyMessageMB, \" transition in \").concat(prettyTransitionTime, \" at \").concat(prettyBytesPerSecond));\n        if (messageLength > 2e7) {\n            this.logger.log(\"received query results totaling more that 20MB (\".concat(prettyMessageMB, \") which will take a long time to download on slower connections\"));\n        } else if (transitionTransitTime > 2e4) {\n            this.logger.log(\"received query results totaling \".concat(prettyMessageMB, \" which took more than 20s to arrive (\").concat(prettyTransitionTime, \")\"));\n        }\n        if (this.debug) {\n            this.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientReceivedTransition\",\n                event: {\n                    transitionTransitTime,\n                    messageLength\n                }\n            });\n        }\n    }\n    constructor(uri, callbacks, webSocketConstructor, logger, markConnectionStateDirty, debug){\n        this.markConnectionStateDirty = markConnectionStateDirty;\n        this.debug = debug;\n        __publicField(this, \"socket\");\n        __publicField(this, \"connectionCount\");\n        __publicField(this, \"_hasEverConnected\", false);\n        __publicField(this, \"lastCloseReason\");\n        // State for assembling the split-up Transition currently being received.\n        __publicField(this, \"transitionChunkBuffer\", null);\n        /** Upon HTTPS/WSS failure, the first jittered backoff duration, in ms. */ __publicField(this, \"defaultInitialBackoff\");\n        /** We backoff exponentially, but we need to cap that--this is the jittered max. */ __publicField(this, \"maxBackoff\");\n        /** How many times have we failed consecutively? */ __publicField(this, \"retries\");\n        /** How long before lack of server response causes us to initiate a reconnect,\n     * in ms */ __publicField(this, \"serverInactivityThreshold\");\n        __publicField(this, \"reconnectDueToServerInactivityTimeout\");\n        __publicField(this, \"uri\");\n        __publicField(this, \"onOpen\");\n        __publicField(this, \"onResume\");\n        __publicField(this, \"onMessage\");\n        __publicField(this, \"webSocketConstructor\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"onServerDisconnectError\");\n        this.webSocketConstructor = webSocketConstructor;\n        this.socket = {\n            state: \"disconnected\"\n        };\n        this.connectionCount = 0;\n        this.lastCloseReason = \"InitialConnect\";\n        this.defaultInitialBackoff = 1e3;\n        this.maxBackoff = 16e3;\n        this.retries = 0;\n        this.serverInactivityThreshold = 6e4;\n        this.reconnectDueToServerInactivityTimeout = null;\n        this.uri = uri;\n        this.onOpen = callbacks.onOpen;\n        this.onResume = callbacks.onResume;\n        this.onMessage = callbacks.onMessage;\n        this.onServerDisconnectError = callbacks.onServerDisconnectError;\n        this.logger = logger;\n        this.connect();\n    }\n} //# sourceMappingURL=web_socket_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3dlYl9zb2NrZXRfbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQVFPO0FBRVAsTUFBTSxlQUFlO0FBQ3JCLE1BQU0sbUJBQW1CO0FBQ3pCLE1BQU0sa0JBQWtCO0FBTXhCLE1BQU0sa0JBQWtCO0FBZ0Z4QixJQUFJO0FBQ0osU0FBUyxrQkFBa0I7SUFDekIsSUFBSSxjQUFjLFFBQVc7UUFDM0IsWUFBWSxLQUFLLElBQUk7SUFDdkI7SUFDQSxJQUFJLE9BQU8sZ0JBQWdCLGVBQWUsQ0FBQyxZQUFZLEtBQUs7UUFDMUQsT0FBTyxLQUFLLElBQUk7SUFDbEI7SUFDQSxPQUFPLEtBQUssTUFBTSxZQUFZLFlBQVksSUFBSSxDQUFDO0FBQ2pEO0FBRUEsU0FBUyxZQUFZO0lBQ25CLE9BQU8sS0FBNEQsT0FBdkQsS0FBSyxPQUFPLGdCQUFnQixJQUFJLGFBQWMsR0FBRyxJQUFJLEVBQUU7QUFDckU7QUFFQSxNQUFNLHlCQUF5QjtJQUFBO0lBRTdCLHFCQUFxQjtRQUFFLFNBQVM7SUFBSztJQUFBO0lBRXJDLDhCQUE4QjtRQUFFLFNBQVM7SUFBSztJQUM5QywyQkFBMkI7UUFBRSxTQUFTO0lBQUs7SUFDM0Msb0JBQW9CO1FBQUUsU0FBUztJQUFLO0lBQ3BDLDZCQUE2QjtRQUFFLFNBQVM7SUFBSztJQUM3QyxrQkFBa0I7UUFBRSxTQUFTO0lBQUs7SUFDbEMsb0JBQW9CO1FBQUUsU0FBUztJQUFLO0lBQ3BDLGdCQUFnQjtRQUFFLFNBQVM7SUFBSztJQUFBO0lBRWhDLDBCQUEwQjtRQUFFLFNBQVM7SUFBSztJQUMxQywwQkFBMEI7UUFBRSxTQUFTO0lBQUs7SUFDMUMsMkJBQTJCO1FBQUUsU0FBUztJQUFLO0lBQUE7SUFFM0MscUJBQXFCO1FBQUUsU0FBUztJQUFLO0lBQ3JDLHFCQUFxQjtRQUFFLFNBQVM7SUFBSztJQUNyQywyQkFBMkI7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QVM7WUFBRSxPQUFPO1FBQWU7UUFDdEMsS0FBSyxrQkFBa0I7UUFDdkIsS0FBSyxrQkFBa0I7UUFHdkIsS0FBSyx3QkFBd0I7UUFDN0IsS0FBSyxhQUFhO1FBQ2xCLEtBQUssVUFBVTtRQU1mLEtBQUssNEJBQTRCO1FBQ2pDLEtBQUssd0NBQXdDO1FBRTdDLEtBQUssTUFBTTtRQUNYLEtBQUssU0FBUyxVQUFVO1FBQ3hCLEtBQUssV0FBVyxVQUFVO1FBQzFCLEtBQUssWUFBWSxVQUFVO1FBQzNCLEtBQUssMEJBQTBCLFVBQVU7UUFDekMsS0FBSyxTQUFTO1FBRWQsS0FBSyxRQUFRO0lBQ2Y7QUEyakJGIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2Jyb3dzZXIvc3luYy93ZWJfc29ja2V0X21hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIi4uL2xvZ2dpbmcuanNcIjtcbmltcG9ydCB7XG4gIENsaWVudE1lc3NhZ2UsXG4gIGVuY29kZUNsaWVudE1lc3NhZ2UsXG4gIHBhcnNlU2VydmVyTWVzc2FnZSxcbiAgU2VydmVyTWVzc2FnZSxcbiAgVHJhbnNpdGlvbixcbiAgVHJhbnNpdGlvbkNodW5rLFxufSBmcm9tIFwiLi9wcm90b2NvbC5qc1wiO1xuXG5jb25zdCBDTE9TRV9OT1JNQUwgPSAxMDAwO1xuY29uc3QgQ0xPU0VfR09JTkdfQVdBWSA9IDEwMDE7XG5jb25zdCBDTE9TRV9OT19TVEFUVVMgPSAxMDA1O1xuLyoqIENvbnZleC1zcGVjaWZpYyBjbG9zZSBjb2RlIHJlcHJlc2VudGluZyBhIFwiNDA0IE5vdCBGb3VuZFwiLlxuICogVGhlIGVkZ2UgT25yYW1wIGFjY2VwdHMgd2Vic29ja2V0IHVwZ3JhZGVzIGJlZm9yZSBjb25maXJtaW5nIHRoYXQgdGhlXG4gKiBpbnRlbmRlZCBkZXN0aW5hdGlvbiBleGlzdHMsIHNvIHRoaXMgY29kZSBpcyBzZW50IG9uY2Ugd2UndmUgZGlzY292ZXJlZCB0aGF0XG4gKiB0aGUgZGVzdGluYXRpb24gZG9lcyBub3QgZXhpc3QuXG4gKi9cbmNvbnN0IENMT1NFX05PVF9GT1VORCA9IDQwNDA7XG5cbi8qKlxuICogVGhlIHZhcmlvdXMgc3RhdGVzIG91ciBXZWJTb2NrZXQgY2FuIGJlIGluOlxuICpcbiAqIC0gXCJkaXNjb25uZWN0ZWRcIjogV2UgZG9uJ3QgaGF2ZSBhIFdlYlNvY2tldCwgYnV0IHBsYW4gdG8gY3JlYXRlIG9uZS5cbiAqIC0gXCJjb25uZWN0aW5nXCI6IFdlIGhhdmUgY3JlYXRlZCB0aGUgV2ViU29ja2V0IGFuZCBhcmUgd2FpdGluZyBmb3IgdGhlXG4gKiAgIGBvbk9wZW5gIGNhbGxiYWNrLlxuICogLSBcInJlYWR5XCI6IFdlIGhhdmUgYW4gb3BlbiBXZWJTb2NrZXQuXG4gKiAtIFwic3RvcHBlZFwiOiBUaGUgV2ViU29ja2V0IHdhcyBjbG9zZWQgYW5kIGEgbmV3IG9uZSBjYW4gYmUgY3JlYXRlZCB2aWEgYC5yZXN0YXJ0KClgLlxuICogLSBcInRlcm1pbmF0ZWRcIjogV2UgaGF2ZSBjbG9zZWQgdGhlIFdlYlNvY2tldCBhbmQgd2lsbCBuZXZlciBjcmVhdGUgYSBuZXcgb25lLlxuICpcbiAqXG4gKiBXZWJTb2NrZXQgU3RhdGUgTWFjaGluZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIGluaXRpYWxTdGF0ZTogZGlzY29ubmVjdGVkXG4gKiB2YWxpZFRyYW5zaXRpb25zOlxuICogICBkaXNjb25uZWN0ZWQ6XG4gKiAgICAgbmV3IFdlYlNvY2tldCgpIC0+IGNvbm5lY3RpbmdcbiAqICAgICB0ZXJtaW5hdGUoKSAtPiB0ZXJtaW5hdGVkXG4gKiAgIGNvbm5lY3Rpbmc6XG4gKiAgICAgb25vcGVuIC0+IHJlYWR5XG4gKiAgICAgY2xvc2UoKSAtPiBkaXNjb25uZWN0ZWRcbiAqICAgICB0ZXJtaW5hdGUoKSAtPiB0ZXJtaW5hdGVkXG4gKiAgIHJlYWR5OlxuICogICAgIGNsb3NlKCkgLT4gZGlzY29ubmVjdGVkXG4gKiAgICAgc3RvcCgpIC0+IHN0b3BwZWRcbiAqICAgICB0ZXJtaW5hdGUoKSAtPiB0ZXJtaW5hdGVkXG4gKiAgIHN0b3BwZWQ6XG4gKiAgICAgcmVzdGFydCgpIC0+IGNvbm5lY3RpbmdcbiAqICAgICB0ZXJtaW5hdGUoKSAtPiB0ZXJtaW5hdGVkXG4gKiB0ZXJtaW5hbFN0YXRlczpcbiAqICAgdGVybWluYXRlZFxuICpcbiAqXG4gKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gKiAgICAgICAgICAgICAgICDilIzilIDilIDilIDilIB0ZXJtaW5hdGUoKeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgiAgZGlzY29ubmVjdGVkICDilILil4DilIDilJBcbiAqICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYICDilIJcbiAqICAgICAgICAgICAgICAgIOKWvCAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAg4payICAgICAg4pSCXG4gKiAgICAgICDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgICAgICAgICAgIG5ldyBXZWJTb2NrZXQoKSAg4pSCICAgICAg4pSCXG4gKiAgICDilIzilIDilrbilIIgICB0ZXJtaW5hdGVkICAg4pSC4peA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICAgICAgICAgICAg4pSCICAgICAgIOKUgiAgICAgIOKUglxuICogICAg4pSCICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJggICAgICAg4pSCICAgICAgICAgICAg4pSCICAgICAgIOKUgiAgICAgIOKUglxuICogICAg4pSCICAgICAgICAgICDilrIgICAgICAgICAgdGVybWluYXRlKCkgICAgICAg4pSCICAgIGNsb3NlKCkgY2xvc2UoKVxuICogICAg4pSCICAgICAgdGVybWluYXRlKCkgICAgICAgICAg4pSCICAgICAgICAgICAg4pSCICAgICAgIOKUgiAgICAgIOKUglxuICogICAg4pSCICAgICAgICAgICDilIIgICAgICAgICAgICAgICDilIIgICAgICAgICAgICDilrwgICAgICAg4pSCICAgICAg4pSCXG4gKiAgICDilIIgIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkCAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgIOKUglxuICogICAg4pSCICDilIIgICAgc3RvcHBlZCAgICAg4pSC4pSA4pSAcmVzdGFydCgp4pSA4pSA4pSA4pa24pSCICAgY29ubmVjdGluZyAgIOKUgiAg4pSCXG4gKiAgICDilIIgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAgICAgICAgICAgICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmCAg4pSCXG4gKiAgICDilIIgICAgICAgICAgIOKWsiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgIOKUglxuICogICAg4pSCICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25vcGVuICAgICAg4pSCXG4gKiAgICDilIIgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgIOKUglxuICogICAg4pSCICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKWvCAgICAgICAgICDilIJcbiAqIHRlcm1pbmF0ZSgpICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQICDilIJcbiAqICAgIOKUgiAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAc3RvcCgp4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSCICAgICByZWFkeSAgICAgIOKUguKUgOKUgOKUmFxuICogICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAqICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gKiAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICogICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gKlxuICogVGhlIGBjb25uZWN0aW5nYCBhbmQgYHJlYWR5YCBzdGF0ZSBoYXZlIGEgc3ViLXN0YXRlLW1hY2hpbmUgZm9yIHBhdXNpbmcuXG4gKi9cblxudHlwZSBTb2NrZXQgPVxuICB8IHsgc3RhdGU6IFwiZGlzY29ubmVjdGVkXCIgfVxuICB8IHsgc3RhdGU6IFwiY29ubmVjdGluZ1wiOyB3czogV2ViU29ja2V0OyBwYXVzZWQ6IFwieWVzXCIgfCBcIm5vXCIgfVxuICB8IHsgc3RhdGU6IFwicmVhZHlcIjsgd3M6IFdlYlNvY2tldDsgcGF1c2VkOiBcInllc1wiIHwgXCJub1wiIHwgXCJ1bmluaXRpYWxpemVkXCIgfVxuICB8IHsgc3RhdGU6IFwic3RvcHBlZFwiIH1cbiAgfCB7IHN0YXRlOiBcInRlcm1pbmF0ZWRcIiB9O1xuXG5leHBvcnQgdHlwZSBSZWNvbm5lY3RNZXRhZGF0YSA9IHtcbiAgY29ubmVjdGlvbkNvdW50OiBudW1iZXI7XG4gIGxhc3RDbG9zZVJlYXNvbjogc3RyaW5nIHwgbnVsbDtcbiAgY2xpZW50VHM6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIE9uTWVzc2FnZVJlc3BvbnNlID0ge1xuICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDogYm9vbGVhbjtcbn07XG5cbmxldCBmaXJzdFRpbWU6IG51bWJlciB8IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIG1vbm90b25pY01pbGxpcygpIHtcbiAgaWYgKGZpcnN0VGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZmlyc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxuICByZXR1cm4gTWF0aC5yb3VuZChmaXJzdFRpbWUgKyBwZXJmb3JtYW5jZS5ub3coKSk7XG59XG5cbmZ1bmN0aW9uIHByZXR0eU5vdygpIHtcbiAgcmV0dXJuIGB0PSR7TWF0aC5yb3VuZCgobW9ub3RvbmljTWlsbGlzKCkgLSBmaXJzdFRpbWUhKSAvIDEwMCkgLyAxMH1zYDtcbn1cblxuY29uc3Qgc2VydmVyRGlzY29ubmVjdEVycm9ycyA9IHtcbiAgLy8gQSBrbm93biBlcnJvciwgZS5nLiBkdXJpbmcgYSByZXN0YXJ0IG9yIHB1c2hcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogeyB0aW1lb3V0OiAxMDAwIH0sXG4gIC8vIEVycm9yTWV0YWRhdGE6Om92ZXJsb2FkZWQoKSBtZXNzYWdlcyB0aGF0IHdlIHJlYWx5IHNob3VsZCBiYWNrIG9mZlxuICBTdWJzY3JpcHRpb25zV29ya2VyRnVsbEVycm9yOiB7IHRpbWVvdXQ6IDMwMDAgfSxcbiAgVG9vTWFueUNvbmN1cnJlbnRSZXF1ZXN0czogeyB0aW1lb3V0OiAzMDAwIH0sXG4gIENvbW1pdHRlckZ1bGxFcnJvcjogeyB0aW1lb3V0OiAzMDAwIH0sXG4gIEF3c1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbjogeyB0aW1lb3V0OiAzMDAwIH0sXG4gIEV4ZWN1dGVGdWxsRXJyb3I6IHsgdGltZW91dDogMzAwMCB9LFxuICBTeXN0ZW1UaW1lb3V0RXJyb3I6IHsgdGltZW91dDogMzAwMCB9LFxuICBFeHBpcmVkSW5RdWV1ZTogeyB0aW1lb3V0OiAzMDAwIH0sXG4gIC8vIEVycm9yTWV0YWRhdGE6OmZlYXR1cmVfdGVtcG9yYXJpbHlfdW5hdmFpbGFibGUoKSB0aGF0IHR5cGljYWxseSBpbmRpY2F0ZSBhIGRlcGxveSBqdXN0IGhhcHBlbmVkXG4gIFZlY3RvckluZGV4ZXNVbmF2YWlsYWJsZTogeyB0aW1lb3V0OiAxMDAwIH0sXG4gIFNlYXJjaEluZGV4ZXNVbmF2YWlsYWJsZTogeyB0aW1lb3V0OiAxMDAwIH0sXG4gIFRhYmxlU3VtbWFyaWVzVW5hdmFpbGFibGU6IHsgdGltZW91dDogMTAwMCB9LFxuICAvLyBNb3JlIEVycm9yTWV0YWRhdGE6Om92ZXJsb2FkZWQoKVxuICBWZWN0b3JJbmRleFRvb0xhcmdlOiB7IHRpbWVvdXQ6IDMwMDAgfSxcbiAgU2VhcmNoSW5kZXhUb29MYXJnZTogeyB0aW1lb3V0OiAzMDAwIH0sXG4gIFRvb01hbnlXcml0ZXNJblRpbWVQZXJpb2Q6IHsgdGltZW91dDogMzAwMCB9LFxufSBhcyBjb25zdCBzYXRpc2ZpZXMgUmVjb3JkPHN0cmluZywgeyB0aW1lb3V0OiBudW1iZXIgfT47XG5cbnR5cGUgU2VydmVyRGlzY29ubmVjdEVycm9yID0ga2V5b2YgdHlwZW9mIHNlcnZlckRpc2Nvbm5lY3RFcnJvcnMgfCBcIlVua25vd25cIjtcblxuZnVuY3Rpb24gY2xhc3NpZnlEaXNjb25uZWN0RXJyb3Iocz86IHN0cmluZyk6IFNlcnZlckRpc2Nvbm5lY3RFcnJvciB7XG4gIGlmIChzID09PSB1bmRlZmluZWQpIHJldHVybiBcIlVua25vd25cIjtcbiAgLy8gc3RhcnRzV2l0aCBzbyBtb3JlIGluZm8gY291bGQgYmUgYXQgdGhlIGVuZCAoYWx0aG91Z2ggY3VycmVudGx5IHRoZXJlIGlzbid0KVxuXG4gIGZvciAoY29uc3QgcHJlZml4IG9mIE9iamVjdC5rZXlzKFxuICAgIHNlcnZlckRpc2Nvbm5lY3RFcnJvcnMsXG4gICkgYXMgU2VydmVyRGlzY29ubmVjdEVycm9yW10pIHtcbiAgICBpZiAocy5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlVua25vd25cIjtcbn1cblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIGEgd2Vic29ja2V0IHRoYXQgaGFuZGxlcyBlcnJvcnMsIHJlY29ubmVjdGlvbiwgYW5kIG1lc3NhZ2VcbiAqIHBhcnNpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBzb2NrZXQ6IFNvY2tldDtcblxuICBwcml2YXRlIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyO1xuICBwcml2YXRlIF9oYXNFdmVyQ29ubmVjdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgbGFzdENsb3NlUmVhc29uOlxuICAgIHwgXCJJbml0aWFsQ29ubmVjdFwiXG4gICAgfCBcIk9uQ2xvc2VJbnZva2VkXCJcbiAgICB8IChzdHJpbmcgJiB7fSkgLy8gYSBmdWxsIHNlcnZlckVycm9yUmVhc29uIChub3QganVzdCB0aGUgcHJlZml4KSBvciBhIG5ldyBvbmVcbiAgICB8IG51bGw7XG5cbiAgLy8gU3RhdGUgZm9yIGFzc2VtYmxpbmcgdGhlIHNwbGl0LXVwIFRyYW5zaXRpb24gY3VycmVudGx5IGJlaW5nIHJlY2VpdmVkLlxuICBwcml2YXRlIHRyYW5zaXRpb25DaHVua0J1ZmZlcjoge1xuICAgIGNodW5rczogc3RyaW5nW107XG4gICAgdG90YWxQYXJ0czogbnVtYmVyO1xuICAgIHRyYW5zaXRpb25JZDogc3RyaW5nO1xuICB9IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqIFVwb24gSFRUUFMvV1NTIGZhaWx1cmUsIHRoZSBmaXJzdCBqaXR0ZXJlZCBiYWNrb2ZmIGR1cmF0aW9uLCBpbiBtcy4gKi9cbiAgcHJpdmF0ZSByZWFkb25seSBkZWZhdWx0SW5pdGlhbEJhY2tvZmY6IG51bWJlcjtcblxuICAvKiogV2UgYmFja29mZiBleHBvbmVudGlhbGx5LCBidXQgd2UgbmVlZCB0byBjYXAgdGhhdC0tdGhpcyBpcyB0aGUgaml0dGVyZWQgbWF4LiAqL1xuICBwcml2YXRlIHJlYWRvbmx5IG1heEJhY2tvZmY6IG51bWJlcjtcblxuICAvKiogSG93IG1hbnkgdGltZXMgaGF2ZSB3ZSBmYWlsZWQgY29uc2VjdXRpdmVseT8gKi9cbiAgcHJpdmF0ZSByZXRyaWVzOiBudW1iZXI7XG5cbiAgLyoqIEhvdyBsb25nIGJlZm9yZSBsYWNrIG9mIHNlcnZlciByZXNwb25zZSBjYXVzZXMgdXMgdG8gaW5pdGlhdGUgYSByZWNvbm5lY3QsXG4gICAqIGluIG1zICovXG4gIHByaXZhdGUgcmVhZG9ubHkgc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dDogUmV0dXJuVHlwZTxcbiAgICB0eXBlb2Ygc2V0VGltZW91dFxuICA+IHwgbnVsbDtcblxuICBwcml2YXRlIHJlYWRvbmx5IHVyaTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uT3BlbjogKHJlY29ubmVjdE1ldGFkYXRhOiBSZWNvbm5lY3RNZXRhZGF0YSkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBvblJlc3VtZTogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBvbk1lc3NhZ2U6IChtZXNzYWdlOiBTZXJ2ZXJNZXNzYWdlKSA9PiBPbk1lc3NhZ2VSZXNwb25zZTtcbiAgcHJpdmF0ZSByZWFkb25seSB3ZWJTb2NrZXRDb25zdHJ1Y3RvcjogdHlwZW9mIFdlYlNvY2tldDtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBvblNlcnZlckRpc2Nvbm5lY3RFcnJvcjpcbiAgICB8ICgobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkKVxuICAgIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHVyaTogc3RyaW5nLFxuICAgIGNhbGxiYWNrczoge1xuICAgICAgb25PcGVuOiAocmVjb25uZWN0TWV0YWRhdGE6IFJlY29ubmVjdE1ldGFkYXRhKSA9PiB2b2lkO1xuICAgICAgb25SZXN1bWU6ICgpID0+IHZvaWQ7XG4gICAgICBvbk1lc3NhZ2U6IChtZXNzYWdlOiBTZXJ2ZXJNZXNzYWdlKSA9PiBPbk1lc3NhZ2VSZXNwb25zZTtcbiAgICAgIG9uU2VydmVyRGlzY29ubmVjdEVycm9yPzogKChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgd2ViU29ja2V0Q29uc3RydWN0b3I6IHR5cGVvZiBXZWJTb2NrZXQsXG4gICAgbG9nZ2VyOiBMb2dnZXIsXG4gICAgcHJpdmF0ZSByZWFkb25seSBtYXJrQ29ubmVjdGlvblN0YXRlRGlydHk6ICgpID0+IHZvaWQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBkZWJ1ZzogYm9vbGVhbixcbiAgKSB7XG4gICAgdGhpcy53ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IHdlYlNvY2tldENvbnN0cnVjdG9yO1xuICAgIHRoaXMuc29ja2V0ID0geyBzdGF0ZTogXCJkaXNjb25uZWN0ZWRcIiB9O1xuICAgIHRoaXMuY29ubmVjdGlvbkNvdW50ID0gMDtcbiAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IFwiSW5pdGlhbENvbm5lY3RcIjtcblxuICAgIC8vIGJhY2tvZmYgZm9yIHVua25vd24gZXJyb3JzXG4gICAgdGhpcy5kZWZhdWx0SW5pdGlhbEJhY2tvZmYgPSAxMDAwO1xuICAgIHRoaXMubWF4QmFja29mZiA9IDE2MDAwO1xuICAgIHRoaXMucmV0cmllcyA9IDA7XG5cbiAgICAvLyBQaW5nIG1lc3NhZ2VzIChzeW5jIHByb3RvY29sIFBpbmdzLCBub3QgV2ViU29ja2V0IHByb3RvY29sIFBpbmdzKSBhcmVcbiAgICAvLyBzZW50IGV2ZXJ5IDE1cyBpbiB0aGUgYWJzZW5jZSBvZiBvdGhlciBtZXNzYWdlcy4gQnV0IGEgc2luZ2xlIGxhcmdlXG4gICAgLy8gVHJhbnNpdGlvbiBvciBvdGhlciBkb3duc3RyZWFtIG1lc3NhZ2UgY2FuIGhvZyB0aGUgbGluZSBzbyB0aGlzXG4gICAgLy8gdGhyZXNob2xkIGlzIHNldCBoaWdoZXIgdG8gcHJldmVudCBjbGllbnRzIGZyb20gZ2l2aW5nIHVwLlxuICAgIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCA9IDYwMDAwO1xuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG5cbiAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICB0aGlzLm9uT3BlbiA9IGNhbGxiYWNrcy5vbk9wZW47XG4gICAgdGhpcy5vblJlc3VtZSA9IGNhbGxiYWNrcy5vblJlc3VtZTtcbiAgICB0aGlzLm9uTWVzc2FnZSA9IGNhbGxiYWNrcy5vbk1lc3NhZ2U7XG4gICAgdGhpcy5vblNlcnZlckRpc2Nvbm5lY3RFcnJvciA9IGNhbGxiYWNrcy5vblNlcnZlckRpc2Nvbm5lY3RFcnJvcjtcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcblxuICAgIHRoaXMuY29ubmVjdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRTb2NrZXRTdGF0ZShzdGF0ZTogU29ja2V0KSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzdGF0ZTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHNvY2tldCBzdGF0ZSBjaGFuZ2VkOiAke3RoaXMuc29ja2V0LnN0YXRlfSwgcGF1c2VkOiAke1xuICAgICAgICBcInBhdXNlZFwiIGluIHRoaXMuc29ja2V0ID8gdGhpcy5zb2NrZXQucGF1c2VkIDogdW5kZWZpbmVkXG4gICAgICB9YCxcbiAgICApO1xuICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gIH1cblxuICBwcml2YXRlIGFzc2VtYmxlVHJhbnNpdGlvbihjaHVuazogVHJhbnNpdGlvbkNodW5rKTogVHJhbnNpdGlvbiB8IG51bGwge1xuICAgIGlmIChcbiAgICAgIGNodW5rLnBhcnROdW1iZXIgPCAwIHx8XG4gICAgICBjaHVuay5wYXJ0TnVtYmVyID49IGNodW5rLnRvdGFsUGFydHMgfHxcbiAgICAgIGNodW5rLnRvdGFsUGFydHMgPT09IDAgfHxcbiAgICAgICh0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciAmJlxuICAgICAgICAodGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIudG90YWxQYXJ0cyAhPT0gY2h1bmsudG90YWxQYXJ0cyB8fFxuICAgICAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyLnRyYW5zaXRpb25JZCAhPT0gY2h1bmsudHJhbnNpdGlvbklkKSlcbiAgICApIHtcbiAgICAgIC8vIFRocm93aW5nIGFuIGVycm9yIGRvZXNuJ3QgY3Jhc2ggdGhlIGNsaWVudCwgc28gY2xlYXIgdGhlIGJ1ZmZlci5cbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVHJhbnNpdGlvbkNodW5rXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIgPSB7XG4gICAgICAgIGNodW5rczogW10sXG4gICAgICAgIHRvdGFsUGFydHM6IGNodW5rLnRvdGFsUGFydHMsXG4gICAgICAgIHRyYW5zaXRpb25JZDogY2h1bmsudHJhbnNpdGlvbklkLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoY2h1bmsucGFydE51bWJlciAhPT0gdGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIuY2h1bmtzLmxlbmd0aCkge1xuICAgICAgLy8gVGhyb3dpbmcgYW4gZXJyb3IgZG9lc24ndCBjcmFzaCB0aGUgY2xpZW50LCBzbyBjbGVhciB0aGUgYnVmZmVyLlxuICAgICAgY29uc3QgZXhwZWN0ZWRMZW5ndGggPSB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlci5jaHVua3MubGVuZ3RoO1xuICAgICAgdGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIgPSBudWxsO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVHJhbnNpdGlvbkNodW5rIHJlY2VpdmVkIG91dCBvZiBvcmRlcjogZXhwZWN0ZWQgcGFydCAke2V4cGVjdGVkTGVuZ3RofSwgZ290ICR7Y2h1bmsucGFydE51bWJlcn1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlci5jaHVua3MucHVzaChjaHVuay5jaHVuayk7XG5cbiAgICBpZiAodGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIuY2h1bmtzLmxlbmd0aCA9PT0gY2h1bmsudG90YWxQYXJ0cykge1xuICAgICAgY29uc3QgZnVsbEpzb24gPSB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlci5jaHVua3Muam9pbihcIlwiKTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcblxuICAgICAgY29uc3QgdHJhbnNpdGlvbiA9IHBhcnNlU2VydmVyTWVzc2FnZShKU09OLnBhcnNlKGZ1bGxKc29uKSk7XG4gICAgICBpZiAodHJhbnNpdGlvbi50eXBlICE9PSBcIlRyYW5zaXRpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEV4cGVjdGVkIFRyYW5zaXRpb24sIGdvdCAke3RyYW5zaXRpb24udHlwZX0gYWZ0ZXIgYXNzZW1ibGluZyBjaHVua3NgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zaXRpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnNvY2tldC5zdGF0ZSAhPT0gXCJkaXNjb25uZWN0ZWRcIiAmJlxuICAgICAgdGhpcy5zb2NrZXQuc3RhdGUgIT09IFwic3RvcHBlZFwiXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRGlkbid0IHN0YXJ0IGNvbm5lY3Rpb24gZnJvbSBkaXNjb25uZWN0ZWQgc3RhdGU6IFwiICsgdGhpcy5zb2NrZXQuc3RhdGUsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHdzID0gbmV3IHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IodGhpcy51cmkpO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJjb25zdHJ1Y3RlZCBXZWJTb2NrZXRcIik7XG4gICAgdGhpcy5zZXRTb2NrZXRTdGF0ZSh7XG4gICAgICBzdGF0ZTogXCJjb25uZWN0aW5nXCIsXG4gICAgICB3cyxcbiAgICAgIHBhdXNlZDogXCJub1wiLFxuICAgIH0pO1xuXG4gICAgLy8gS2ljayBvZmYgc2VydmVyIGluYWN0aXZpdHkgdGltZXIgYmVmb3JlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkXG4gICAgLy8gc28gd2UgY2FuIGRldGVjdCBjYXNlcyB3aGVyZSBoYW5kc2hha2UgZmFpbHMuXG4gICAgLy8gVGhlIGBvbm9wZW5gIGV2ZW50IG9ubHkgZmlyZXMgYWZ0ZXIgdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQ6XG4gICAgLy8gU291cmNlOiBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzY0NTUjcGFnZS0xOTp+OnRleHQ9X1RoZSUyMFdlYlNvY2tldCUyMENvbm5lY3Rpb24lMjBpcyUyMEVzdGFibGlzaGVkXywtYW5kXG4gICAgdGhpcy5yZXNldFNlcnZlckluYWN0aXZpdHlUaW1lb3V0KCk7XG5cbiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKFwiYmVnaW4gd3Mub25vcGVuXCIpO1xuICAgICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlICE9PSBcImNvbm5lY3RpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvbm9wZW4gY2FsbGVkIHdpdGggc29ja2V0IG5vdCBpbiBjb25uZWN0aW5nIHN0YXRlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTb2NrZXRTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcInJlYWR5XCIsXG4gICAgICAgIHdzLFxuICAgICAgICBwYXVzZWQ6IHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJ5ZXNcIiA/IFwidW5pbml0aWFsaXplZFwiIDogXCJub1wiLFxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIGlmICh0aGlzLnNvY2tldC5wYXVzZWQgPT09IFwibm9cIikge1xuICAgICAgICB0aGlzLl9oYXNFdmVyQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbk9wZW4oe1xuICAgICAgICAgIGNvbm5lY3Rpb25Db3VudDogdGhpcy5jb25uZWN0aW9uQ291bnQsXG4gICAgICAgICAgbGFzdENsb3NlUmVhc29uOiB0aGlzLmxhc3RDbG9zZVJlYXNvbixcbiAgICAgICAgICBjbGllbnRUczogbW9ub3RvbmljTWlsbGlzKCksXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24gIT09IFwiSW5pdGlhbENvbm5lY3RcIikge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24pIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgICBcIldlYlNvY2tldCByZWNvbm5lY3RlZCBhdFwiLFxuICAgICAgICAgICAgcHJldHR5Tm93KCksXG4gICAgICAgICAgICBcImFmdGVyIGRpc2Nvbm5lY3QgZHVlIHRvXCIsXG4gICAgICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyhcIldlYlNvY2tldCByZWNvbm5lY3RlZCBhdFwiLCBwcmV0dHlOb3coKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnQgKz0gMTtcbiAgICAgIHRoaXMubGFzdENsb3NlUmVhc29uID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIE5COiBUaGUgV2ViU29ja2V0IEFQSSBjYWxscyBgb25jbG9zZWAgZXZlbiBpZiBjb25uZWN0aW9uIGZhaWxzLCBzbyB3ZSBjYW4gcm91dGUgYWxsIGVycm9yIHBhdGhzIHRocm91Z2ggYG9uY2xvc2VgLlxuICAgIHdzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSAoZXJyb3IgYXMgRXJyb3JFdmVudCkubWVzc2FnZTtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZyhgV2ViU29ja2V0IGVycm9yIG1lc3NhZ2U6ICR7bWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHdzLm9ubWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBtZXNzYWdlLmRhdGEubGVuZ3RoO1xuICAgICAgbGV0IHNlcnZlck1lc3NhZ2UgPSBwYXJzZVNlcnZlck1lc3NhZ2UoSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpKTtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYHJlY2VpdmVkIHdzIG1lc3NhZ2Ugd2l0aCB0eXBlICR7c2VydmVyTWVzc2FnZS50eXBlfWApO1xuXG4gICAgICAvLyBQaW5nJ3Mgb25seSBwdXJwb3NlIGlzIHRvIHJlc2V0IHRoZSBzZXJ2ZXIgaW5hY3Rpdml0eSB0aW1lci5cbiAgICAgIGlmIChzZXJ2ZXJNZXNzYWdlLnR5cGUgPT09IFwiUGluZ1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVHJhbnNpdGlvbkNodW5rcyBuZXZlciByZWFjaCB0aGUgbWFpbiBjbGllbnQgbG9naWMuXG4gICAgICBpZiAoc2VydmVyTWVzc2FnZS50eXBlID09PSBcIlRyYW5zaXRpb25DaHVua1wiKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmFzc2VtYmxlVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlcnZlck1lc3NhZ2UgPSB0cmFuc2l0aW9uO1xuICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgICAgIGBhc3NlbWJsZWQgZnVsbCB3cyBtZXNzYWdlIG9mIHR5cGUgJHtzZXJ2ZXJNZXNzYWdlLnR5cGV9YCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICAgIGBSZWNlaXZlZCB1bmV4cGVjdGVkICR7c2VydmVyTWVzc2FnZS50eXBlfSB3aGlsZSBidWZmZXJpbmcgVHJhbnNpdGlvbkNodW5rc2AsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZXJ2ZXJNZXNzYWdlLnR5cGUgPT09IFwiVHJhbnNpdGlvblwiKSB7XG4gICAgICAgIHRoaXMucmVwb3J0TGFyZ2VUcmFuc2l0aW9uKHtcbiAgICAgICAgICBtZXNzYWdlTGVuZ3RoLFxuICAgICAgICAgIHRyYW5zaXRpb246IHNlcnZlck1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSB0aGlzLm9uTWVzc2FnZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgIGlmIChyZXNwb25zZS5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCkge1xuICAgICAgICAvLyBSZXNldCBiYWNrb2ZmIHRvIDAgb25jZSBhbGwgb3V0c3RhbmRpbmcgcmVxdWVzdHMgYXJlIGNvbXBsZXRlLlxuICAgICAgICB0aGlzLnJldHJpZXMgPSAwO1xuICAgICAgICB0aGlzLm1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgd3Mub25jbG9zZSA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcImJlZ2luIHdzLm9uY2xvc2VcIik7XG4gICAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9IG51bGw7XG4gICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24gPT09IG51bGwpIHtcbiAgICAgICAgLy8gZXZlbnQucmVhc29uIGlzIG9mdGVuIGFuIGVtcHR5IHN0cmluZ1xuICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IGV2ZW50LnJlYXNvbiB8fCBgY2xvc2VkIHdpdGggY29kZSAke2V2ZW50LmNvZGV9YDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgZXZlbnQuY29kZSAhPT0gQ0xPU0VfTk9STUFMICYmXG4gICAgICAgIGV2ZW50LmNvZGUgIT09IENMT1NFX0dPSU5HX0FXQVkgJiYgLy8gVGhpcyBjb21tb25seSBnZXRzIGZpcmVkIG9uIG1vYmlsZSBhcHBzIHdoZW4gdGhlIGFwcCBpcyBiYWNrZ3JvdW5kZWRcbiAgICAgICAgZXZlbnQuY29kZSAhPT0gQ0xPU0VfTk9fU1RBVFVTICYmXG4gICAgICAgIGV2ZW50LmNvZGUgIT09IENMT1NFX05PVF9GT1VORCAvLyBOb3RlIHRoYXQgd2Ugd2FudCB0byByZXRyeSBvbiBhIDQwNCwgYXMgaXQgY2FuIGJlIHRyYW5zaWVudCBkdXJpbmcgYSBwdXNoLlxuICAgICAgKSB7XG4gICAgICAgIGxldCBtc2cgPSBgV2ViU29ja2V0IGNsb3NlZCB3aXRoIGNvZGUgJHtldmVudC5jb2RlfWA7XG4gICAgICAgIGlmIChldmVudC5yZWFzb24pIHtcbiAgICAgICAgICBtc2cgKz0gYDogJHtldmVudC5yZWFzb259YDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2dlci5sb2cobXNnKTtcbiAgICAgICAgaWYgKHRoaXMub25TZXJ2ZXJEaXNjb25uZWN0RXJyb3IgJiYgZXZlbnQucmVhc29uKSB7XG4gICAgICAgICAgLy8gVGhpcyBjYWxsYmFjayBpcyBhIHVuc3RhYmxlIEFQSSwgSW50ZXJuYWxTZXJ2ZXJFcnJvcnMgaW4gcGFydGljdWxhciBtYXkgYmUgcmVtb3ZlZFxuICAgICAgICAgIC8vIHNpbmNlIHRoZXkgcmVmbGVjdCBleHBlY3RlZCB0ZW1wb3JhcnkgZG93bnRpbWUuIEJ1dCB1bnRpbCBhIHF1YW50aXRhdGl2ZSBtZWFzdXJlXG4gICAgICAgICAgLy8gb2YgdXB0aW1lIGlzIHJlcG9ydGVkIHRoaXMgdW5zdGFibGUgQVBJIGVycnMgb24gdGhlIGluY2x1c2l2ZSBzaWRlLlxuICAgICAgICAgIHRoaXMub25TZXJ2ZXJEaXNjb25uZWN0RXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcmVhc29uID0gY2xhc3NpZnlEaXNjb25uZWN0RXJyb3IoZXZlbnQucmVhc29uKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QocmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBzdGF0ZSBvZiB0aGUge0BsaW5rIFNvY2tldH0uXG4gICAqL1xuICBzb2NrZXRTdGF0ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnNvY2tldC5zdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIEEgQ2xpZW50TWVzc2FnZSB0byBzZW5kLlxuICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBtZXNzYWdlIChtaWdodCBoYXZlIGJlZW4pIHNlbnQuXG4gICAqL1xuICBzZW5kTWVzc2FnZShtZXNzYWdlOiBDbGllbnRNZXNzYWdlKSB7XG4gICAgY29uc3QgbWVzc2FnZUZvckxvZyA9IHtcbiAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIC4uLihtZXNzYWdlLnR5cGUgPT09IFwiQXV0aGVudGljYXRlXCIgJiYgbWVzc2FnZS50b2tlblR5cGUgPT09IFwiVXNlclwiXG4gICAgICAgID8ge1xuICAgICAgICAgICAgdmFsdWU6IGAuLi4ke21lc3NhZ2UudmFsdWUuc2xpY2UoLTcpfWAsXG4gICAgICAgICAgfVxuICAgICAgICA6IHt9KSxcbiAgICB9O1xuICAgIGlmICh0aGlzLnNvY2tldC5zdGF0ZSA9PT0gXCJyZWFkeVwiICYmIHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJub1wiKSB7XG4gICAgICBjb25zdCBlbmNvZGVkTWVzc2FnZSA9IGVuY29kZUNsaWVudE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSlNPTi5zdHJpbmdpZnkoZW5jb2RlZE1lc3NhZ2UpO1xuICAgICAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc29ja2V0LndzLnNlbmQocmVxdWVzdCk7XG4gICAgICAgIHNlbnQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgYEZhaWxlZCB0byBzZW5kIG1lc3NhZ2Ugb24gV2ViU29ja2V0LCByZWNvbm5lY3Rpbmc6ICR7ZXJyb3J9YCxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkZhaWxlZFRvU2VuZE1lc3NhZ2VcIik7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgICBgJHtzZW50ID8gXCJzZW50XCIgOiBcImZhaWxlZCB0byBzZW5kXCJ9IG1lc3NhZ2Ugd2l0aCB0eXBlICR7bWVzc2FnZS50eXBlfTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBtZXNzYWdlRm9yTG9nLFxuICAgICAgICApfWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBgbWVzc2FnZSBub3Qgc2VudCAoc29ja2V0IHN0YXRlOiAke3RoaXMuc29ja2V0LnN0YXRlfSwgcGF1c2VkOiAke1wicGF1c2VkXCIgaW4gdGhpcy5zb2NrZXQgPyB0aGlzLnNvY2tldC5wYXVzZWQgOiB1bmRlZmluZWR9KTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgbWVzc2FnZUZvckxvZyxcbiAgICAgICl9YCxcbiAgICApO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldFNlcnZlckluYWN0aXZpdHlUaW1lb3V0KCkge1xuICAgIGlmICh0aGlzLnNvY2tldC5zdGF0ZSA9PT0gXCJ0ZXJtaW5hdGVkXCIpIHtcbiAgICAgIC8vIERvbid0IHJlc2V0IGFueSB0aW1lcnMgaWYgd2Ugd2VyZSB0cnlpbmcgdG8gdGVybWluYXRlLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkluYWN0aXZlU2VydmVyXCIpO1xuICAgIH0sIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCk7XG4gIH1cblxuICBwcml2YXRlIHNjaGVkdWxlUmVjb25uZWN0KHJlYXNvbjogXCJjbGllbnRcIiB8IFNlcnZlckRpc2Nvbm5lY3RFcnJvcikge1xuICAgIHRoaXMuc29ja2V0ID0geyBzdGF0ZTogXCJkaXNjb25uZWN0ZWRcIiB9O1xuICAgIGNvbnN0IGJhY2tvZmYgPSB0aGlzLm5leHRCYWNrb2ZmKHJlYXNvbik7XG4gICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHkoKTtcbiAgICB0aGlzLmxvZ2dlci5sb2coYEF0dGVtcHRpbmcgcmVjb25uZWN0IGluICR7TWF0aC5yb3VuZChiYWNrb2ZmKX1tc2ApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5jb25uZWN0KCksIGJhY2tvZmYpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgYW5kIHNjaGVkdWxlIGEgcmVjb25uZWN0LlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIHdoZW4gd2UgaGl0IGFuIGVycm9yIGFuZCB3b3VsZCBsaWtlIHRvIHJlc3RhcnQgdGhlIHNlc3Npb24uXG4gICAqL1xuICBwcml2YXRlIGNsb3NlQW5kUmVjb25uZWN0KGNsb3NlUmVhc29uOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9sb2dWZXJib3NlKGBiZWdpbiBjbG9zZUFuZFJlY29ubmVjdCB3aXRoIHJlYXNvbiAke2Nsb3NlUmVhc29ufWApO1xuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJkaXNjb25uZWN0ZWRcIjpcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGlmIHdlIGRvbid0IGhhdmUgYSBXZWJTb2NrZXQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IGNsb3NlUmVhc29uO1xuICAgICAgICAvLyBDbG9zZSB0aGUgb2xkIHNvY2tldCBhc3luY2hyb25vdXNseSwgd2UnbGwgb3BlbiBhIG5ldyBzb2NrZXQgaW4gcmVjb25uZWN0LlxuICAgICAgICB2b2lkIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChcImNsaWVudFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBFbmZvcmNlIHRoYXQgdGhlIHN3aXRjaC1jYXNlIGlzIGV4aGF1c3RpdmUuXG4gICAgICAgIHRoaXMuc29ja2V0IHNhdGlzZmllcyBuZXZlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCwgYmVpbmcgY2FyZWZ1bCB0byBjbGVhciB0aGUgb25jbG9zZSBoYW5kbGVyIHRvIGF2b2lkIHJlLWVudHJhbnRcbiAgICogY2FsbHMuIFVzZSB0aGlzIGluc3RlYWQgb2YgZGlyZWN0bHkgY2FsbGluZyBgd3MuY2xvc2UoKWBcbiAgICpcbiAgICogSXQgaXMgdGhlIGNhbGxlcnMgcmVzcG9uc2liaWxpdHkgdG8gdXBkYXRlIHRoZSBzdGF0ZSBhZnRlciB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgc28gdGhhdCB0aGVcbiAgICogY2xvc2VkIHNvY2tldCBpcyBub3QgYWNjZXNzaWJsZSBvciB1c2VkIGFnYWluIGFmdGVyIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxuICAgKi9cbiAgcHJpdmF0ZSBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9IG51bGw7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaWYgd2UgZG9uJ3QgaGF2ZSBhIFdlYlNvY2tldC5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjoge1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0LndzO1xuICAgICAgICAvLyBNZXNzYWdlcyBjYW4gc3RpbGwgYmUgcmVjZWl2ZWQgYWZ0ZXIgY2xvc2UgYnV0IHdlJ3JlIG5vdCBpbnRlcmVzdGVkLlxuICAgICAgICB3cy5vbm1lc3NhZ2UgPSAoX21lc3NhZ2UpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwiSWdub3JpbmcgbWVzc2FnZSByZWNlaXZlZCBhZnRlciBjbG9zZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyKSA9PiB7XG4gICAgICAgICAgd3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJDbG9zZWQgYWZ0ZXIgY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIHIoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJPcGVuZWQgYWZ0ZXIgY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIHdzLmNsb3NlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwid3MuY2xvc2UgY2FsbGVkXCIpO1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0LndzO1xuICAgICAgICAvLyBNZXNzYWdlcyBjYW4gc3RpbGwgYmUgcmVjZWl2ZWQgYWZ0ZXIgY2xvc2UgYnV0IHdlJ3JlIG5vdCBpbnRlcmVzdGVkLlxuICAgICAgICB3cy5vbm1lc3NhZ2UgPSAoX21lc3NhZ2UpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwiSWdub3JpbmcgbWVzc2FnZSByZWNlaXZlZCBhZnRlciBjbG9zZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBQcm9taXNlPHZvaWQ+ID0gbmV3IFByb21pc2UoKHIpID0+IHtcbiAgICAgICAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgcigpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBFbmZvcmNlIHRoYXQgdGhlIHN3aXRjaC1jYXNlIGlzIGV4aGF1c3RpdmUuXG4gICAgICAgIHRoaXMuc29ja2V0IHNhdGlzZmllcyBuZXZlcjtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgV2ViU29ja2V0IGFuZCBkbyBub3QgcmVjb25uZWN0LlxuICAgKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBXZWJTb2NrZXQgYG9uQ2xvc2VgIGNhbGxiYWNrIGlzIGNhbGxlZC5cbiAgICovXG4gIHRlcm1pbmF0ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNldFNvY2tldFN0YXRlKHsgc3RhdGU6IFwidGVybWluYXRlZFwiIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBFbmZvcmNlIHRoYXQgdGhlIHN3aXRjaC1jYXNlIGlzIGV4aGF1c3RpdmUuXG4gICAgICAgIHRoaXMuc29ja2V0IHNhdGlzZmllcyBuZXZlcjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBJbnZhbGlkIHdlYnNvY2tldCBzdGF0ZTogJHsodGhpcy5zb2NrZXQgYXMgYW55KS5zdGF0ZX1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0b3AoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgICAgLy8gSWYgd2UncmUgdGVybWluYXRpbmcgd2UgaWdub3JlIHN0b3BcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyBzdGF0ZTogXCJzdG9wcGVkXCIgfTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gRW5mb3JjZSB0aGF0IHRoZSBzd2l0Y2gtY2FzZSBpcyBleGhhdXN0aXZlLlxuICAgICAgICB0aGlzLnNvY2tldCBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFdlYlNvY2tldCBhZnRlciBhIHByZXZpb3VzIGBzdG9wKClgLCB1bmxlc3MgYHRlcm1pbmF0ZSgpYCB3YXNcbiAgICogY2FsbGVkIGJlZm9yZS5cbiAgICovXG4gIHRyeVJlc3RhcnQoKTogdm9pZCB7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGVybWluYXRlZFwiOlxuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOlxuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKFwiUmVzdGFydCBjYWxsZWQgd2l0aG91dCBzdG9wcGluZyBmaXJzdFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBFbmZvcmNlIHRoYXQgdGhlIHN3aXRjaC1jYXNlIGlzIGV4aGF1c3RpdmUuXG4gICAgICAgIHRoaXMuc29ja2V0IHNhdGlzZmllcyBuZXZlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jb25uZWN0KCk7XG4gIH1cblxuICBwYXVzZSgpOiB2b2lkIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgICAgLy8gSWYgYWxyZWFkeSBzdG9wcGVkIG9yIHN0b3BwaW5nIGlnbm9yZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcInllc1wiIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gRW5mb3JjZSB0aGF0IHRoZSBzd2l0Y2gtY2FzZSBpcyBleGhhdXN0aXZlLlxuICAgICAgICB0aGlzLnNvY2tldCBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzdW1lIHRoZSBzdGF0ZSBtYWNoaW5lIGlmIHByZXZpb3VzbHkgcGF1c2VkLlxuICAgKi9cbiAgcmVzdW1lKCk6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcIm5vXCIgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcInJlYWR5XCI6XG4gICAgICAgIGlmICh0aGlzLnNvY2tldC5wYXVzZWQgPT09IFwidW5pbml0aWFsaXplZFwiKSB7XG4gICAgICAgICAgdGhpcy5zb2NrZXQgPSB7IC4uLnRoaXMuc29ja2V0LCBwYXVzZWQ6IFwibm9cIiB9O1xuICAgICAgICAgIHRoaXMub25PcGVuKHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25Db3VudDogdGhpcy5jb25uZWN0aW9uQ291bnQsXG4gICAgICAgICAgICBsYXN0Q2xvc2VSZWFzb246IHRoaXMubGFzdENsb3NlUmVhc29uLFxuICAgICAgICAgICAgY2xpZW50VHM6IG1vbm90b25pY01pbGxpcygpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJ5ZXNcIikge1xuICAgICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcIm5vXCIgfTtcbiAgICAgICAgICB0aGlzLm9uUmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICAgIC8vIElnbm9yZSByZXN1bWUgaWYgbm90IHBhdXNlZCwgcGVyaGFwcyB3ZSBhbHJlYWR5IHJlc3VtZWQuXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gRW5mb3JjZSB0aGF0IHRoZSBzd2l0Y2gtY2FzZSBpcyBleGhhdXN0aXZlLlxuICAgICAgICB0aGlzLnNvY2tldCBzYXRpc2ZpZXMgbmV2ZXI7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29ubmVjdCgpO1xuICB9XG5cbiAgY29ubmVjdGlvblN0YXRlKCk6IHtcbiAgICBpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgICBoYXNFdmVyQ29ubmVjdGVkOiBib29sZWFuO1xuICAgIGNvbm5lY3Rpb25Db3VudDogbnVtYmVyO1xuICAgIGNvbm5lY3Rpb25SZXRyaWVzOiBudW1iZXI7XG4gIH0ge1xuICAgIHJldHVybiB7XG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5zb2NrZXQuc3RhdGUgPT09IFwicmVhZHlcIixcbiAgICAgIGhhc0V2ZXJDb25uZWN0ZWQ6IHRoaXMuX2hhc0V2ZXJDb25uZWN0ZWQsXG4gICAgICBjb25uZWN0aW9uQ291bnQ6IHRoaXMuY29ubmVjdGlvbkNvdW50LFxuICAgICAgY29ubmVjdGlvblJldHJpZXM6IHRoaXMucmV0cmllcyxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfbG9nVmVyYm9zZShtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKG1lc3NhZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXh0QmFja29mZihyZWFzb246IFwiY2xpZW50XCIgfCBTZXJ2ZXJEaXNjb25uZWN0RXJyb3IpOiBudW1iZXIge1xuICAgIGNvbnN0IGluaXRpYWxCYWNrb2ZmOiBudW1iZXIgPVxuICAgICAgcmVhc29uID09PSBcImNsaWVudFwiXG4gICAgICAgID8gMTAwIC8vIFRoZXJlJ3Mgbm8gZXZpZGVuY2Ugb2YgYSBzZXJ2ZXIgcHJvYmxlbSwgcmV0cnkgcXVpY2tseVxuICAgICAgICA6IHJlYXNvbiA9PT0gXCJVbmtub3duXCJcbiAgICAgICAgICA/IHRoaXMuZGVmYXVsdEluaXRpYWxCYWNrb2ZmXG4gICAgICAgICAgOiBzZXJ2ZXJEaXNjb25uZWN0RXJyb3JzW3JlYXNvbl0udGltZW91dDtcblxuICAgIGNvbnN0IGJhc2VCYWNrb2ZmID0gaW5pdGlhbEJhY2tvZmYgKiBNYXRoLnBvdygyLCB0aGlzLnJldHJpZXMpO1xuICAgIHRoaXMucmV0cmllcyArPSAxO1xuICAgIGNvbnN0IGFjdHVhbEJhY2tvZmYgPSBNYXRoLm1pbihiYXNlQmFja29mZiwgdGhpcy5tYXhCYWNrb2ZmKTtcbiAgICBjb25zdCBqaXR0ZXIgPSBhY3R1YWxCYWNrb2ZmICogKE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgIHJldHVybiBhY3R1YWxCYWNrb2ZmICsgaml0dGVyO1xuICB9XG5cbiAgcHJpdmF0ZSByZXBvcnRMYXJnZVRyYW5zaXRpb24oe1xuICAgIHRyYW5zaXRpb24sXG4gICAgbWVzc2FnZUxlbmd0aCxcbiAgfToge1xuICAgIHRyYW5zaXRpb246IFRyYW5zaXRpb247XG4gICAgbWVzc2FnZUxlbmd0aDogbnVtYmVyO1xuICB9KSB7XG4gICAgaWYgKFxuICAgICAgdHJhbnNpdGlvbi5jbGllbnRDbG9ja1NrZXcgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdHJhbnNpdGlvbi5zZXJ2ZXJUcyA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNpdGlvblRyYW5zaXRUaW1lID1cbiAgICAgIG1vbm90b25pY01pbGxpcygpIC0gLy8gY2xpZW50IHRpbWUgbm93XG4gICAgICAvLyBjbGllbnRDbG9ja1NrZXcgPSAoc2VydmVyIHRpbWUgKyB1cHN0cmVhbSBsYXRlbmN5KSAtIGNsaWVudCB0aW1lXG4gICAgICAvLyBjbGllbnRDbG9ja1NrZXcgaXMgXCJob3cgbWFueSBtaWxsaXNlY29uZHMgYmVoaW5kIChzbG93KSBpcyB0aGUgY2xpZW50IGNsb2NrXCJcbiAgICAgIC8vIGJ1dCB0aGUgbGF0ZW5jeSBvZiB0aGUgQ29ubmVjdCBtZXNzYWdlIGluZmxhdGVzIHRoaXMsIG1ha2luZyBpdCBhcHBlYXIgZnVydGhlciBiZWhpbmRcbiAgICAgIHRyYW5zaXRpb24uY2xpZW50Q2xvY2tTa2V3IC1cbiAgICAgIHRyYW5zaXRpb24uc2VydmVyVHMgLyAxXzAwMF8wMDA7IC8vIHNlcnZlciB0aW1lIHdoZW4gdHJhbnNpdGlvbiB3YXMgc2VudFxuICAgIGNvbnN0IHByZXR0eVRyYW5zaXRpb25UaW1lID0gYCR7TWF0aC5yb3VuZCh0cmFuc2l0aW9uVHJhbnNpdFRpbWUpfW1zYDtcbiAgICBjb25zdCBwcmV0dHlNZXNzYWdlTUIgPSBgJHtNYXRoLnJvdW5kKG1lc3NhZ2VMZW5ndGggLyAxMF8wMDApIC8gMTAwfU1CYDtcbiAgICBjb25zdCBieXRlc1BlclNlY29uZCA9IG1lc3NhZ2VMZW5ndGggLyAodHJhbnNpdGlvblRyYW5zaXRUaW1lIC8gMTAwMCk7XG4gICAgY29uc3QgcHJldHR5Qnl0ZXNQZXJTZWNvbmQgPSBgJHtNYXRoLnJvdW5kKGJ5dGVzUGVyU2Vjb25kIC8gMTBfMDAwKSAvIDEwMH1NQiBwZXIgc2Vjb25kYDtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHJlY2VpdmVkICR7cHJldHR5TWVzc2FnZU1CfSB0cmFuc2l0aW9uIGluICR7cHJldHR5VHJhbnNpdGlvblRpbWV9IGF0ICR7cHJldHR5Qnl0ZXNQZXJTZWNvbmR9YCxcbiAgICApO1xuXG4gICAgLy8gV2FybmluZ3MgdGhhdCB3aWxsIHNob3cgdXAgZm9yICphbGwgdXNlcnMqLCBzbyBkb24ndCBiZSB0b28gYWdncmVzc2l2ZS5cbiAgICAvLyBUaGVzZSBjYW4gYmUgc2lsZW5jZWQgKGFsb25nIHdpdGggcmVjb25uZWN0aW9uIG1lc3NhZ2VzKSBieSBzZXR0aW5nIGBsb2dnZXI6IGZhbHNlYCBpbiBjbGllbnQgb3B0aW9ucy5cbiAgICBpZiAobWVzc2FnZUxlbmd0aCA+IDIwXzAwMF8wMDApIHtcbiAgICAgIC8vIEJpZyBlbm91Z2ggdGhhdCB0aGUgZGV2ZWxvcGVyIHNob3VsZCBiZSBtYWRlIGF3YXJlIG9mIHRoaXMuXG4gICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgIGByZWNlaXZlZCBxdWVyeSByZXN1bHRzIHRvdGFsaW5nIG1vcmUgdGhhdCAyME1CICgke3ByZXR0eU1lc3NhZ2VNQn0pIHdoaWNoIHdpbGwgdGFrZSBhIGxvbmcgdGltZSB0byBkb3dubG9hZCBvbiBzbG93ZXIgY29ubmVjdGlvbnNgLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zaXRpb25UcmFuc2l0VGltZSA+IDIwXzAwMCkge1xuICAgICAgLy8gTG9uZyBlbm91Z2ggdGhhdCBhIHBhdHRlcm4gb2YgdGhlc2Ugc2hvdWxkIGJlIGludGVyZXN0aW5nIHRvIGEgZGV2ZWxvcGVyLCBidXQgYmUgYXdhcmUgdGhhdFxuICAgICAgLy8gd2VhayBjb25uZWN0aW9ucywgcHV0dGluZyBjbGllbnRzIHRvIHNsZWVwLCBiYWNrZ3JvdW5kaW5nIGV0Yy4gY291bGQgYWxsIGNhdXNlIHRoaXMgdG9vLlxuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBgcmVjZWl2ZWQgcXVlcnkgcmVzdWx0cyB0b3RhbGluZyAke3ByZXR0eU1lc3NhZ2VNQn0gd2hpY2ggdG9vayBtb3JlIHRoYW4gMjBzIHRvIGFycml2ZSAoJHtwcmV0dHlUcmFuc2l0aW9uVGltZX0pYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIC8vIGRlYnVnIG1lYW5zIFwicmVwb3J0RGVidWdJbmZvVG9Db252ZXhcIiBpcyBzZXQgc28gdGhpcyBjYW4gYmUgYWdncmVzc2l2ZS5cbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcIkV2ZW50XCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJDbGllbnRSZWNlaXZlZFRyYW5zaXRpb25cIixcbiAgICAgICAgZXZlbnQ6IHsgdHJhbnNpdGlvblRyYW5zaXRUaW1lLCBtZXNzYWdlTGVuZ3RoIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/common/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSimpleObject: () => (/* binding */ isSimpleObject),\n/* harmony export */   parseArgs: () => (/* binding */ parseArgs),\n/* harmony export */   validateDeploymentUrl: () => (/* binding */ validateDeploymentUrl)\n/* harmony export */ });\n\nfunction parseArgs(args) {\n    if (args === void 0) {\n        return {};\n    }\n    if (!isSimpleObject(args)) {\n        throw new Error(\"The arguments to a Convex function must be an object. Received: \".concat(args));\n    }\n    return args;\n}\nfunction validateDeploymentUrl(deploymentUrl) {\n    if (typeof deploymentUrl === \"undefined\") {\n        throw new Error(\"Client created with undefined deployment address. If you used an environment variable, check that it's set.\");\n    }\n    if (typeof deploymentUrl !== \"string\") {\n        throw new Error(\"Invalid deployment address: found \".concat(deploymentUrl, '\".'));\n    }\n    if (!(deploymentUrl.startsWith(\"http:\") || deploymentUrl.startsWith(\"https:\"))) {\n        throw new Error('Invalid deployment address: Must start with \"https://\" or \"http://\". Found \"'.concat(deploymentUrl, '\".'));\n    }\n    try {\n        new URL(deploymentUrl);\n    } catch (e) {\n        throw new Error('Invalid deployment address: \"'.concat(deploymentUrl, '\" is not a valid URL. If you believe this URL is correct, use the `skipConvexDeploymentUrlCheck` option to bypass this.'));\n    }\n    if (deploymentUrl.endsWith(\".convex.site\")) {\n        throw new Error('Invalid deployment address: \"'.concat(deploymentUrl, '\" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the `skipConvexDeploymentUrlCheck` option to bypass this.'));\n    }\n}\nfunction isSimpleObject(value) {\n    var // Objects generated from other contexts (e.g. across Node.js `vm` modules) will not satisfy the previous\n    // conditions but are still simple objects.\n    _prototype_constructor;\n    const isObject = typeof value === \"object\";\n    const prototype = Object.getPrototypeOf(value);\n    const isSimple = prototype === null || prototype === Object.prototype || (prototype === null || prototype === void 0 ? void 0 : (_prototype_constructor = prototype.constructor) === null || _prototype_constructor === void 0 ? void 0 : _prototype_constructor.name) === \"Object\";\n    return isObject && isSimple;\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vY29tbW9uL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFNTyxTQUFTLFVBQ2QsTUFDdUI7SUFDdkIsSUFBSSxTQUFTLFFBQVc7UUFDdEIsT0FBTyxDQUFDO0lBQ1Y7SUFDQSxJQUFJLENBQUMsZUFBZSxJQUFJLEdBQUc7UUFDekIsTUFBTSxJQUFJLE1BQ1IsbUVBRUEsT0FERSxJQUNGO0lBRUo7SUFDQSxPQUFPO0FBQ1Q7QUFFTyxTQUFTLHNCQUFzQixlQUF1QjtJQUczRCxJQUFJLE9BQU8sa0JBQWtCLGFBQWE7UUFDeEMsTUFBTSxJQUFJLE1BQ1I7SUFFSjtJQUNBLElBQUksT0FBTyxrQkFBa0IsVUFBVTtRQUNyQyxNQUFNLElBQUksTUFDUixxQ0FBeUQsT0FBcEIsYUFBb0I7SUFFN0Q7SUFDQSxJQUNFLEVBQUUsY0FBYyxXQUFXLE9BQU8sS0FBSyxjQUFjLFdBQVcsU0FBUSxHQUN4RTtRQUNBLE1BQU0sSUFBSSxNQUNSLCtFQUE0RixPQUFiLGFBQWE7SUFFaEc7SUFLQSxJQUFJO1FBQ0YsSUFBSSxJQUFJLGFBQWE7SUFDdkIsWUFBUTtRQUNOLE1BQU0sSUFBSSxNQUNSLGdDQUE2QyxPQUFiLGFBQWE7SUFFakQ7SUFHQSxJQUFJLGNBQWMsU0FBUyxjQUFjLEdBQUc7UUFDMUMsTUFBTSxJQUFJLE1BQ1IsZ0NBQTZDLE9BQWIsYUFBYTtJQUVqRDtBQUNGO0FBS08sU0FBUyxlQUFlLE9BQWdCO1FBS3RCO0lBQUE7O0lBSnZCLE1BQU0sV0FBVyxPQUFPLFVBQVU7SUFDbEMsTUFBTSxZQUFZLE9BQU8sZUFBZSxLQUFLO0lBQzdDLE1BQU0sV0FDSixjQUFjLFFBQ2QsY0FBYyxPQUFPLHdHQUdWLHNFQUFYLHVCQUF3QixVQUFTO0lBQ25DLE9BQU8sWUFBWTtBQUNyQiIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvY29tbW9uL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWUgfSBmcm9tIFwiLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5cbi8qKlxuICogVmFsaWRhdGUgdGhhdCB0aGUgYXJndW1lbnRzIHRvIGEgQ29udmV4IGZ1bmN0aW9uIGFyZSBhbiBvYmplY3QsIGRlZmF1bHRpbmdcbiAqIGB1bmRlZmluZWRgIHRvIGB7fWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFyZ3MoXG4gIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPiB8IHVuZGVmaW5lZCxcbik6IFJlY29yZDxzdHJpbmcsIFZhbHVlPiB7XG4gIGlmIChhcmdzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgaWYgKCFpc1NpbXBsZU9iamVjdChhcmdzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUaGUgYXJndW1lbnRzIHRvIGEgQ29udmV4IGZ1bmN0aW9uIG11c3QgYmUgYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtcbiAgICAgICAgYXJncyBhcyBhbnlcbiAgICAgIH1gLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGFyZ3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZURlcGxveW1lbnRVcmwoZGVwbG95bWVudFVybDogc3RyaW5nKSB7XG4gIC8vIERvbid0IHVzZSB0aGluZ3MgbGlrZSBgbmV3IFVSTChkZXBsb3ltZW50VXJsKS5ob3N0bmFtZWAgc2luY2UgdGhlc2UgYXJlbid0XG4gIC8vIHN1cHBvcnRlZCBieSBSZWFjdCBOYXRpdmUncyBKUyBlbnZpcm9ubWVudFxuICBpZiAodHlwZW9mIGRlcGxveW1lbnRVcmwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2xpZW50IGNyZWF0ZWQgd2l0aCB1bmRlZmluZWQgZGVwbG95bWVudCBhZGRyZXNzLiBJZiB5b3UgdXNlZCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZSwgY2hlY2sgdGhhdCBpdCdzIHNldC5gLFxuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXBsb3ltZW50VXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBmb3VuZCAke2RlcGxveW1lbnRVcmwgYXMgYW55fVwiLmAsXG4gICAgKTtcbiAgfVxuICBpZiAoXG4gICAgIShkZXBsb3ltZW50VXJsLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSB8fCBkZXBsb3ltZW50VXJsLnN0YXJ0c1dpdGgoXCJodHRwczpcIikpXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogTXVzdCBzdGFydCB3aXRoIFwiaHR0cHM6Ly9cIiBvciBcImh0dHA6Ly9cIi4gRm91bmQgXCIke2RlcGxveW1lbnRVcmx9XCIuYCxcbiAgICApO1xuICB9XG5cbiAgLy8gTW9zdCBjbGllbnRzIHNob3VsZCBjb25uZWN0IHRvIFwiLmNvbnZleC5jbG91ZFwiLiBCdXQgd2UgYWxzbyBzdXBwb3J0IGxvY2FsaG9zdCBhbmRcbiAgLy8gY3VzdG9tIGN1c3RvbS4gV2UgdmFsaWRhdGUgdGhlIGRlcGxveW1lbnQgdXJsIGlzIGEgdmFsaWQgdXJsLCB3aGljaCBpcyB0aGUgbW9zdFxuICAvLyBjb21tb24gZmFpbHVyZSBwYXR0ZXJuLlxuICB0cnkge1xuICAgIG5ldyBVUkwoZGVwbG95bWVudFVybCk7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogXCIke2RlcGxveW1lbnRVcmx9XCIgaXMgbm90IGEgdmFsaWQgVVJMLiBJZiB5b3UgYmVsaWV2ZSB0aGlzIFVSTCBpcyBjb3JyZWN0LCB1c2UgdGhlIFxcYHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2tcXGAgb3B0aW9uIHRvIGJ5cGFzcyB0aGlzLmAsXG4gICAgKTtcbiAgfVxuXG4gIC8vIElmIGEgdXNlciB1c2VzIC5jb252ZXguc2l0ZSwgdGhpcyBpcyB2ZXJ5IGxpa2VseSBpbmNvcnJlY3QuXG4gIGlmIChkZXBsb3ltZW50VXJsLmVuZHNXaXRoKFwiLmNvbnZleC5zaXRlXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBcIiR7ZGVwbG95bWVudFVybH1cIiBlbmRzIHdpdGggLmNvbnZleC5zaXRlLCB3aGljaCBpcyB1c2VkIGZvciBIVFRQIEFjdGlvbnMuIENvbnZleCBkZXBsb3ltZW50IFVSTHMgdHlwaWNhbGx5IGVuZCB3aXRoIC5jb252ZXguY2xvdWQ/IElmIHlvdSBiZWxpZXZlIHRoaXMgVVJMIGlzIGNvcnJlY3QsIHVzZSB0aGUgXFxgc2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVja1xcYCBvcHRpb24gdG8gYnlwYXNzIHRoaXMuYCxcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhIHZhbHVlIGlzIGEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaW1wbGVPYmplY3QodmFsdWU6IHVua25vd24pIHtcbiAgY29uc3QgaXNPYmplY3QgPSB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCI7XG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIGNvbnN0IGlzU2ltcGxlID1cbiAgICBwcm90b3R5cGUgPT09IG51bGwgfHxcbiAgICBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHxcbiAgICAvLyBPYmplY3RzIGdlbmVyYXRlZCBmcm9tIG90aGVyIGNvbnRleHRzIChlLmcuIGFjcm9zcyBOb2RlLmpzIGB2bWAgbW9kdWxlcykgd2lsbCBub3Qgc2F0aXNmeSB0aGUgcHJldmlvdXNcbiAgICAvLyBjb25kaXRpb25zIGJ1dCBhcmUgc3RpbGwgc2ltcGxlIG9iamVjdHMuXG4gICAgcHJvdG90eXBlPy5jb25zdHJ1Y3Rvcj8ubmFtZSA9PT0gXCJPYmplY3RcIjtcbiAgcmV0dXJuIGlzT2JqZWN0ICYmIGlzU2ltcGxlO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/index.js":
/*!***********************************************!*\
  !*** ./node_modules/convex/dist/esm/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n\nconst version = \"1.30.0\"; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNLFVBQVUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2YvcHJvamVjdHMvc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCIxLjMwLjBcIjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/ConvexAuthState.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/ConvexAuthState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProviderWithAuth: () => (/* binding */ ConvexProviderWithAuth),\n/* harmony export */   useConvexAuth: () => (/* binding */ useConvexAuth)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\"use strict\";\n\n\nconst ConvexAuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useConvexAuth() {\n    _s();\n    const authContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConvexAuthContext);\n    if (authContext === void 0) {\n        throw new Error(\"Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.\");\n    }\n    return authContext;\n}\n_s(useConvexAuth, \"g0q6N3HTsGa67OokMUhTOzE2a0M=\");\nfunction ConvexProviderWithAuth(param) {\n    let { children, client, useAuth } = param;\n    _s1();\n    const { isLoading: authProviderLoading, isAuthenticated: authProviderAuthenticated, fetchAccessToken } = useAuth();\n    const [isConvexAuthenticated, setIsConvexAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    if (authProviderLoading && isConvexAuthenticated !== null) {\n        setIsConvexAuthenticated(null);\n    }\n    if (!authProviderLoading && !authProviderAuthenticated && isConvexAuthenticated !== false) {\n        setIsConvexAuthenticated(false);\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthContext.Provider, {\n        value: {\n            isLoading: isConvexAuthenticated === null,\n            isAuthenticated: authProviderAuthenticated && (isConvexAuthenticated !== null && isConvexAuthenticated !== void 0 ? isConvexAuthenticated : false)\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateFirstEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexProvider, {\n        client\n    }, children), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateLastEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }));\n}\n_s1(ConvexProviderWithAuth, \"D20z1SCpibgpNx97TxM5hJ0TIGI=\", true);\n_c = ConvexProviderWithAuth;\nfunction ConvexAuthStateFirstEffect(param) {\n    let { authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated } = param;\n    _s2();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"ConvexAuthStateFirstEffect.useEffect\": ()=>{\n            let isThisEffectRelevant = true;\n            if (authProviderAuthenticated) {\n                client.setAuth(fetchAccessToken, {\n                    \"ConvexAuthStateFirstEffect.useEffect\": (backendReportsIsAuthenticated)=>{\n                        if (isThisEffectRelevant) {\n                            setIsConvexAuthenticated({\n                                \"ConvexAuthStateFirstEffect.useEffect\": ()=>backendReportsIsAuthenticated\n                            }[\"ConvexAuthStateFirstEffect.useEffect\"]);\n                        }\n                    }\n                }[\"ConvexAuthStateFirstEffect.useEffect\"]);\n                return ({\n                    \"ConvexAuthStateFirstEffect.useEffect\": ()=>{\n                        isThisEffectRelevant = false;\n                        setIsConvexAuthenticated({\n                            \"ConvexAuthStateFirstEffect.useEffect\": (isConvexAuthenticated)=>isConvexAuthenticated ? false : null\n                        }[\"ConvexAuthStateFirstEffect.useEffect\"]);\n                    }\n                })[\"ConvexAuthStateFirstEffect.useEffect\"];\n            }\n        }\n    }[\"ConvexAuthStateFirstEffect.useEffect\"], [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n}\n_s2(ConvexAuthStateFirstEffect, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c1 = ConvexAuthStateFirstEffect;\nfunction ConvexAuthStateLastEffect(param) {\n    let { authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated } = param;\n    _s3();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"ConvexAuthStateLastEffect.useEffect\": ()=>{\n            if (authProviderAuthenticated) {\n                return ({\n                    \"ConvexAuthStateLastEffect.useEffect\": ()=>{\n                        client.clearAuth();\n                        setIsConvexAuthenticated({\n                            \"ConvexAuthStateLastEffect.useEffect\": ()=>null\n                        }[\"ConvexAuthStateLastEffect.useEffect\"]);\n                    }\n                })[\"ConvexAuthStateLastEffect.useEffect\"];\n            }\n        }\n    }[\"ConvexAuthStateLastEffect.useEffect\"], [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n} //# sourceMappingURL=ConvexAuthState.js.map\n_s3(ConvexAuthStateLastEffect, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c2 = ConvexAuthStateLastEffect;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"ConvexProviderWithAuth\");\n$RefreshReg$(_c1, \"ConvexAuthStateFirstEffect\");\n$RefreshReg$(_c2, \"ConvexAuthStateLastEffect\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvQ29udmV4QXV0aFN0YXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQU1PO0FBRXdCO0FBc0IvQixNQUFNLGtDQUFvQixvREFBYSxDQUFrQixNQUFnQjtBQVlsRSxTQUFTLGdCQUdkOztJQUNBLE1BQU0sY0FBYyxpREFBVSxDQUFDLGlCQUFpQjtJQUNoRCxJQUFJLGdCQUFnQixRQUFXO1FBQzdCLE1BQU0sSUFBSSxNQUNSO0lBTUo7SUFDQSxPQUFPO0FBQ1Q7O0FBaUJPLGdDQUFnQyxLQUl2QyxFQVVHO1VBYkQsVUFDQSxRQUNBLFNBQ0Y7O0lBV0UsTUFBTSxFQUNKLFdBQVcscUJBQ1gsaUJBQWlCLDJCQUNqQixrQkFDRixHQUFJLFFBQVE7SUFDWixNQUFNLENBQUMsdUJBQXVCLHdCQUF3QixJQUFJLCtDQUFRLENBRWhFLElBQUk7SUFNTixJQUFJLHVCQUF1QiwwQkFBMEIsTUFBTTtRQUN6RCx5QkFBeUIsSUFBSTtJQUMvQjtJQUdBLElBQ0UsQ0FBQyx1QkFDRCxDQUFDLDZCQUNELDBCQUEwQixPQUMxQjtRQUNBLHlCQUF5QixLQUFLO0lBQ2hDO0lBRUEsT0FDRSwrRUFBQyxrQkFBa0IsVUFBbEI7UUFDQyxPQUFPO1lBQ0wsV0FBVywwQkFBMEI7WUFDckMsaUJBQ0UsbUdBQThCLHdCQUF5QjtRQUMzRDtJQUFBLEdBRUEsK0VBQUM7UUFDQztRQUNBO1FBQ0E7UUFDQTtRQUNBO0lBQUEsSUFFRiwrRUFBQyxzREFBYyxFQUFkO1FBQWU7SUFBQSxHQUF3QixRQUFTLEdBQ2pELCtFQUFDO1FBQ0M7UUFDQTtRQUNBO1FBQ0E7UUFDQTtJQUFBO0FBSVI7O0tBbEVnQjtBQXNFaEIseUNBTUEsRUFVRztVQWZELDJCQUNBLGtCQUNBLHFCQUNBLFFBQ0EsMEJBQ0YsR0FOb0M7O0lBaUJsQyxnREFBUztnREFBQztZQUNSLElBQUksdUJBQXVCO1lBQzNCLElBQUksMkJBQTJCO2dCQUM3QixPQUFPLFFBQVE7NERBQWtCLENBQUM7d0JBQ2hDLElBQUksc0JBQXNCOzRCQUN4Qjt3RUFBeUIsSUFBTSw2QkFBNkI7O3dCQUM5RDtvQkFDRixDQUFDOztnQkFDRDs0REFBTzt3QkFDTCx1QkFBdUI7d0JBSXZCO29FQUF5QixDQUFDLHdCQUN4Qix3QkFBd0IsUUFBUTs7b0JBRXBDOztZQUNGO1FBQ0Y7K0NBQUc7UUFDRDtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDRCxPQUFPO0FBQ1Q7O01BM0NTO0FBZ0RULHdDQU1BO1VBTEUsMkJBQ0Esa0JBQ0EscUJBQ0EsUUFDQSwwQkFDRixFQVVHLENBaEJnQzs7SUFpQmpDLGdEQUFTOytDQUFDO1lBRVIsSUFBSSwyQkFBMkI7Z0JBQzdCOzJEQUFPO3dCQUNMLE9BQU8sVUFBVTt3QkFPakI7bUVBQXlCLElBQU0sSUFBSTs7b0JBQ3JDOztZQUNGO1FBQ0Y7OENBQUc7UUFDRDtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDRCxPQUFPO0FBQ1Q7O01BdkNTIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3NyYy9yZWFjdC9Db252ZXhBdXRoU3RhdGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwge1xuICBjcmVhdGVDb250ZXh0LFxuICBSZWFjdE5vZGUsXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlU3RhdGUsXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQXV0aFRva2VuRmV0Y2hlciB9IGZyb20gXCIuLi9icm93c2VyL3N5bmMvY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBDb252ZXhQcm92aWRlciB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuXG4vLyBVbnRpbCB3ZSBjYW4gaW1wb3J0IGZyb20gb3VyIG93biBlbnRyeSBwb2ludHMgKHJlcXVpcmVzIFR5cGVTY3JpcHQgNC43KSxcbi8vIGp1c3QgZGVzY3JpYmUgdGhlIGludGVyZmFjZSBlbm91Z2ggdG8gaGVscCB1c2VycyBwYXNzIHRoZSByaWdodCB0eXBlLlxudHlwZSBJQ29udmV4UmVhY3RDbGllbnQgPSB7XG4gIHNldEF1dGgoXG4gICAgZmV0Y2hUb2tlbjogQXV0aFRva2VuRmV0Y2hlcixcbiAgICBvbkNoYW5nZTogKGlzQXV0aGVudGljYXRlZDogYm9vbGVhbikgPT4gdm9pZCxcbiAgKTogdm9pZDtcbiAgY2xlYXJBdXRoKCk6IHZvaWQ7XG59O1xuXG4vKipcbiAqIFR5cGUgcmVwcmVzZW50aW5nIHRoZSBzdGF0ZSBvZiBhbiBhdXRoIGludGVncmF0aW9uIHdpdGggQ29udmV4LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQ29udmV4QXV0aFN0YXRlID0ge1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbn07XG5cbmNvbnN0IENvbnZleEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxDb252ZXhBdXRoU3RhdGU+KHVuZGVmaW5lZCBhcyBhbnkpO1xuXG4vKipcbiAqIEdldCB0aGUge0BsaW5rIENvbnZleEF1dGhTdGF0ZX0gd2l0aGluIGEgUmVhY3QgY29tcG9uZW50LlxuICpcbiAqIFRoaXMgcmVsaWVzIG9uIGEgQ29udmV4IGF1dGggaW50ZWdyYXRpb24gcHJvdmlkZXIgYmVpbmcgYWJvdmUgaW4gdGhlIFJlYWN0XG4gKiBjb21wb25lbnQgdHJlZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgY3VycmVudCB7QGxpbmsgQ29udmV4QXV0aFN0YXRlfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb252ZXhBdXRoKCk6IHtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG59IHtcbiAgY29uc3QgYXV0aENvbnRleHQgPSB1c2VDb250ZXh0KENvbnZleEF1dGhDb250ZXh0KTtcbiAgaWYgKGF1dGhDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGBDb252ZXhQcm92aWRlcldpdGhBdXRoYCAob3IgYENvbnZleFByb3ZpZGVyV2l0aENsZXJrYCBcIiArXG4gICAgICAgIFwib3IgYENvbnZleFByb3ZpZGVyV2l0aEF1dGgwYCkgXCIgK1xuICAgICAgICBcImFzIGFuIGFuY2VzdG9yIGNvbXBvbmVudC4gVGhpcyBjb21wb25lbnQgbWF5IGJlIG1pc3NpbmcsIG9yIHlvdSBcIiArXG4gICAgICAgIFwibWlnaHQgaGF2ZSB0d28gaW5zdGFuY2VzIG9mIHRoZSBgY29udmV4L3JlYWN0YCBtb2R1bGUgbG9hZGVkIGluIHlvdXIgXCIgK1xuICAgICAgICBcInByb2plY3QuXCIsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gYXV0aENvbnRleHQ7XG59XG5cbi8qKlxuICogQSByZXBsYWNlbWVudCBmb3Ige0BsaW5rIENvbnZleFByb3ZpZGVyfSB3aGljaCBhZGRpdGlvbmFsbHkgcHJvdmlkZXNcbiAqIHtAbGluayBDb252ZXhBdXRoU3RhdGV9IHRvIGRlc2NlbmRhbnRzIG9mIHRoaXMgY29tcG9uZW50LlxuICpcbiAqIFVzZSB0aGlzIHRvIGludGVncmF0ZSBhbnkgYXV0aCBwcm92aWRlciB3aXRoIENvbnZleC4gVGhlIGB1c2VBdXRoYCBwcm9wXG4gKiBzaG91bGQgYmUgYSBSZWFjdCBob29rIHRoYXQgcmV0dXJucyB0aGUgcHJvdmlkZXIncyBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICogYW5kIGEgZnVuY3Rpb24gdG8gZmV0Y2ggYSBKV1QgYWNjZXNzIHRva2VuLlxuICpcbiAqIElmIHRoZSBgdXNlQXV0aGAgcHJvcCBmdW5jdGlvbiB1cGRhdGVzIGNhdXNpbmcgYSByZXJlbmRlciB0aGVuIGF1dGggc3RhdGVcbiAqIHdpbGwgdHJhbnNpdGlvbiB0byBsb2FkaW5nIGFuZCB0aGUgYGZldGNoQWNjZXNzVG9rZW4oKWAgZnVuY3Rpb24gY2FsbGVkIGFnYWluLlxuICpcbiAqIFNlZSBbQ3VzdG9tIEF1dGggSW50ZWdyYXRpb25dKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2F1dGgvYWR2YW5jZWQvY3VzdG9tLWF1dGgpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENvbnZleFByb3ZpZGVyV2l0aEF1dGgoe1xuICBjaGlsZHJlbixcbiAgY2xpZW50LFxuICB1c2VBdXRoLFxufToge1xuICBjaGlsZHJlbj86IFJlYWN0Tm9kZTtcbiAgY2xpZW50OiBJQ29udmV4UmVhY3RDbGllbnQ7XG4gIHVzZUF1dGg6ICgpID0+IHtcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gICAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xuICAgIGZldGNoQWNjZXNzVG9rZW46IChhcmdzOiB7XG4gICAgICBmb3JjZVJlZnJlc2hUb2tlbjogYm9vbGVhbjtcbiAgICB9KSA9PiBQcm9taXNlPHN0cmluZyB8IG51bGw+O1xuICB9O1xufSkge1xuICBjb25zdCB7XG4gICAgaXNMb2FkaW5nOiBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgIGlzQXV0aGVudGljYXRlZDogYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgICBmZXRjaEFjY2Vzc1Rva2VuLFxuICB9ID0gdXNlQXV0aCgpO1xuICBjb25zdCBbaXNDb252ZXhBdXRoZW50aWNhdGVkLCBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRdID0gdXNlU3RhdGU8XG4gICAgYm9vbGVhbiB8IG51bGxcbiAgPihudWxsKTtcblxuICAvLyBJZiB0aGUgdXNlQXV0aCB3ZW50IGJhY2sgdG8gdGhlIGF1dGhQcm92aWRlckxvYWRpbmcgc3RhdGUgKHdoaWNoIGlzIHVudXN1YWwgYnV0IHBvc3NpYmxlKVxuICAvLyByZXNldCB0aGUgQ29udmV4IGF1dGggc3RhdGUgdG8gbnVsbCBzbyB0aGF0IHdlIGNhbiBjb3JyZWN0bHlcbiAgLy8gdHJhbnNpdGlvbiB0aGUgc3RhdGUgZnJvbSBcImxvYWRpbmdcIiB0byBcImF1dGhlbnRpY2F0ZWRcIlxuICAvLyB3aXRob3V0IGdvaW5nIHRocm91Z2ggXCJ1bmF1dGhlbnRpY2F0ZWRcIi5cbiAgaWYgKGF1dGhQcm92aWRlckxvYWRpbmcgJiYgaXNDb252ZXhBdXRoZW50aWNhdGVkICE9PSBudWxsKSB7XG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKG51bGwpO1xuICB9XG5cbiAgLy8gSWYgdGhlIHVzZUF1dGggZ29lcyB0byBub3QgYXV0aGVudGljYXRlZCB0aGVuIGlzQ29udmV4QXV0aGVudGljYXRlZCBzaG91bGQgcmVmbGVjdCB0aGF0LlxuICBpZiAoXG4gICAgIWF1dGhQcm92aWRlckxvYWRpbmcgJiZcbiAgICAhYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCAmJlxuICAgIGlzQ29udmV4QXV0aGVudGljYXRlZCAhPT0gZmFsc2VcbiAgKSB7XG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbnZleEF1dGhDb250ZXh0LlByb3ZpZGVyXG4gICAgICB2YWx1ZT17e1xuICAgICAgICBpc0xvYWRpbmc6IGlzQ29udmV4QXV0aGVudGljYXRlZCA9PT0gbnVsbCxcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOlxuICAgICAgICAgIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQgJiYgKGlzQ29udmV4QXV0aGVudGljYXRlZCA/PyBmYWxzZSksXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxDb252ZXhBdXRoU3RhdGVGaXJzdEVmZmVjdFxuICAgICAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkPXthdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkfVxuICAgICAgICBmZXRjaEFjY2Vzc1Rva2VuPXtmZXRjaEFjY2Vzc1Rva2VufVxuICAgICAgICBhdXRoUHJvdmlkZXJMb2FkaW5nPXthdXRoUHJvdmlkZXJMb2FkaW5nfVxuICAgICAgICBjbGllbnQ9e2NsaWVudH1cbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkPXtzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWR9XG4gICAgICAvPlxuICAgICAgPENvbnZleFByb3ZpZGVyIGNsaWVudD17Y2xpZW50IGFzIGFueX0+e2NoaWxkcmVufTwvQ29udmV4UHJvdmlkZXI+XG4gICAgICA8Q29udmV4QXV0aFN0YXRlTGFzdEVmZmVjdFxuICAgICAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkPXthdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkfVxuICAgICAgICBmZXRjaEFjY2Vzc1Rva2VuPXtmZXRjaEFjY2Vzc1Rva2VufVxuICAgICAgICBhdXRoUHJvdmlkZXJMb2FkaW5nPXthdXRoUHJvdmlkZXJMb2FkaW5nfVxuICAgICAgICBjbGllbnQ9e2NsaWVudH1cbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkPXtzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWR9XG4gICAgICAvPlxuICAgIDwvQ29udmV4QXV0aENvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59XG5cbi8vIEZpcnN0IGNoaWxkIGVuc3VyZXMgd2UgYHNldEF1dGhgIGJlZm9yZVxuLy8gb3RoZXIgY2hpbGQgY29tcG9uZW50cyBzdWJzY3JpYmUgdG8gcXVlcmllcyB2aWEgYHVzZUVmZmVjdGAuXG5mdW5jdGlvbiBDb252ZXhBdXRoU3RhdGVGaXJzdEVmZmVjdCh7XG4gIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQsXG4gIGZldGNoQWNjZXNzVG9rZW4sXG4gIGF1dGhQcm92aWRlckxvYWRpbmcsXG4gIGNsaWVudCxcbiAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkLFxufToge1xuICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkOiBib29sZWFuO1xuICBmZXRjaEFjY2Vzc1Rva2VuOiAoYXJnczoge1xuICAgIGZvcmNlUmVmcmVzaFRva2VuOiBib29sZWFuO1xuICB9KSA9PiBQcm9taXNlPHN0cmluZyB8IG51bGw+O1xuICBhdXRoUHJvdmlkZXJMb2FkaW5nOiBib29sZWFuO1xuICBjbGllbnQ6IElDb252ZXhSZWFjdENsaWVudDtcbiAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkOiBSZWFjdC5EaXNwYXRjaDxcbiAgICBSZWFjdC5TZXRTdGF0ZUFjdGlvbjxib29sZWFuIHwgbnVsbD5cbiAgPjtcbn0pIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNUaGlzRWZmZWN0UmVsZXZhbnQgPSB0cnVlO1xuICAgIGlmIChhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkKSB7XG4gICAgICBjbGllbnQuc2V0QXV0aChmZXRjaEFjY2Vzc1Rva2VuLCAoYmFja2VuZFJlcG9ydHNJc0F1dGhlbnRpY2F0ZWQpID0+IHtcbiAgICAgICAgaWYgKGlzVGhpc0VmZmVjdFJlbGV2YW50KSB7XG4gICAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKCgpID0+IGJhY2tlbmRSZXBvcnRzSXNBdXRoZW50aWNhdGVkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpc1RoaXNFZmZlY3RSZWxldmFudCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIElmIHVubW91bnRpbmcgb3Igc29tZXRoaW5nIGNoYW5nZWQgYmVmb3JlIHdlIGZpbmlzaGVkIGZldGNoaW5nIHRoZSB0b2tlblxuICAgICAgICAvLyB3ZSBzaG91bGRuJ3QgdHJhbnNpdGlvbiB0byBhIGxvYWRlZCBzdGF0ZS5cbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKChpc0NvbnZleEF1dGhlbnRpY2F0ZWQpID0+XG4gICAgICAgICAgaXNDb252ZXhBdXRoZW50aWNhdGVkID8gZmFsc2UgOiBudWxsLFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtcbiAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgIGZldGNoQWNjZXNzVG9rZW4sXG4gICAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgICBjbGllbnQsXG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkLFxuICBdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIExhc3QgY2hpbGQgZW5zdXJlcyB3ZSBgY2xlYXJBdXRoYCBsYXN0LFxuLy8gc28gdGhhdCBxdWVyaWVzIGZyb20gdW5tb3VudGVkIHNpYmxpbmcgY29tcG9uZW50c1xuLy8gdW5zdWJzY3JpYmUgZmlyc3QgYW5kIGRvbid0IHJlcnVuIHdpdGhvdXQgYXV0aCBvbiB0aGUgc2VydmVyXG5mdW5jdGlvbiBDb252ZXhBdXRoU3RhdGVMYXN0RWZmZWN0KHtcbiAgYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgY2xpZW50LFxuICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQsXG59OiB7XG4gIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XG4gIGZldGNoQWNjZXNzVG9rZW46IChhcmdzOiB7XG4gICAgZm9yY2VSZWZyZXNoVG9rZW46IGJvb2xlYW47XG4gIH0pID0+IFByb21pc2U8c3RyaW5nIHwgbnVsbD47XG4gIGF1dGhQcm92aWRlckxvYWRpbmc6IGJvb2xlYW47XG4gIGNsaWVudDogSUNvbnZleFJlYWN0Q2xpZW50O1xuICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQ6IFJlYWN0LkRpc3BhdGNoPFxuICAgIFJlYWN0LlNldFN0YXRlQWN0aW9uPGJvb2xlYW4gfCBudWxsPlxuICA+O1xufSkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIElmIHJlbmRlcmVkIHdpdGggYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZD10cnVlIHRoZW4gY2xlYXIgdGhhdCBhdXRoIG9uIGluIGNsZWFudXAuXG4gICAgaWYgKGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsaWVudC5jbGVhckF1dGgoKTtcbiAgICAgICAgLy8gU2V0IHN0YXRlIGJhY2sgdG8gbG9hZGluZyBpbiBjYXNlIHRoaXMgaXMgYSB0cmFuc2l0aW9uIGZyb20gb25lXG4gICAgICAgIC8vIGZldGNoVG9rZW4gZnVuY3Rpb24gdG8gYW5vdGhlciB3aGljaCBzaWduYWxzIGEgbmV3IGF1dGggY29udGV4dCxcbiAgICAgICAgLy8gZS5nLiBhIG5ldyBvcmdJZCBmcm9tIENsZXJrLiBBdXRoIGNvbnRleHQgY2hhbmdlcyBsaWtlIHRoaXNcbiAgICAgICAgLy8gcmV0dXJuIGlzQXV0aGVudGljYXRlZDogdHJ1ZSBmcm9tIHVzZUF1dGgoKSBidXQgaWZcbiAgICAgICAgLy8gdXNlQXV0aCByZXBvcnRzIGlzQXV0aGVudGljYXRlZDogZmFsc2Ugb24gdGhlIG5leHQgcmVuZGVyXG4gICAgICAgIC8vIHRoZW4gdGhpcyBudWxsIHZhbHVlIHdpbGwgYmUgb3ZlcnJpZGRlbiB0byBmYWxzZS5cbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkKCgpID0+IG51bGwpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtcbiAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgIGZldGNoQWNjZXNzVG9rZW4sXG4gICAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgICBjbGllbnQsXG4gICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkLFxuICBdKTtcbiAgcmV0dXJuIG51bGw7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/auth_helpers.js":
/*!************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/auth_helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* binding */ AuthLoading),\n/* harmony export */   Authenticated: () => (/* binding */ Authenticated),\n/* harmony export */   Unauthenticated: () => (/* binding */ Unauthenticated)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\"use strict\";\n\n\nfunction Authenticated(param) {\n    let { children } = param;\n    _s();\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || !isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\n_s(Authenticated, \"5GGv9MEKRHHdPWj3ryepReKJmLE=\", false, function() {\n    return [\n        _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth\n    ];\n});\n_c = Authenticated;\nfunction Unauthenticated(param) {\n    let { children } = param;\n    _s1();\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\n_s1(Unauthenticated, \"5GGv9MEKRHHdPWj3ryepReKJmLE=\", false, function() {\n    return [\n        _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth\n    ];\n});\n_c1 = Unauthenticated;\nfunction AuthLoading(param) {\n    let { children } = param;\n    _s2();\n    const { isLoading } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (!isLoading) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n} //# sourceMappingURL=auth_helpers.js.map\n_s2(AuthLoading, \"T4P/uFnMPA7P+2KU5NWFLnzfLbw=\", false, function() {\n    return [\n        _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth\n    ];\n});\n_c2 = AuthLoading;\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Authenticated\");\n$RefreshReg$(_c1, \"Unauthenticated\");\n$RefreshReg$(_c2, \"AuthLoading\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvYXV0aF9oZWxwZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBa0I7QUFFWTtBQU92Qiw0QkFBa0M7VUFBVCxTQUFTLEdBQTRCLENBQXZDOztJQUM1QixNQUFNLEVBQUUsV0FBVyxnQkFBZ0I7SUFDbkMsSUFBSSxhQUFhLENBQUMsaUJBQWlCO1FBQ2pDLE9BQU87SUFDVDtJQUNBLE9BQU8sa0lBQUcsUUFBUztBQUNyQjs7O1FBTHlDLDhEQUFhOzs7S0FEdEM7QUFhVCw4QkFBb0M7VUFBVCxTQUFTLEdBQTRCLENBQXZDOztJQUM5QixNQUFNLEVBQUUsV0FBVyxnQkFBZ0I7SUFDbkMsSUFBSSxhQUFhLGlCQUFpQjtRQUNoQyxPQUFPO0lBQ1Q7SUFDQSxPQUFPLGtJQUFHLFFBQVM7QUFDckI7OztRQUx5Qyw4REFBYTs7O01BRHRDO0FBY1QsMEJBQWdDLEVBQTRCO1FBQXZDLEVBQUUsU0FBUzs7SUFDckMsTUFBTSxFQUFFLFVBQVU7SUFDbEIsSUFBSSxDQUFDLFdBQVc7UUFDZCxPQUFPO0lBQ1Q7SUFDQSxPQUFPLGtJQUFHLFFBQVM7QUFDckI7OztRQUx3Qiw4REFBYTs7O01BRHJCIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3NyYy9yZWFjdC9hdXRoX2hlbHBlcnMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udmV4QXV0aCB9IGZyb20gXCIuL0NvbnZleEF1dGhTdGF0ZS5qc1wiO1xuXG4vKipcbiAqIFJlbmRlcnMgY2hpbGRyZW4gaWYgdGhlIGNsaWVudCBpcyBhdXRoZW50aWNhdGVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEF1dGhlbnRpY2F0ZWQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xuICBjb25zdCB7IGlzTG9hZGluZywgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VDb252ZXhBdXRoKCk7XG4gIGlmIChpc0xvYWRpbmcgfHwgIWlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiA8PntjaGlsZHJlbn08Lz47XG59XG5cbi8qKlxuICogUmVuZGVycyBjaGlsZHJlbiBpZiB0aGUgY2xpZW50IGlzIHVzaW5nIGF1dGhlbnRpY2F0aW9uIGJ1dCBpcyBub3QgYXV0aGVudGljYXRlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBVbmF1dGhlbnRpY2F0ZWQoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xuICBjb25zdCB7IGlzTG9hZGluZywgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VDb252ZXhBdXRoKCk7XG4gIGlmIChpc0xvYWRpbmcgfHwgaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIGNoaWxkcmVuIGlmIHRoZSBjbGllbnQgaXNuJ3QgdXNpbmcgYXV0aGVudGljYXRpb24gb3IgaXMgaW4gdGhlIHByb2Nlc3NcbiAqIG9mIGF1dGhlbnRpY2F0aW5nLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEF1dGhMb2FkaW5nKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcgfSA9IHVzZUNvbnZleEF1dGgoKTtcbiAgaWYgKCFpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/auth_helpers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/client.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProvider: () => (/* binding */ ConvexProvider),\n/* harmony export */   ConvexReactClient: () => (/* binding */ ConvexReactClient),\n/* harmony export */   createMutation: () => (/* binding */ createMutation),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useConvex: () => (/* binding */ useConvex),\n/* harmony export */   useConvexConnectionState: () => (/* binding */ useConvexConnectionState),\n/* harmony export */   useMutation: () => (/* binding */ useMutation),\n/* harmony export */   useQuery: () => (/* binding */ useQuery)\n/* harmony export */ });\n/* harmony import */ var _browser_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_queries.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use_subscription.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _browser_logging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../browser/logging.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _browser_sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../browser/sync/paginated_query_client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\n\nconst DEFAULT_EXTEND_SUBSCRIPTION_FOR = 5e3;\nif (typeof react__WEBPACK_IMPORTED_MODULE_1__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react' not found\");\n}\nfunction createMutation(mutationReference, client, update) {\n    function mutation(args) {\n        assertNotAccidentalArgument(args);\n        return client.mutation(mutationReference, args, {\n            optimisticUpdate: update\n        });\n    }\n    mutation.withOptimisticUpdate = function withOptimisticUpdate(optimisticUpdate) {\n        if (update !== void 0) {\n            throw new Error(\"Already specified optimistic update for mutation \".concat((0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)));\n        }\n        return createMutation(mutationReference, client, optimisticUpdate);\n    };\n    return mutation;\n}\nfunction createAction(actionReference, client) {\n    return function(args) {\n        return client.action(actionReference, args);\n    };\n}\nclass ConvexReactClient {\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * Lazily instantiate the `BaseConvexClient` so we don't create the WebSocket\n   * when server-side rendering.\n   *\n   * @internal\n   */ get sync() {\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            return this.cachedSync;\n        }\n        this.cachedSync = new _browser_index_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient(this.address, ()=>{}, // Use the PaginatedQueryClient's transition instead.\n        this.options);\n        if (this.adminAuth) {\n            this.cachedSync.setAdminAuth(this.adminAuth, this.fakeUserIdentity);\n        }\n        this.cachedPaginatedQueryClient = new _browser_sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_8__.PaginatedQueryClient(this.cachedSync, (transition)=>this.handleTransition(transition));\n        return this.cachedSync;\n    }\n    /**\n   * Lazily instantiate the `PaginatedQueryClient` so we don't create it\n   * when server-side rendering.\n   *\n   * @internal\n   */ get paginatedQueryClient() {\n        this.sync;\n        if (this.cachedPaginatedQueryClient) {\n            return this.cachedPaginatedQueryClient;\n        }\n        throw new Error(\"Should already be instantiated\");\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (typeof fetchToken === \"string\") {\n            throw new Error(\"Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.\");\n        }\n        this.sync.setAuth(fetchToken, onChange !== null && onChange !== void 0 ? onChange : ()=>{});\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.sync.clearAuth();\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        this.adminAuth = token;\n        this.fakeUserIdentity = identity;\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            this.sync.setAdminAuth(token, identity);\n        }\n    }\n    /**\n   * Construct a new {@link Watch} on a Convex query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link useQuery} hook.**\n   *\n   * The act of creating a watch does nothing, a Watch is stateless.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchQueryOptions} options object for this query.\n   *\n   * @returns The {@link Watch} object.\n   */ watchQuery(query) {\n        for(var _len = arguments.length, argsAndOptions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            argsAndOptions[_key - 1] = arguments[_key];\n        }\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { queryToken, unsubscribe } = this.sync.subscribe(name, args, options);\n                const currentListeners = this.listeners.get(queryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(queryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(queryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(queryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryResult(name, args);\n                }\n                return void 0;\n            },\n            localQueryLogs: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryLogs(name, args);\n                }\n                return void 0;\n            },\n            journal: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.queryJournal(name, args);\n                }\n                return void 0;\n            }\n        };\n    }\n    // Let's try out a queryOptions-style API.\n    // This method is similar to the React Query API `queryClient.prefetchQuery()`.\n    // In the future an ensureQueryData(): Promise<Data> method could exist.\n    /**\n   * Indicates likely future interest in a query subscription.\n   *\n   * The implementation currently immediately subscribes to a query. In the future this method\n   * may prioritize some queries over others, fetch the query result without subscribing, or\n   * do nothing in slow network connections or high load scenarios.\n   *\n   * To use this in a React component, call useQuery() and ignore the return value.\n   *\n   * @param queryOptions - A query (function reference from an api object) and its args, plus\n   * an optional extendSubscriptionFor for how long to subscribe to the query.\n   */ prewarmQuery(queryOptions) {\n        var _queryOptions_extendSubscriptionFor;\n        const extendSubscriptionFor = (_queryOptions_extendSubscriptionFor = queryOptions.extendSubscriptionFor) !== null && _queryOptions_extendSubscriptionFor !== void 0 ? _queryOptions_extendSubscriptionFor : DEFAULT_EXTEND_SUBSCRIPTION_FOR;\n        const watch = this.watchQuery(queryOptions.query, queryOptions.args || {});\n        const unsubscribe = watch.onUpdate(()=>{});\n        setTimeout(unsubscribe, extendSubscriptionFor);\n    }\n    /**\n   * Construct a new {@link PaginatedWatch} on a Convex paginated query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link usePaginatedQuery} hook.**\n   *\n   * The act of creating a watch does nothing, a Watch is stateless.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchPaginatedQueryOptions} options object for this query.\n   *\n   * @returns The {@link PaginatedWatch} object.\n   *\n   * @internal\n   */ watchPaginatedQuery(query, args, options) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { paginatedQueryToken, unsubscribe } = this.paginatedQueryClient.subscribe(name, args || {}, options);\n                const currentListeners = this.listeners.get(paginatedQueryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(paginatedQueryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(paginatedQueryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(paginatedQueryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                return this.paginatedQueryClient.localQueryResult(name, args, options);\n            }\n        };\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ mutation(mutation) {\n        for(var _len = arguments.length, argsAndOptions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            argsAndOptions[_key - 1] = arguments[_key];\n        }\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutation);\n        return this.sync.mutation(name, args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ action(action) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(action);\n        return this.sync.action(name, ...args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * **Most application code should subscribe to queries instead, using\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ query(query) {\n        for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n            args[_key - 1] = arguments[_key];\n        }\n        const watch = this.watchQuery(query, ...args);\n        const existingResult = watch.localQueryResult();\n        if (existingResult !== void 0) {\n            return Promise.resolve(existingResult);\n        }\n        return new Promise((resolve, reject)=>{\n            const unsubscribe = watch.onUpdate(()=>{\n                unsubscribe();\n                try {\n                    resolve(watch.localQueryResult());\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return this.sync.connectionState();\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   * ConnectionState may also *lose* properties in future versions as we figure\n   * out what information is most useful. As such this API is considered unstable.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        return this.sync.subscribeToConnectionState(cb);\n    }\n    /**\n   * Get the logger for this client.\n   *\n   * @returns The {@link Logger} for this client.\n   */ get logger() {\n        return this._logger;\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with a {@link ConvexReactClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.closed = true;\n        this.listeners = /* @__PURE__ */ new Map();\n        if (this.cachedPaginatedQueryClient) {\n            this.cachedPaginatedQueryClient = void 0;\n        }\n        if (this.cachedSync) {\n            const sync = this.cachedSync;\n            this.cachedSync = void 0;\n            await sync.close();\n        }\n    }\n    /**\n   * Handle transitions from both base client and paginated client.\n   * This ensures all transitions are processed synchronously and in order.\n   */ handleTransition(transition) {\n        const simple = transition.queries.map((q)=>q.token);\n        const paginated = transition.paginatedQueries.map((q)=>q.token);\n        this.transition([\n            ...simple,\n            ...paginated\n        ]);\n    }\n    transition(updatedQueries) {\n        for (const queryToken of updatedQueries){\n            const callbacks = this.listeners.get(queryToken);\n            if (callbacks) {\n                for (const callback of callbacks){\n                    callback();\n                }\n            }\n        }\n    }\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - See {@link ConvexReactClientOptions} for a full description.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"cachedSync\");\n        __publicField(this, \"cachedPaginatedQueryClient\");\n        __publicField(this, \"listeners\");\n        __publicField(this, \"options\");\n        // \"closed\" means this client is done, not just that the underlying WS connection is closed.\n        __publicField(this, \"closed\", false);\n        __publicField(this, \"_logger\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"fakeUserIdentity\");\n        if (address === void 0) {\n            throw new Error(\"No address provided to ConvexReactClient.\\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.\");\n        }\n        if (typeof address !== \"string\") {\n            throw new Error(\"ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type \".concat(typeof address, \" instead.\"));\n        }\n        if (!address.includes(\"://\")) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        this.address = address;\n        this.listeners = /* @__PURE__ */ new Map();\n        var _options_verbose, _options_verbose1;\n        this._logger = (options === null || options === void 0 ? void 0 : options.logger) === false ? (0,_browser_logging_js__WEBPACK_IMPORTED_MODULE_7__.instantiateNoopLogger)({\n            verbose: (_options_verbose = options === null || options === void 0 ? void 0 : options.verbose) !== null && _options_verbose !== void 0 ? _options_verbose : false\n        }) : (options === null || options === void 0 ? void 0 : options.logger) !== true && (options === null || options === void 0 ? void 0 : options.logger) ? options.logger : (0,_browser_logging_js__WEBPACK_IMPORTED_MODULE_7__.instantiateDefaultLogger)({\n            verbose: (_options_verbose1 = options === null || options === void 0 ? void 0 : options.verbose) !== null && _options_verbose1 !== void 0 ? _options_verbose1 : false\n        });\n        this.options = {\n            ...options,\n            logger: this._logger\n        };\n    }\n}\nconst ConvexContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction useConvex() {\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n}\n_s(useConvex, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst ConvexProvider = (param)=>{\n    let { client, children } = param;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(ConvexContext.Provider, {\n        value: client\n    }, children);\n};\n_c = ConvexProvider;\nfunction useQuery(query) {\n    for(var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++){\n        args[_key - 1] = arguments[_key];\n    }\n    _s1();\n    const skip = args[0] === \"skip\";\n    const argsObject = args[0] === \"skip\" ? {} : (0,_common_index_js__WEBPACK_IMPORTED_MODULE_5__.parseArgs)(args[0]);\n    const queryReference = typeof query === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(query) : query;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(queryReference);\n    const queries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"useQuery.useMemo[queries]\": ()=>skip ? {} : {\n                query: {\n                    query: queryReference,\n                    args: argsObject\n                }\n            }\n    }[\"useQuery.useMemo[queries]\"], // Stringify args so args that are semantically the same don't trigger a\n    // rerender. Saves developers from adding `useMemo` on every args usage.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)),\n        queryName,\n        skip\n    ]);\n    const results = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries)(queries);\n    const result = results[\"query\"];\n    if (result instanceof Error) {\n        throw result;\n    }\n    return result;\n}\n_s1(useQuery, \"z7Sb6nP071RXggrUdLnaFm4g4u4=\", false, function() {\n    return [\n        _use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries\n    ];\n});\nfunction useMutation(mutation) {\n    _s2();\n    const mutationReference = typeof mutation === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(mutation) : mutation;\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"useMutation.useMemo\": ()=>createMutation(mutationReference, convex)\n    }[\"useMutation.useMemo\"], // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)\n    ]);\n}\n_s2(useMutation, \"5RcZ9S4PUI16Le2vh+CFvwKfMsk=\");\nfunction useAction(action) {\n    _s3();\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    const actionReference = typeof action === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(action) : action;\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"useAction.useMemo\": ()=>createAction(actionReference, convex)\n    }[\"useAction.useMemo\"], // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(actionReference)\n    ]);\n}\n_s3(useAction, \"5RcZ9S4PUI16Le2vh+CFvwKfMsk=\");\nfunction useConvexConnectionState() {\n    _s4();\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useConvexConnectionState` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const getCurrentValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useConvexConnectionState.useCallback[getCurrentValue]\": ()=>{\n            return convex.connectionState();\n        }\n    }[\"useConvexConnectionState.useCallback[getCurrentValue]\"], [\n        convex\n    ]);\n    const subscribe = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useConvexConnectionState.useCallback[subscribe]\": (callback)=>{\n            return convex.subscribeToConnectionState({\n                \"useConvexConnectionState.useCallback[subscribe]\": ()=>{\n                    callback();\n                }\n            }[\"useConvexConnectionState.useCallback[subscribe]\"]);\n        }\n    }[\"useConvexConnectionState.useCallback[subscribe]\"], [\n        convex\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_4__.useSubscription)({\n        getCurrentValue,\n        subscribe\n    });\n}\n_s4(useConvexConnectionState, \"G7ychVjTKwQNOpeDRR9ERhCMf8E=\", false, function() {\n    return [\n        _use_subscription_js__WEBPACK_IMPORTED_MODULE_4__.useSubscription\n    ];\n});\nfunction assertNotAccidentalArgument(value) {\n    if (typeof value === \"object\" && value !== null && \"bubbles\" in value && \"persist\" in value && \"isDefaultPrevented\" in value) {\n        throw new Error(\"Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.\");\n    }\n} //# sourceMappingURL=client.js.map\nvar _c;\n$RefreshReg$(_c, \"ConvexProvider\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFpQztBQU91QjtBQUNwQjtBQVFVO0FBQ2Q7QUFDTjtBQVNuQjtBQU1BO0FBTUE7QUFJUCxNQUFNLGtDQUFrQztBQUV4QyxJQUFJLE9BQU8sa0NBQUssS0FBSyxhQUFhO0lBQ2hDLE1BQU0sSUFBSSxNQUFNLHVDQUF1QztBQUN6RDtBQWdETyxTQUFTLGVBQ2QsbUJBQ0EsUUFDQSxRQUNvQjtJQUNwQixTQUFTLFNBQVMsTUFBZ0Q7UUFDaEUsNEJBQTRCLElBQUk7UUFFaEMsT0FBTyxPQUFPLFNBQVMsbUJBQW1CLE1BQU07WUFDOUMsa0JBQWtCO1FBQ3BCLENBQUM7SUFDSDtJQUNBLFNBQVMsdUJBQXVCLFNBQVMscUJBQ3ZDLGtCQUNvQjtRQUNwQixJQUFJLFdBQVcsUUFBVztZQUN4QixNQUFNLElBQUksTUFDUixvREFFQyxPQUZtRCwrREFBZSxDQUNqRTtRQUdOO1FBQ0EsT0FBTyxlQUFlLG1CQUFtQixRQUFRLGdCQUFnQjtJQUNuRTtJQUNBLE9BQU87QUFDVDtBQWtCQSxTQUFTLGFBQ1AsaUJBQ0EsUUFDa0I7SUFDbEIsT0FBTyxTQUFVLE1BQWdEO1FBQy9ELE9BQU8sT0FBTyxPQUFPLGlCQUFpQixJQUFJO0lBQzVDO0FBQ0Y7QUF5Sk8sTUFBTSxrQkFBa0I7SUE2QzdCOzs7OztHQUFBLEdBUUEsSUFBSSxNQUFNO1FBQ1IsT0FBTyxLQUFLO0lBQ2Q7SUFBQTs7Ozs7R0FBQSxHQVFBLElBQUksT0FBTztRQUNULElBQUksS0FBSyxRQUFRO1lBQ2YsTUFBTSxJQUFJLE1BQU0sNENBQTRDO1FBQzlEO1FBQ0EsSUFBSSxLQUFLLFlBQVk7WUFDbkIsT0FBTyxLQUFLO1FBQ2Q7UUFFQSxLQUFLLGFBQWEsSUFBSSwrREFBZ0IsQ0FDcEMsS0FBSyxTQUNMLEtBQU8sQ0FBRCxF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SUFFTixJQUFJLFdBQVcsUUFBVztRQUN4QixNQUFNLElBQUksTUFDUjtJQUlKO0lBQ0EsT0FBTyw4Q0FBTzs2QkFDWixJQUFNLGFBQWEsaUJBQWlCLE1BQU07NEJBQUE7SUFFMUM7UUFBQztRQUFRLCtEQUFlLENBQUMsZUFBZSxDQUFDO0tBQUE7QUFFN0M7SUFyQmdCO0FBdUNUOztJQUNMLE1BQU0sU0FBUyxpREFBVSxDQUFDLGFBQWE7SUFDdkMsSUFBSSxXQUFXLFFBQVc7UUFDeEIsTUFBTSxJQUFJLE1BQ1I7SUFJSjtJQUVBLE1BQU0sa0JBQWtCLGtEQUFXO2lFQUFDO1lBQ2xDLE9BQU8sT0FBTyxnQkFBZ0I7UUFDaEM7Z0VBQUc7UUFBQyxNQUFNO0tBQUM7SUFFWCxNQUFNLFlBQVksa0RBQVc7MkRBQzNCLENBQUM7WUFDQyxPQUFPLE9BQU87bUVBQTJCO29CQUN2QyxTQUFTO2dCQUNYLENBQUM7O1FBQ0g7MERBQ0E7UUFBQyxNQUFNO0tBQUE7SUFHVCxPQUFPLHFFQUFlLENBQUM7UUFBRTtRQUFpQjtJQUFVLENBQUM7QUFDdkQ7SUF4QmdCLDJCQUE0Qzs7UUF1Qm5ELGlFQUFlOzs7QUFLeEIsU0FBUyw0QkFBNEIsT0FBWTtJQUcvQyxJQUNFLE9BQU8sVUFBVSxZQUNqQixVQUFVLFFBQ1YsYUFBYSxTQUNiLGFBQWEsU0FDYix3QkFBd0IsT0FDeEI7UUFDQSxNQUFNLElBQUksTUFDUjtJQUVKO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L2NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYXNlQ29udmV4Q2xpZW50IH0gZnJvbSBcIi4uL2Jyb3dzZXIvaW5kZXguanNcIjtcbmltcG9ydCB0eXBlIHtcbiAgT3B0aW1pc3RpY1VwZGF0ZSxcbiAgUGFnaW5hdGVkUXVlcnlUb2tlbixcbiAgUXVlcnlUb2tlbixcbiAgUGFnaW5hdGlvblN0YXR1cyxcbn0gZnJvbSBcIi4uL2Jyb3dzZXIvaW5kZXguanNcIjtcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uLCBWYWx1ZSB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IFF1ZXJ5Sm91cm5hbCB9IGZyb20gXCIuLi9icm93c2VyL3N5bmMvcHJvdG9jb2wuanNcIjtcbmltcG9ydCB7XG4gIEF1dGhUb2tlbkZldGNoZXIsXG4gIEJhc2VDb252ZXhDbGllbnRPcHRpb25zLFxuICBDb25uZWN0aW9uU3RhdGUsXG59IGZyb20gXCIuLi9icm93c2VyL3N5bmMvY2xpZW50LmpzXCI7XG5pbXBvcnQgdHlwZSB7IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMgfSBmcm9tIFwiLi4vYnJvd3Nlci9zeW5jL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0Rm9yUXVlcmllcywgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5pbXBvcnQgeyB1c2VTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi91c2Vfc3Vic2NyaXB0aW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFyZ3MgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBBcmdzQW5kT3B0aW9ucyxcbiAgRnVuY3Rpb25BcmdzLFxuICBGdW5jdGlvblJlZmVyZW5jZSxcbiAgRnVuY3Rpb25SZXR1cm5UeXBlLFxuICBPcHRpb25hbFJlc3RBcmdzLFxuICBnZXRGdW5jdGlvbk5hbWUsXG4gIG1ha2VGdW5jdGlvblJlZmVyZW5jZSxcbn0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IEVtcHR5T2JqZWN0IH0gZnJvbSBcIi4uL3NlcnZlci9yZWdpc3RyYXRpb24uanNcIjtcbmltcG9ydCB7XG4gIGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcixcbiAgaW5zdGFudGlhdGVOb29wTG9nZ2VyLFxuICBMb2dnZXIsXG59IGZyb20gXCIuLi9icm93c2VyL2xvZ2dpbmcuanNcIjtcbmltcG9ydCB7IENvbnZleFF1ZXJ5T3B0aW9ucyB9IGZyb20gXCIuLi9icm93c2VyL3F1ZXJ5X29wdGlvbnMuanNcIjtcbmltcG9ydCB7IExvYWRNb3JlT2ZQYWdpbmF0ZWRRdWVyeSB9IGZyb20gXCIuLi9icm93c2VyL3N5bmMvcGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IHtcbiAgUGFnaW5hdGVkUXVlcnlDbGllbnQsXG4gIEV4dGVuZGVkVHJhbnNpdGlvbixcbn0gZnJvbSBcIi4uL2Jyb3dzZXIvc3luYy9wYWdpbmF0ZWRfcXVlcnlfY2xpZW50LmpzXCI7XG5cbi8vIFdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQsIGV4dGVuZCBzdWJzY3JpcHRpb25zIChmb3IgQVBJcyB0aGF0IGRvIHRoaXMgYnkgZGVmYXVsdClcbi8vIGZvciB0aGlzIGFtb3VudCBhZnRlciB0aGUgc3Vic2NyaXB0aW9uIHdvdWxkIG90aGVyd2lzZSBiZSBkcm9wcGVkLlxuY29uc3QgREVGQVVMVF9FWFRFTkRfU1VCU0NSSVBUSU9OX0ZPUiA9IDVfMDAwO1xuXG5pZiAodHlwZW9mIFJlYWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIlJlcXVpcmVkIGRlcGVuZGVuY3kgJ3JlYWN0JyBub3QgZm91bmRcIik7XG59XG5cbi8vIFRPRE8gVHlwZWRvYyBkb2Vzbid0IGdlbmVyYXRlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBjb21tZW50IGJlbG93IHBlcmhhcHNcbi8vIGJlY2F1c2UgaXQncyBhIGNhbGxhYmxlIGludGVyZmFjZS5cbi8qKlxuICogQW4gaW50ZXJmYWNlIHRvIGV4ZWN1dGUgYSBDb252ZXggbXV0YXRpb24gZnVuY3Rpb24gb24gdGhlIHNlcnZlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3RNdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIj4+IHtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIG11dGF0aW9uIG9uIHRoZSBzZXJ2ZXIsIHJldHVybmluZyBhIGBQcm9taXNlYCBvZiBpdHMgcmV0dXJuIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIEFyZ3VtZW50cyBmb3IgdGhlIG11dGF0aW9uIHRvIHBhc3MgdXAgdG8gdGhlIHNlcnZlci5cbiAgICogQHJldHVybnMgVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgc2VydmVyLXNpZGUgZnVuY3Rpb24gY2FsbC5cbiAgICovXG4gICguLi5hcmdzOiBPcHRpb25hbFJlc3RBcmdzPE11dGF0aW9uPik6IFByb21pc2U8RnVuY3Rpb25SZXR1cm5UeXBlPE11dGF0aW9uPj47XG5cbiAgLyoqXG4gICAqIERlZmluZSBhbiBvcHRpbWlzdGljIHVwZGF0ZSB0byBhcHBseSBhcyBwYXJ0IG9mIHRoaXMgbXV0YXRpb24uXG4gICAqXG4gICAqIFRoaXMgaXMgYSB0ZW1wb3JhcnkgdXBkYXRlIHRvIHRoZSBsb2NhbCBxdWVyeSByZXN1bHRzIHRvIGZhY2lsaXRhdGUgYVxuICAgKiBmYXN0LCBpbnRlcmFjdGl2ZSBVSS4gSXQgZW5hYmxlcyBxdWVyeSByZXN1bHRzIHRvIHVwZGF0ZSBiZWZvcmUgYSBtdXRhdGlvblxuICAgKiBleGVjdXRlZCBvbiB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBXaGVuIHRoZSBtdXRhdGlvbiBpcyBpbnZva2VkLCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgd2lsbCBiZSBhcHBsaWVkLlxuICAgKlxuICAgKiBPcHRpbWlzdGljIHVwZGF0ZXMgY2FuIGFsc28gYmUgdXNlZCB0byB0ZW1wb3JhcmlseSByZW1vdmUgcXVlcmllcyBmcm9tIHRoZVxuICAgKiBjbGllbnQgYW5kIGNyZWF0ZSBsb2FkaW5nIGV4cGVyaWVuY2VzIHVudGlsIGEgbXV0YXRpb24gY29tcGxldGVzIGFuZCB0aGVcbiAgICogbmV3IHF1ZXJ5IHJlc3VsdHMgYXJlIHN5bmNlZC5cbiAgICpcbiAgICogVGhlIHVwZGF0ZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgcm9sbGVkIGJhY2sgd2hlbiB0aGUgbXV0YXRpb24gaXMgZnVsbHlcbiAgICogY29tcGxldGVkIGFuZCBxdWVyaWVzIGhhdmUgYmVlbiB1cGRhdGVkLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW1pc3RpY1VwZGF0ZSAtIFRoZSBvcHRpbWlzdGljIHVwZGF0ZSB0byBhcHBseS5cbiAgICogQHJldHVybnMgQSBuZXcgYFJlYWN0TXV0YXRpb25gIHdpdGggdGhlIHVwZGF0ZSBjb25maWd1cmVkLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICB3aXRoT3B0aW1pc3RpY1VwZGF0ZTxUIGV4dGVuZHMgT3B0aW1pc3RpY1VwZGF0ZTxGdW5jdGlvbkFyZ3M8TXV0YXRpb24+Pj4oXG4gICAgb3B0aW1pc3RpY1VwZGF0ZTogVCAmXG4gICAgICAoUmV0dXJuVHlwZTxUPiBleHRlbmRzIFByb21pc2U8YW55PlxuICAgICAgICA/IFwiT3B0aW1pc3RpYyB1cGRhdGUgaGFuZGxlcnMgbXVzdCBiZSBzeW5jaHJvbm91c1wiXG4gICAgICAgIDoge30pLFxuICApOiBSZWFjdE11dGF0aW9uPE11dGF0aW9uPjtcbn1cblxuLy8gRXhwb3J0ZWQgb25seSBmb3IgdGVzdGluZy5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbihcbiAgbXV0YXRpb25SZWZlcmVuY2U6IEZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIj4sXG4gIGNsaWVudDogQ29udmV4UmVhY3RDbGllbnQsXG4gIHVwZGF0ZT86IE9wdGltaXN0aWNVcGRhdGU8YW55Pixcbik6IFJlYWN0TXV0YXRpb248YW55PiB7XG4gIGZ1bmN0aW9uIG11dGF0aW9uKGFyZ3M/OiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4pOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBhc3NlcnROb3RBY2NpZGVudGFsQXJndW1lbnQoYXJncyk7XG5cbiAgICByZXR1cm4gY2xpZW50Lm11dGF0aW9uKG11dGF0aW9uUmVmZXJlbmNlLCBhcmdzLCB7XG4gICAgICBvcHRpbWlzdGljVXBkYXRlOiB1cGRhdGUsXG4gICAgfSk7XG4gIH1cbiAgbXV0YXRpb24ud2l0aE9wdGltaXN0aWNVcGRhdGUgPSBmdW5jdGlvbiB3aXRoT3B0aW1pc3RpY1VwZGF0ZShcbiAgICBvcHRpbWlzdGljVXBkYXRlOiBPcHRpbWlzdGljVXBkYXRlPGFueT4sXG4gICk6IFJlYWN0TXV0YXRpb248YW55PiB7XG4gICAgaWYgKHVwZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBbHJlYWR5IHNwZWNpZmllZCBvcHRpbWlzdGljIHVwZGF0ZSBmb3IgbXV0YXRpb24gJHtnZXRGdW5jdGlvbk5hbWUoXG4gICAgICAgICAgbXV0YXRpb25SZWZlcmVuY2UsXG4gICAgICAgICl9YCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY2xpZW50LCBvcHRpbWlzdGljVXBkYXRlKTtcbiAgfTtcbiAgcmV0dXJuIG11dGF0aW9uIGFzIFJlYWN0TXV0YXRpb248YW55Pjtcbn1cblxuLyoqXG4gKiBBbiBpbnRlcmZhY2UgdG8gZXhlY3V0ZSBhIENvbnZleCBhY3Rpb24gb24gdGhlIHNlcnZlci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVhY3RBY3Rpb248QWN0aW9uIGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJhY3Rpb25cIj4+IHtcbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIGZ1bmN0aW9uIG9uIHRoZSBzZXJ2ZXIsIHJldHVybmluZyBhIGBQcm9taXNlYCBvZiBpdHMgcmV0dXJuIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0gYXJncyAtIEFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uIHRvIHBhc3MgdXAgdG8gdGhlIHNlcnZlci5cbiAgICogQHJldHVybnMgVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgc2VydmVyLXNpZGUgZnVuY3Rpb24gY2FsbC5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgKC4uLmFyZ3M6IE9wdGlvbmFsUmVzdEFyZ3M8QWN0aW9uPik6IFByb21pc2U8RnVuY3Rpb25SZXR1cm5UeXBlPEFjdGlvbj4+O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBY3Rpb24oXG4gIGFjdGlvblJlZmVyZW5jZTogRnVuY3Rpb25SZWZlcmVuY2U8XCJhY3Rpb25cIj4sXG4gIGNsaWVudDogQ29udmV4UmVhY3RDbGllbnQsXG4pOiBSZWFjdEFjdGlvbjxhbnk+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcmdzPzogUmVjb3JkPHN0cmluZywgVmFsdWU+KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgcmV0dXJuIGNsaWVudC5hY3Rpb24oYWN0aW9uUmVmZXJlbmNlLCBhcmdzKTtcbiAgfSBhcyBSZWFjdEFjdGlvbjxhbnk+O1xufVxuXG4vLyBXYXRjaGVzIHNob3VsZCBiZSBzdGF0ZWxlc3M6IGluIFF1ZXJpZXNPYnNlcnZlciB3ZSBjcmVhdGUgYSB3YXRjaCBqdXN0IHRvIGdldFxuLy8gdGhlIGN1cnJlbnQgdmFsdWUuXG4vKipcbiAqIEEgd2F0Y2ggb24gdGhlIG91dHB1dCBvZiBhIENvbnZleCBxdWVyeSBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2F0Y2g8VD4ge1xuICAvKipcbiAgICogSW5pdGlhdGUgYSB3YXRjaCBvbiB0aGUgb3V0cHV0IG9mIGEgcXVlcnkuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBzdWJzY3JpYmUgdG8gdGhpcyBxdWVyeSBhbmQgY2FsbFxuICAgKiB0aGUgY2FsbGJhY2sgd2hlbmV2ZXIgdGhlIHF1ZXJ5IHJlc3VsdCBjaGFuZ2VzLlxuICAgKlxuICAgKiAqKkltcG9ydGFudDogSWYgdGhlIGNsaWVudCBpcyBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhpcyBxdWVyeSB3aXRoIHRoZVxuICAgKiBzYW1lIGFyZ3VtZW50cyB0aGlzIGNhbGxiYWNrIHdpbGwgbm90IGJlIGludm9rZWQgdW50aWwgdGhlIHF1ZXJ5IHJlc3VsdCBpc1xuICAgKiB1cGRhdGVkLioqIFRvIGdldCB0aGUgY3VycmVudCwgbG9jYWwgcmVzdWx0IGNhbGxcbiAgICoge0BsaW5rIHJlYWN0LldhdGNoLmxvY2FsUXVlcnlSZXN1bHR9LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuZXZlciB0aGUgcXVlcnkgcmVzdWx0IGNoYW5nZXMuXG4gICAqIEByZXR1cm5zIC0gQSBmdW5jdGlvbiB0aGF0IGRpc3Bvc2VzIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqL1xuICBvblVwZGF0ZShjYWxsYmFjazogKCkgPT4gdm9pZCk6ICgpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCByZXN1bHQgb2YgYSBxdWVyeS5cbiAgICpcbiAgICogVGhpcyB3aWxsIG9ubHkgcmV0dXJuIGEgcmVzdWx0IGlmIHdlJ3JlIGFscmVhZHkgc3Vic2NyaWJlZCB0byB0aGUgcXVlcnlcbiAgICogYW5kIGhhdmUgcmVjZWl2ZWQgYSByZXN1bHQgZnJvbSB0aGUgc2VydmVyIG9yIHRoZSBxdWVyeSB2YWx1ZSBoYXMgYmVlbiBzZXRcbiAgICogb3B0aW1pc3RpY2FsbHkuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIHF1ZXJ5IG9yIGB1bmRlZmluZWRgIGlmIGl0IGlzbid0IGtub3duLlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIHRoZSBxdWVyeSBlbmNvdW50ZXJlZCBhbiBlcnJvciBvbiB0aGUgc2VydmVyLlxuICAgKi9cbiAgbG9jYWxRdWVyeVJlc3VsdCgpOiBUIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlMb2dzKCk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIGJyb3dzZXIuUXVlcnlKb3VybmFsfSBmb3IgdGhpcyBxdWVyeS5cbiAgICpcbiAgICogSWYgd2UgaGF2ZSBub3QgeWV0IHJlY2VpdmVkIGEgcmVzdWx0IGZvciB0aGlzIHF1ZXJ5LCB0aGlzIHdpbGwgYmUgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBqb3VybmFsKCk6IFF1ZXJ5Sm91cm5hbCB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBIHdhdGNoIG9uIHRoZSBvdXRwdXQgb2YgYSBwYWdpbmF0ZWQgQ29udmV4IHF1ZXJ5IGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYWdpbmF0ZWRXYXRjaDxUPiB7XG4gIC8qKlxuICAgKiBJbml0aWF0ZSBhIHdhdGNoIG9uIHRoZSBvdXRwdXQgb2YgYSBwYWdpbmF0ZWQgcXVlcnkuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBzdWJzY3JpYmUgdG8gdGhpcyBxdWVyeSBhbmQgY2FsbFxuICAgKiB0aGUgY2FsbGJhY2sgd2hlbmV2ZXIgdGhlIHF1ZXJ5IHJlc3VsdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuZXZlciB0aGUgcXVlcnkgcmVzdWx0IGNoYW5nZXMuXG4gICAqIEByZXR1cm5zIC0gQSBmdW5jdGlvbiB0aGF0IGRpc3Bvc2VzIG9mIHRoZSBzdWJzY3JpcHRpb24uXG4gICAqL1xuICBvblVwZGF0ZShjYWxsYmFjazogKCkgPT4gdm9pZCk6ICgpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCByZXN1bHQgb2YgYSBwYWdpbmF0ZWQgcXVlcnkuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHJlc3VsdHMsIHN0YXR1cywgYW5kIGxvYWRNb3JlIGZ1bmN0aW9uLCBvciBgdW5kZWZpbmVkYCBpZiBub3QgbG9hZGVkLlxuICAgKi9cbiAgbG9jYWxRdWVyeVJlc3VsdCgpOlxuICAgIHwge1xuICAgICAgICByZXN1bHRzOiBUW107XG4gICAgICAgIHN0YXR1czogUGFnaW5hdGlvblN0YXR1cztcbiAgICAgICAgbG9hZE1vcmU6IExvYWRNb3JlT2ZQYWdpbmF0ZWRRdWVyeTtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnQud2F0Y2hRdWVyeX0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFdhdGNoUXVlcnlPcHRpb25zIHtcbiAgLyoqXG4gICAqIEFuIChvcHRpb25hbCkgam91cm5hbCBwcm9kdWNlZCBmcm9tIGEgcHJldmlvdXMgZXhlY3V0aW9uIG9mIHRoaXMgcXVlcnlcbiAgICogZnVuY3Rpb24uXG4gICAqXG4gICAqIElmIHRoZXJlIGlzIGFuIGV4aXN0aW5nIHN1YnNjcmlwdGlvbiB0byBhIHF1ZXJ5IGZ1bmN0aW9uIHdpdGggdGhlIHNhbWVcbiAgICogbmFtZSBhbmQgYXJndW1lbnRzLCB0aGlzIGpvdXJuYWwgd2lsbCBoYXZlIG5vIGVmZmVjdC5cbiAgICovXG4gIGpvdXJuYWw/OiBRdWVyeUpvdXJuYWw7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29tcG9uZW50UGF0aD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnQud2F0Y2hQYWdpbmF0ZWRRdWVyeX0uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2F0Y2hQYWdpbmF0ZWRRdWVyeU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIGluaXRpYWwgbnVtYmVyIG9mIGl0ZW1zIHRvIGxvYWQuXG4gICAqL1xuICBpbml0aWFsTnVtSXRlbXM6IG51bWJlcjtcblxuICAvLyBXZSBtYXkgYmUgYWJsZSB0byByZW1vdmUgdGhpcyBpbiB0aGUgZnV0dXJlLCBidXQgdG8gcHJlc2VydmUgdGhlIGV4aXN0aW5nIGJlaGF2aW9yIG9mXG4gIC8vIHVzZVBhZ2luYXRlZFF1ZXJ5KCkgaXQncyBzdGlsbCBoZXJlLlxuICBpZDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbXBvbmVudFBhdGg/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogT3B0aW9ucyBmb3Ige0BsaW5rIENvbnZleFJlYWN0Q2xpZW50Lm11dGF0aW9ufS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YXRpb25PcHRpb25zPEFyZ3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4+IHtcbiAgLyoqXG4gICAqIEFuIG9wdGltaXN0aWMgdXBkYXRlIHRvIGFwcGx5IGFsb25nIHdpdGggdGhpcyBtdXRhdGlvbi5cbiAgICpcbiAgICogQW4gb3B0aW1pc3RpYyB1cGRhdGUgbG9jYWxseSB1cGRhdGVzIHF1ZXJpZXMgd2hpbGUgYSBtdXRhdGlvbiBpcyBwZW5kaW5nLlxuICAgKiBPbmNlIHRoZSBtdXRhdGlvbiBjb21wbGV0ZXMsIHRoZSB1cGRhdGUgd2lsbCBiZSByb2xsZWQgYmFjay5cbiAgICovXG4gIG9wdGltaXN0aWNVcGRhdGU/OiBPcHRpbWlzdGljVXBkYXRlPEFyZ3M+IHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIE9wdGlvbnMgZm9yIHtAbGluayBDb252ZXhSZWFjdENsaWVudH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnZleFJlYWN0Q2xpZW50T3B0aW9ucyBleHRlbmRzIEJhc2VDb252ZXhDbGllbnRPcHRpb25zIHt9XG5cbi8qKlxuICogQSBDb252ZXggY2xpZW50IGZvciB1c2Ugd2l0aGluIFJlYWN0LlxuICpcbiAqIFRoaXMgbG9hZHMgcmVhY3RpdmUgcXVlcmllcyBhbmQgZXhlY3V0ZXMgbXV0YXRpb25zIG92ZXIgYSBXZWJTb2NrZXQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQ29udmV4UmVhY3RDbGllbnQge1xuICBwcml2YXRlIGFkZHJlc3M6IHN0cmluZztcbiAgcHJpdmF0ZSBjYWNoZWRTeW5jPzogQmFzZUNvbnZleENsaWVudCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBjYWNoZWRQYWdpbmF0ZWRRdWVyeUNsaWVudD86IFBhZ2luYXRlZFF1ZXJ5Q2xpZW50IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGxpc3RlbmVyczogTWFwPFF1ZXJ5VG9rZW4gfCBQYWdpbmF0ZWRRdWVyeVRva2VuLCBTZXQ8KCkgPT4gdm9pZD4+O1xuICBwcml2YXRlIG9wdGlvbnM6IENvbnZleFJlYWN0Q2xpZW50T3B0aW9ucztcbiAgLy8gXCJjbG9zZWRcIiBtZWFucyB0aGlzIGNsaWVudCBpcyBkb25lLCBub3QganVzdCB0aGF0IHRoZSB1bmRlcmx5aW5nIFdTIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICBwcml2YXRlIGNsb3NlZCA9IGZhbHNlO1xuICBwcml2YXRlIF9sb2dnZXI6IExvZ2dlcjtcblxuICBwcml2YXRlIGFkbWluQXV0aD86IHN0cmluZztcbiAgcHJpdmF0ZSBmYWtlVXNlcklkZW50aXR5PzogVXNlcklkZW50aXR5QXR0cmlidXRlcyB8IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgdXJsIG9mIHlvdXIgQ29udmV4IGRlcGxveW1lbnQsIG9mdGVuIHByb3ZpZGVkXG4gICAqIGJ5IGFuIGVudmlyb25tZW50IHZhcmlhYmxlLiBFLmcuIGBodHRwczovL3NtYWxsLW1vdXNlLTEyMy5jb252ZXguY2xvdWRgLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnRPcHRpb25zfSBmb3IgYSBmdWxsIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzczogc3RyaW5nLCBvcHRpb25zPzogQ29udmV4UmVhY3RDbGllbnRPcHRpb25zKSB7XG4gICAgLy8gVmFsaWRhdGUgYWRkcmVzcyBpbW1lZGlhdGVseSBzaW5jZSB2YWxpZGF0aW9uIGJ5IHRoZSBsYXppbHktaW5zdGFudGlhdGVkXG4gICAgLy8gaW50ZXJuYWwgY2xpZW50IGRvZXMgbm90IG9jY3VyIHN5bmNocm9ub3VzbHkuXG4gICAgaWYgKGFkZHJlc3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGFkZHJlc3MgcHJvdmlkZWQgdG8gQ29udmV4UmVhY3RDbGllbnQuXFxuXCIgK1xuICAgICAgICAgIFwiSWYgdHJ5aW5nIHRvIGRlcGxveSB0byBwcm9kdWN0aW9uLCBtYWtlIHN1cmUgdG8gZm9sbG93IGFsbCB0aGUgaW5zdHJ1Y3Rpb25zIGZvdW5kIGF0IGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3Byb2R1Y3Rpb24vaG9zdGluZy9cXG5cIiArXG4gICAgICAgICAgXCJJZiBydW5uaW5nIGxvY2FsbHksIG1ha2Ugc3VyZSB0byBydW4gYGNvbnZleCBkZXZgIGFuZCBlbnN1cmUgdGhlIC5lbnYubG9jYWwgZmlsZSBpcyBwb3B1bGF0ZWQuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFkZHJlc3MgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENvbnZleFJlYWN0Q2xpZW50IHJlcXVpcmVzIGEgVVJMIGxpa2UgJ2h0dHBzOi8vaGFwcHktb3R0ZXItMTIzLmNvbnZleC5jbG91ZCcsIHJlY2VpdmVkIHNvbWV0aGluZyBvZiB0eXBlICR7dHlwZW9mIGFkZHJlc3N9IGluc3RlYWQuYCxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghYWRkcmVzcy5pbmNsdWRlcyhcIjovL1wiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZWQgYWRkcmVzcyB3YXMgbm90IGFuIGFic29sdXRlIFVSTC5cIik7XG4gICAgfVxuICAgIHRoaXMuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fbG9nZ2VyID1cbiAgICAgIG9wdGlvbnM/LmxvZ2dlciA9PT0gZmFsc2VcbiAgICAgICAgPyBpbnN0YW50aWF0ZU5vb3BMb2dnZXIoeyB2ZXJib3NlOiBvcHRpb25zPy52ZXJib3NlID8/IGZhbHNlIH0pXG4gICAgICAgIDogb3B0aW9ucz8ubG9nZ2VyICE9PSB0cnVlICYmIG9wdGlvbnM/LmxvZ2dlclxuICAgICAgICAgID8gb3B0aW9ucy5sb2dnZXJcbiAgICAgICAgICA6IGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcih7IHZlcmJvc2U6IG9wdGlvbnM/LnZlcmJvc2UgPz8gZmFsc2UgfSk7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5vcHRpb25zLCBsb2dnZXI6IHRoaXMuX2xvZ2dlciB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgYWRkcmVzcyBmb3IgdGhpcyBjbGllbnQsIHVzZWZ1bCBmb3IgY3JlYXRpbmcgYSBuZXcgY2xpZW50LlxuICAgKlxuICAgKiBOb3QgZ3VhcmFudGVlZCB0byBtYXRjaCB0aGUgYWRkcmVzcyB3aXRoIHdoaWNoIHRoaXMgY2xpZW50IHdhcyBjb25zdHJ1Y3RlZDpcbiAgICogaXQgbWF5IGJlIGNhbm9uaWNhbGl6ZWQuXG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiB0aGlzLmFkZHJlc3M7XG4gIH1cblxuICAvKipcbiAgICogTGF6aWx5IGluc3RhbnRpYXRlIHRoZSBgQmFzZUNvbnZleENsaWVudGAgc28gd2UgZG9uJ3QgY3JlYXRlIHRoZSBXZWJTb2NrZXRcbiAgICogd2hlbiBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0IHN5bmMoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhSZWFjdENsaWVudCBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmM7XG4gICAgfVxuICAgIC8vIEJhc2VDb252ZXhDbGllbnQgYW5kIHBhZ2luYXRlZCBxdWVyeSBjbGllbnQgYXJlIGFsd2F5cyBjcmVhdGVkIHRvZ2V0aGVyLlxuICAgIHRoaXMuY2FjaGVkU3luYyA9IG5ldyBCYXNlQ29udmV4Q2xpZW50KFxuICAgICAgdGhpcy5hZGRyZXNzLFxuICAgICAgKCkgPT4ge30sIC8vIFVzZSB0aGUgUGFnaW5hdGVkUXVlcnlDbGllbnQncyB0cmFuc2l0aW9uIGluc3RlYWQuXG4gICAgICB0aGlzLm9wdGlvbnMsXG4gICAgKTtcbiAgICBpZiAodGhpcy5hZG1pbkF1dGgpIHtcbiAgICAgIHRoaXMuY2FjaGVkU3luYy5zZXRBZG1pbkF1dGgodGhpcy5hZG1pbkF1dGgsIHRoaXMuZmFrZVVzZXJJZGVudGl0eSk7XG4gICAgfVxuICAgIHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQgPSBuZXcgUGFnaW5hdGVkUXVlcnlDbGllbnQoXG4gICAgICB0aGlzLmNhY2hlZFN5bmMsXG4gICAgICAodHJhbnNpdGlvbikgPT4gdGhpcy5oYW5kbGVUcmFuc2l0aW9uKHRyYW5zaXRpb24pLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYztcbiAgfVxuXG4gIC8qKlxuICAgKiBMYXppbHkgaW5zdGFudGlhdGUgdGhlIGBQYWdpbmF0ZWRRdWVyeUNsaWVudGAgc28gd2UgZG9uJ3QgY3JlYXRlIGl0XG4gICAqIHdoZW4gc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBwYWdpbmF0ZWRRdWVyeUNsaWVudCgpIHtcbiAgICAvLyBhY2Nlc3Mgc3luYyB0byBpbnN0YW50aWF0ZSB0aGUgY2xpZW50c1xuICAgIHRoaXMuc3luYztcbiAgICBpZiAodGhpcy5jYWNoZWRQYWdpbmF0ZWRRdWVyeUNsaWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQ7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBhbHJlYWR5IGJlIGluc3RhbnRpYXRlZFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlblxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoXG4gICAgZmV0Y2hUb2tlbjogQXV0aFRva2VuRmV0Y2hlcixcbiAgICBvbkNoYW5nZT86IChpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW4pID0+IHZvaWQsXG4gICkge1xuICAgIGlmICh0eXBlb2YgZmV0Y2hUb2tlbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlBhc3NpbmcgYSBzdHJpbmcgdG8gQ29udmV4UmVhY3RDbGllbnQuc2V0QXV0aCBpcyBubyBsb25nZXIgc3VwcG9ydGVkLCBcIiArXG4gICAgICAgICAgXCJwbGVhc2UgdXBncmFkZSB0byBwYXNzaW5nIGluIGFuIGFzeW5jIGZ1bmN0aW9uIHRvIGhhbmRsZSByZWF1dGhlbnRpY2F0aW9uLlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zeW5jLnNldEF1dGgoXG4gICAgICBmZXRjaFRva2VuLFxuICAgICAgb25DaGFuZ2UgPz9cbiAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW4gaWYgc2V0LlxuICAgKi9cbiAgY2xlYXJBdXRoKCkge1xuICAgIHRoaXMuc3luYy5jbGVhckF1dGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEFkbWluQXV0aCh0b2tlbjogc3RyaW5nLCBpZGVudGl0eT86IFVzZXJJZGVudGl0eUF0dHJpYnV0ZXMpIHtcbiAgICB0aGlzLmFkbWluQXV0aCA9IHRva2VuO1xuICAgIHRoaXMuZmFrZVVzZXJJZGVudGl0eSA9IGlkZW50aXR5O1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4UmVhY3RDbGllbnQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQuXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICB0aGlzLnN5bmMuc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyB7QGxpbmsgV2F0Y2h9IG9uIGEgQ29udmV4IHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiAqKk1vc3QgYXBwbGljYXRpb24gY29kZSBzaG91bGQgbm90IGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAqIHRoZSB7QGxpbmsgdXNlUXVlcnl9IGhvb2suKipcbiAgICpcbiAgICogVGhlIGFjdCBvZiBjcmVhdGluZyBhIHdhdGNoIGRvZXMgbm90aGluZywgYSBXYXRjaCBpcyBzdGF0ZWxlc3MuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnkgdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBXYXRjaFF1ZXJ5T3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoaXMgcXVlcnkuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgV2F0Y2h9IG9iamVjdC5cbiAgICovXG4gIHdhdGNoUXVlcnk8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICAgLi4uYXJnc0FuZE9wdGlvbnM6IEFyZ3NBbmRPcHRpb25zPFF1ZXJ5LCBXYXRjaFF1ZXJ5T3B0aW9ucz5cbiAgKTogV2F0Y2g8RnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5Pj4ge1xuICAgIGNvbnN0IFthcmdzLCBvcHRpb25zXSA9IGFyZ3NBbmRPcHRpb25zO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9uVXBkYXRlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBxdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5zeW5jLnN1YnNjcmliZShcbiAgICAgICAgICBuYW1lIGFzIHN0cmluZyxcbiAgICAgICAgICBhcmdzLFxuICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY3VycmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChxdWVyeVRva2VuKTtcbiAgICAgICAgaWYgKGN1cnJlbnRMaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5zZXQocXVlcnlUb2tlbiwgbmV3IFNldChbY2FsbGJhY2tdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQocXVlcnlUb2tlbikhO1xuICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgICBpZiAoY3VycmVudExpc3RlbmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUocXVlcnlUb2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBsb2NhbFF1ZXJ5UmVzdWx0OiAoKSA9PiB7XG4gICAgICAgIC8vIFVzZSB0aGUgY2FjaGVkIGNsaWVudCBiZWNhdXNlIHdlIGNhbid0IGhhdmUgYSBxdWVyeSByZXN1bHQgaWYgd2UgZG9uJ3RcbiAgICAgICAgLy8gZXZlbiBoYXZlIGEgY2xpZW50IHlldCFcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMubG9jYWxRdWVyeVJlc3VsdChuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfSxcblxuICAgICAgbG9jYWxRdWVyeUxvZ3M6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMubG9jYWxRdWVyeUxvZ3MobmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0sXG5cbiAgICAgIGpvdXJuYWw6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMucXVlcnlKb3VybmFsKG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyBMZXQncyB0cnkgb3V0IGEgcXVlcnlPcHRpb25zLXN0eWxlIEFQSS5cbiAgLy8gVGhpcyBtZXRob2QgaXMgc2ltaWxhciB0byB0aGUgUmVhY3QgUXVlcnkgQVBJIGBxdWVyeUNsaWVudC5wcmVmZXRjaFF1ZXJ5KClgLlxuICAvLyBJbiB0aGUgZnV0dXJlIGFuIGVuc3VyZVF1ZXJ5RGF0YSgpOiBQcm9taXNlPERhdGE+IG1ldGhvZCBjb3VsZCBleGlzdC5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBsaWtlbHkgZnV0dXJlIGludGVyZXN0IGluIGEgcXVlcnkgc3Vic2NyaXB0aW9uLlxuICAgKlxuICAgKiBUaGUgaW1wbGVtZW50YXRpb24gY3VycmVudGx5IGltbWVkaWF0ZWx5IHN1YnNjcmliZXMgdG8gYSBxdWVyeS4gSW4gdGhlIGZ1dHVyZSB0aGlzIG1ldGhvZFxuICAgKiBtYXkgcHJpb3JpdGl6ZSBzb21lIHF1ZXJpZXMgb3ZlciBvdGhlcnMsIGZldGNoIHRoZSBxdWVyeSByZXN1bHQgd2l0aG91dCBzdWJzY3JpYmluZywgb3JcbiAgICogZG8gbm90aGluZyBpbiBzbG93IG5ldHdvcmsgY29ubmVjdGlvbnMgb3IgaGlnaCBsb2FkIHNjZW5hcmlvcy5cbiAgICpcbiAgICogVG8gdXNlIHRoaXMgaW4gYSBSZWFjdCBjb21wb25lbnQsIGNhbGwgdXNlUXVlcnkoKSBhbmQgaWdub3JlIHRoZSByZXR1cm4gdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeU9wdGlvbnMgLSBBIHF1ZXJ5IChmdW5jdGlvbiByZWZlcmVuY2UgZnJvbSBhbiBhcGkgb2JqZWN0KSBhbmQgaXRzIGFyZ3MsIHBsdXNcbiAgICogYW4gb3B0aW9uYWwgZXh0ZW5kU3Vic2NyaXB0aW9uRm9yIGZvciBob3cgbG9uZyB0byBzdWJzY3JpYmUgdG8gdGhlIHF1ZXJ5LlxuICAgKi9cbiAgcHJld2FybVF1ZXJ5PFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gICAgcXVlcnlPcHRpb25zOiBDb252ZXhRdWVyeU9wdGlvbnM8UXVlcnk+ICYge1xuICAgICAgZXh0ZW5kU3Vic2NyaXB0aW9uRm9yPzogbnVtYmVyO1xuICAgIH0sXG4gICkge1xuICAgIGNvbnN0IGV4dGVuZFN1YnNjcmlwdGlvbkZvciA9XG4gICAgICBxdWVyeU9wdGlvbnMuZXh0ZW5kU3Vic2NyaXB0aW9uRm9yID8/IERFRkFVTFRfRVhURU5EX1NVQlNDUklQVElPTl9GT1I7XG4gICAgY29uc3Qgd2F0Y2ggPSB0aGlzLndhdGNoUXVlcnkocXVlcnlPcHRpb25zLnF1ZXJ5LCBxdWVyeU9wdGlvbnMuYXJncyB8fCB7fSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7fSk7XG4gICAgc2V0VGltZW91dCh1bnN1YnNjcmliZSwgZXh0ZW5kU3Vic2NyaXB0aW9uRm9yKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcge0BsaW5rIFBhZ2luYXRlZFdhdGNofSBvbiBhIENvbnZleCBwYWdpbmF0ZWQgcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqICoqTW9zdCBhcHBsaWNhdGlvbiBjb2RlIHNob3VsZCBub3QgY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gSW5zdGVhZCB1c2VcbiAgICogdGhlIHtAbGluayB1c2VQYWdpbmF0ZWRRdWVyeX0gaG9vay4qKlxuICAgKlxuICAgKiBUaGUgYWN0IG9mIGNyZWF0aW5nIGEgd2F0Y2ggZG9lcyBub3RoaW5nLCBhIFdhdGNoIGlzIHN0YXRlbGVzcy5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIFdhdGNoUGFnaW5hdGVkUXVlcnlPcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBxdWVyeS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBQYWdpbmF0ZWRXYXRjaH0gb2JqZWN0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHdhdGNoUGFnaW5hdGVkUXVlcnk8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PihcbiAgICBxdWVyeTogUXVlcnksXG4gICAgYXJnczogUXVlcnlbXCJfYXJnc1wiXSxcbiAgICBvcHRpb25zOiBXYXRjaFBhZ2luYXRlZFF1ZXJ5T3B0aW9ucyxcbiAgKTogUGFnaW5hdGVkV2F0Y2g8RnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5Pj4ge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9uVXBkYXRlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBwYWdpbmF0ZWRRdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID1cbiAgICAgICAgICB0aGlzLnBhZ2luYXRlZFF1ZXJ5Q2xpZW50LnN1YnNjcmliZShuYW1lLCBhcmdzIHx8IHt9LCBvcHRpb25zKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHBhZ2luYXRlZFF1ZXJ5VG9rZW4pO1xuICAgICAgICBpZiAoY3VycmVudExpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY3VycmVudExpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNldChwYWdpbmF0ZWRRdWVyeVRva2VuLCBuZXcgU2V0KFtjYWxsYmFja10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgY3VycmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChwYWdpbmF0ZWRRdWVyeVRva2VuKSE7XG4gICAgICAgICAgY3VycmVudExpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShwYWdpbmF0ZWRRdWVyeVRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIGxvY2FsUXVlcnlSZXN1bHQ6ICgpID0+IHtcbiAgICAgICAgLy8gVXNlIG91ciBuZXcgcGFnaW5hdGVkIHF1ZXJ5IGNsaWVudFxuICAgICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZWRRdWVyeUNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0KG5hbWUsIGFyZ3MsIG9wdGlvbnMpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBtdXRhdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBtdXRhdGlvblxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIE11dGF0aW9uT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBtdXRhdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIG11dGF0aW9uPE11dGF0aW9uIGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJtdXRhdGlvblwiPj4oXG4gICAgbXV0YXRpb246IE11dGF0aW9uLFxuICAgIC4uLmFyZ3NBbmRPcHRpb25zOiBBcmdzQW5kT3B0aW9uczxcbiAgICAgIE11dGF0aW9uLFxuICAgICAgTXV0YXRpb25PcHRpb25zPEZ1bmN0aW9uQXJnczxNdXRhdGlvbj4+XG4gICAgPlxuICApOiBQcm9taXNlPEZ1bmN0aW9uUmV0dXJuVHlwZTxNdXRhdGlvbj4+IHtcbiAgICBjb25zdCBbYXJncywgb3B0aW9uc10gPSBhcmdzQW5kT3B0aW9ucztcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKG11dGF0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5zeW5jLm11dGF0aW9uKG5hbWUsIGFyZ3MsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYWN0aW9uPEFjdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwiYWN0aW9uXCI+PihcbiAgICBhY3Rpb246IEFjdGlvbixcbiAgICAuLi5hcmdzOiBPcHRpb25hbFJlc3RBcmdzPEFjdGlvbj5cbiAgKTogUHJvbWlzZTxGdW5jdGlvblJldHVyblR5cGU8QWN0aW9uPj4ge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5zeW5jLmFjdGlvbihuYW1lLCAuLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHF1ZXJ5IHJlc3VsdCBvbmNlLlxuICAgKlxuICAgKiAqKk1vc3QgYXBwbGljYXRpb24gY29kZSBzaG91bGQgc3Vic2NyaWJlIHRvIHF1ZXJpZXMgaW5zdGVhZCwgdXNpbmdcbiAgICogdGhlIHtAbGluayB1c2VRdWVyeX0gaG9vay4qKlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnkgLSBBIHtAbGluayBzZXJ2ZXIuRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgcHVibGljIHF1ZXJ5XG4gICAqIHRvIHJ1bi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBxdWVyeTxRdWVyeSBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj4+KFxuICAgIHF1ZXJ5OiBRdWVyeSxcbiAgICAuLi5hcmdzOiBPcHRpb25hbFJlc3RBcmdzPFF1ZXJ5PlxuICApOiBQcm9taXNlPEZ1bmN0aW9uUmV0dXJuVHlwZTxRdWVyeT4+IHtcbiAgICBjb25zdCB3YXRjaCA9IHRoaXMud2F0Y2hRdWVyeShxdWVyeSwgLi4uYXJncyk7XG4gICAgY29uc3QgZXhpc3RpbmdSZXN1bHQgPSB3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCk7XG4gICAgaWYgKGV4aXN0aW5nUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzb2x2ZSh3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCB0aGUgQ29udmV4XG4gICAqIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSB3aXRoIHRoZSBDb252ZXggYmFja2VuZC5cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpOiBDb25uZWN0aW9uU3RhdGUge1xuICAgIHJldHVybiB0aGlzLnN5bmMuY29ubmVjdGlvblN0YXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZCwgY2FsbGluZyBhIGNhbGxiYWNrIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBTdWJzY3JpYmVkIGNhbGxiYWNrcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBwYXJ0IG9mIENvbm5lY3Rpb25TdGF0ZSBjaGFuZ2VzLlxuICAgKiBDb25uZWN0aW9uU3RhdGUgbWF5IGdyb3cgaW4gZnV0dXJlIHZlcnNpb25zIChlLmcuIHRvIHByb3ZpZGUgYSBhcnJheSBvZlxuICAgKiBpbmZsaWdodCByZXF1ZXN0cykgaW4gd2hpY2ggY2FzZSBjYWxsYmFja3Mgd291bGQgYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseS5cbiAgICogQ29ubmVjdGlvblN0YXRlIG1heSBhbHNvICpsb3NlKiBwcm9wZXJ0aWVzIGluIGZ1dHVyZSB2ZXJzaW9ucyBhcyB3ZSBmaWd1cmVcbiAgICogb3V0IHdoYXQgaW5mb3JtYXRpb24gaXMgbW9zdCB1c2VmdWwuIEFzIHN1Y2ggdGhpcyBBUEkgaXMgY29uc2lkZXJlZCB1bnN0YWJsZS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdG8gc3RvcCBsaXN0ZW5pbmcuXG4gICAqL1xuICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShcbiAgICBjYjogKGNvbm5lY3Rpb25TdGF0ZTogQ29ubmVjdGlvblN0YXRlKSA9PiB2b2lkLFxuICApOiAoKSA9PiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy5zeW5jLnN1YnNjcmliZVRvQ29ubmVjdGlvblN0YXRlKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxvZ2dlciBmb3IgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTG9nZ2VyfSBmb3IgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgbG9nZ2VyKCk6IExvZ2dlciB7XG4gICAgcmV0dXJuIHRoaXMuX2xvZ2dlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBhbnkgbmV0d29yayBoYW5kbGVzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNsaWVudCBhbmQgc3RvcCBhbGwgc3Vic2NyaXB0aW9ucy5cbiAgICpcbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB3aGVuIHlvdSdyZSBkb25lIHdpdGggYSB7QGxpbmsgQ29udmV4UmVhY3RDbGllbnR9IHRvXG4gICAqIGRpc3Bvc2Ugb2YgaXRzIHNvY2tldHMgYW5kIHJlc291cmNlcy5cbiAgICpcbiAgICogQHJldHVybnMgQSBgUHJvbWlzZWAgZnVsZmlsbGVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaGFzIGJlZW4gY29tcGxldGVseSBjbG9zZWQuXG4gICAqL1xuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgLy8gUHJldmVudCBvdXRzdGFuZGluZyBSZWFjdCBiYXRjaGVkIHVwZGF0ZXMgZnJvbSBpbnZva2luZyBsaXN0ZW5lcnMuXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgaWYgKHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQpIHtcbiAgICAgIHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgIGNvbnN0IHN5bmMgPSB0aGlzLmNhY2hlZFN5bmM7XG4gICAgICB0aGlzLmNhY2hlZFN5bmMgPSB1bmRlZmluZWQ7XG4gICAgICBhd2FpdCBzeW5jLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0cmFuc2l0aW9ucyBmcm9tIGJvdGggYmFzZSBjbGllbnQgYW5kIHBhZ2luYXRlZCBjbGllbnQuXG4gICAqIFRoaXMgZW5zdXJlcyBhbGwgdHJhbnNpdGlvbnMgYXJlIHByb2Nlc3NlZCBzeW5jaHJvbm91c2x5IGFuZCBpbiBvcmRlci5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlVHJhbnNpdGlvbih0cmFuc2l0aW9uOiBFeHRlbmRlZFRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBzaW1wbGUgPSB0cmFuc2l0aW9uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKTtcbiAgICBjb25zdCBwYWdpbmF0ZWQgPSB0cmFuc2l0aW9uLnBhZ2luYXRlZFF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKTtcbiAgICB0aGlzLnRyYW5zaXRpb24oWy4uLnNpbXBsZSwgLi4ucGFnaW5hdGVkXSk7XG4gIH1cblxuICBwcml2YXRlIHRyYW5zaXRpb24odXBkYXRlZFF1ZXJpZXM6IChRdWVyeVRva2VuIHwgUGFnaW5hdGVkUXVlcnlUb2tlbilbXSkge1xuICAgIGZvciAoY29uc3QgcXVlcnlUb2tlbiBvZiB1cGRhdGVkUXVlcmllcykge1xuICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuY29uc3QgQ29udmV4Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Q29udmV4UmVhY3RDbGllbnQ+KFxuICB1bmRlZmluZWQgYXMgdW5rbm93biBhcyBDb252ZXhSZWFjdENsaWVudCwgLy8gaW4gdGhlIGZ1dHVyZSB0aGlzIHdpbGwgYmUgYSBtb2NrZWQgY2xpZW50IGZvciB0ZXN0aW5nXG4pO1xuXG4vKipcbiAqIEdldCB0aGUge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50fSB3aXRoaW4gYSBSZWFjdCBjb21wb25lbnQuXG4gKlxuICogVGhpcyByZWxpZXMgb24gdGhlIHtAbGluayBDb252ZXhQcm92aWRlcn0gYmVpbmcgYWJvdmUgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlLlxuICpcbiAqIEByZXR1cm5zIFRoZSBhY3RpdmUge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50fSBvYmplY3QsIG9yIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleCgpOiBDb252ZXhSZWFjdENsaWVudCB7XG4gIHJldHVybiB1c2VDb250ZXh0KENvbnZleENvbnRleHQpO1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFuIGFjdGl2ZSBDb252ZXgge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50fSB0byBkZXNjZW5kYW50cyBvZiB0aGlzIGNvbXBvbmVudC5cbiAqXG4gKiBXcmFwIHlvdXIgYXBwIGluIHRoaXMgY29tcG9uZW50IHRvIHVzZSBDb252ZXggaG9va3MgYHVzZVF1ZXJ5YCxcbiAqIGB1c2VNdXRhdGlvbmAsIGFuZCBgdXNlQ29udmV4YC5cbiAqXG4gKiBAcGFyYW0gcHJvcHMgLSBhbiBvYmplY3Qgd2l0aCBhIGBjbGllbnRgIHByb3BlcnR5IHRoYXQgcmVmZXJzIHRvIGEge0BsaW5rIENvbnZleFJlYWN0Q2xpZW50fS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBDb252ZXhQcm92aWRlcjogUmVhY3QuRkM8e1xuICBjbGllbnQ6IENvbnZleFJlYWN0Q2xpZW50O1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn0+ID0gKHsgY2xpZW50LCBjaGlsZHJlbiB9KSA9PiB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIENvbnZleENvbnRleHQuUHJvdmlkZXIsXG4gICAgeyB2YWx1ZTogY2xpZW50IH0sXG4gICAgY2hpbGRyZW4sXG4gICk7XG59O1xuXG5leHBvcnQgdHlwZSBPcHRpb25hbFJlc3RBcmdzT3JTa2lwPEZ1bmNSZWYgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxhbnk+PiA9XG4gIEZ1bmNSZWZbXCJfYXJnc1wiXSBleHRlbmRzIEVtcHR5T2JqZWN0XG4gICAgPyBbYXJncz86IEVtcHR5T2JqZWN0IHwgXCJza2lwXCJdXG4gICAgOiBbYXJnczogRnVuY1JlZltcIl9hcmdzXCJdIHwgXCJza2lwXCJdO1xuXG4vKipcbiAqIExvYWQgYSByZWFjdGl2ZSBxdWVyeSB3aXRoaW4gYSBSZWFjdCBjb21wb25lbnQuXG4gKlxuICogVGhpcyBSZWFjdCBob29rIGNvbnRhaW5zIGludGVybmFsIHN0YXRlIHRoYXQgd2lsbCBjYXVzZSBhIHJlcmVuZGVyXG4gKiB3aGVuZXZlciB0aGUgcXVlcnkgcmVzdWx0IGNoYW5nZXMuXG4gKlxuICogVGhyb3dzIGFuIGVycm9yIGlmIG5vdCB1c2VkIHVuZGVyIHtAbGluayBDb252ZXhQcm92aWRlcn0uXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gYSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW5cbiAqIGxpa2UgYGFwaS5kaXIxLmRpcjIuZmlsZW5hbWUuZnVuY2AuXG4gKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIHF1ZXJ5IGZ1bmN0aW9uIG9yIHRoZSBzdHJpbmcgXCJza2lwXCIgaWYgdGhlXG4gKiBxdWVyeSBzaG91bGQgbm90IGJlIGxvYWRlZC5cbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHF1ZXJ5LiBJZiB0aGUgcXVlcnkgaXMgbG9hZGluZyByZXR1cm5zIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5PFF1ZXJ5IGV4dGVuZHMgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oXG4gIHF1ZXJ5OiBRdWVyeSxcbiAgLi4uYXJnczogT3B0aW9uYWxSZXN0QXJnc09yU2tpcDxRdWVyeT5cbik6IFF1ZXJ5W1wiX3JldHVyblR5cGVcIl0gfCB1bmRlZmluZWQge1xuICBjb25zdCBza2lwID0gYXJnc1swXSA9PT0gXCJza2lwXCI7XG4gIGNvbnN0IGFyZ3NPYmplY3QgPSBhcmdzWzBdID09PSBcInNraXBcIiA/IHt9IDogcGFyc2VBcmdzKGFyZ3NbMF0pO1xuXG4gIGNvbnN0IHF1ZXJ5UmVmZXJlbmNlID1cbiAgICB0eXBlb2YgcXVlcnkgPT09IFwic3RyaW5nXCJcbiAgICAgID8gbWFrZUZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIiwgYW55LCBhbnk+KHF1ZXJ5KVxuICAgICAgOiBxdWVyeTtcblxuICBjb25zdCBxdWVyeU5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnlSZWZlcmVuY2UpO1xuXG4gIGNvbnN0IHF1ZXJpZXMgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBza2lwXG4gICAgICAgID8gKHt9IGFzIFJlcXVlc3RGb3JRdWVyaWVzKVxuICAgICAgICA6IHsgcXVlcnk6IHsgcXVlcnk6IHF1ZXJ5UmVmZXJlbmNlLCBhcmdzOiBhcmdzT2JqZWN0IH0gfSxcbiAgICAvLyBTdHJpbmdpZnkgYXJncyBzbyBhcmdzIHRoYXQgYXJlIHNlbWFudGljYWxseSB0aGUgc2FtZSBkb24ndCB0cmlnZ2VyIGFcbiAgICAvLyByZXJlbmRlci4gU2F2ZXMgZGV2ZWxvcGVycyBmcm9tIGFkZGluZyBgdXNlTWVtb2Agb24gZXZlcnkgYXJncyB1c2FnZS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW0pTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0KSksIHF1ZXJ5TmFtZSwgc2tpcF0sXG4gICk7XG5cbiAgY29uc3QgcmVzdWx0cyA9IHVzZVF1ZXJpZXMocXVlcmllcyk7XG4gIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbXCJxdWVyeVwiXTtcbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgdGhyb3cgcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBSZWFjdE11dGF0aW9ufS5cbiAqXG4gKiBNdXRhdGlvbiBvYmplY3RzIGNhbiBiZSBjYWxsZWQgbGlrZSBmdW5jdGlvbnMgdG8gcmVxdWVzdCBleGVjdXRpb24gb2YgdGhlXG4gKiBjb3JyZXNwb25kaW5nIENvbnZleCBmdW5jdGlvbiwgb3IgZnVydGhlciBjb25maWd1cmVkIHdpdGhcbiAqIFtvcHRpbWlzdGljIHVwZGF0ZXNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL29wdGltaXN0aWMtdXBkYXRlcykuXG4gKlxuICogVGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoaXMgaG9vayBpcyBzdGFibGUgYWNyb3NzIHJlbmRlcnMsIHNvIGl0IGNhbiBiZSB1c2VkXG4gKiBieSBSZWFjdCBkZXBlbmRlbmN5IGFycmF5cyBhbmQgbWVtb2l6YXRpb24gbG9naWMgcmVseWluZyBvbiBvYmplY3QgaWRlbnRpdHlcbiAqIHdpdGhvdXQgY2F1c2luZyByZXJlbmRlcnMuXG4gKlxuICogVGhyb3dzIGFuIGVycm9yIGlmIG5vdCB1c2VkIHVuZGVyIHtAbGluayBDb252ZXhQcm92aWRlcn0uXG4gKlxuICogQHBhcmFtIG11dGF0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBtdXRhdGlvblxuICogdG8gcnVuIGxpa2UgYGFwaS5kaXIxLmRpcjIuZmlsZW5hbWUuZnVuY2AuXG4gKiBAcmV0dXJucyBUaGUge0BsaW5rIFJlYWN0TXV0YXRpb259IG9iamVjdCB3aXRoIHRoYXQgbmFtZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNdXRhdGlvbjxNdXRhdGlvbiBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIj4+KFxuICBtdXRhdGlvbjogTXV0YXRpb24sXG4pOiBSZWFjdE11dGF0aW9uPE11dGF0aW9uPiB7XG4gIGNvbnN0IG11dGF0aW9uUmVmZXJlbmNlID1cbiAgICB0eXBlb2YgbXV0YXRpb24gPT09IFwic3RyaW5nXCJcbiAgICAgID8gbWFrZUZ1bmN0aW9uUmVmZXJlbmNlPFwibXV0YXRpb25cIiwgYW55LCBhbnk+KG11dGF0aW9uKVxuICAgICAgOiBtdXRhdGlvbjtcblxuICBjb25zdCBjb252ZXggPSB1c2VDb250ZXh0KENvbnZleENvbnRleHQpO1xuICBpZiAoY29udmV4ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIENvbnZleCBjbGllbnQhIGB1c2VNdXRhdGlvbmAgbXVzdCBiZSB1c2VkIGluIHRoZSBSZWFjdCBjb21wb25lbnQgXCIgK1xuICAgICAgICBcInRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFwiICtcbiAgICAgICAgXCJTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gY3JlYXRlTXV0YXRpb24obXV0YXRpb25SZWZlcmVuY2UsIGNvbnZleCksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtjb252ZXgsIGdldEZ1bmN0aW9uTmFtZShtdXRhdGlvblJlZmVyZW5jZSldLFxuICApO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdCBhIG5ldyB7QGxpbmsgUmVhY3RBY3Rpb259LlxuICpcbiAqIEFjdGlvbiBvYmplY3RzIGNhbiBiZSBjYWxsZWQgbGlrZSBmdW5jdGlvbnMgdG8gcmVxdWVzdCBleGVjdXRpb24gb2YgdGhlXG4gKiBjb3JyZXNwb25kaW5nIENvbnZleCBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhpcyBob29rIGlzIHN0YWJsZSBhY3Jvc3MgcmVuZGVycywgc28gaXQgY2FuIGJlIHVzZWRcbiAqIGJ5IFJlYWN0IGRlcGVuZGVuY3kgYXJyYXlzIGFuZCBtZW1vaXphdGlvbiBsb2dpYyByZWx5aW5nIG9uIG9iamVjdCBpZGVudGl0eVxuICogd2l0aG91dCBjYXVzaW5nIHJlcmVuZGVycy5cbiAqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgbm90IHVzZWQgdW5kZXIge0BsaW5rIENvbnZleFByb3ZpZGVyfS5cbiAqXG4gKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAqIHRvIHJ1biBsaWtlIGBhcGkuZGlyMS5kaXIyLmZpbGVuYW1lLmZ1bmNgLlxuICogQHJldHVybnMgVGhlIHtAbGluayBSZWFjdEFjdGlvbn0gb2JqZWN0IHdpdGggdGhhdCBuYW1lLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGlvbjxBY3Rpb24gZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcImFjdGlvblwiPj4oXG4gIGFjdGlvbjogQWN0aW9uLFxuKTogUmVhY3RBY3Rpb248QWN0aW9uPiB7XG4gIGNvbnN0IGNvbnZleCA9IHVzZUNvbnRleHQoQ29udmV4Q29udGV4dCk7XG4gIGNvbnN0IGFjdGlvblJlZmVyZW5jZSA9XG4gICAgdHlwZW9mIGFjdGlvbiA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBtYWtlRnVuY3Rpb25SZWZlcmVuY2U8XCJhY3Rpb25cIiwgYW55LCBhbnk+KGFjdGlvbilcbiAgICAgIDogYWN0aW9uO1xuXG4gIGlmIChjb252ZXggPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgQ29udmV4IGNsaWVudCEgYHVzZUFjdGlvbmAgbXVzdCBiZSB1c2VkIGluIHRoZSBSZWFjdCBjb21wb25lbnQgXCIgK1xuICAgICAgICBcInRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFwiICtcbiAgICAgICAgXCJTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gY3JlYXRlQWN0aW9uKGFjdGlvblJlZmVyZW5jZSwgY29udmV4KSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW2NvbnZleCwgZ2V0RnVuY3Rpb25OYW1lKGFjdGlvblJlZmVyZW5jZSldLFxuICApO1xufVxuXG4vKipcbiAqIFJlYWN0IGhvb2sgdG8gZ2V0IHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqXG4gKiBUaGlzIGhvb2sgcmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0aW9uIHN0YXRlIGFuZCBhdXRvbWF0aWNhbGx5IHJlcmVuZGVyc1xuICogd2hlbiBhbnkgcGFydCBvZiB0aGUgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VzIChlLmcuLCB3aGVuIGdvaW5nIG9ubGluZS9vZmZsaW5lLFxuICogd2hlbiByZXF1ZXN0cyBzdGFydC9jb21wbGV0ZSwgZXRjLikuXG4gKlxuICogVGhlIHNoYXBlIG9mIENvbm5lY3Rpb25TdGF0ZSBtYXkgY2hhbmdlIGluIHRoZSBmdXR1cmUgd2hpY2ggbWF5IGNhdXNlIHRoaXNcbiAqIGhvb2sgdG8gcmVyZW5kZXIgbW9yZSBmcmVxdWVudGx5LlxuICpcbiAqIFRocm93cyBhbiBlcnJvciBpZiBub3QgdXNlZCB1bmRlciB7QGxpbmsgQ29udmV4UHJvdmlkZXJ9LlxuICpcbiAqIEByZXR1cm5zIFRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IHdpdGggdGhlIENvbnZleCBiYWNrZW5kLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleENvbm5lY3Rpb25TdGF0ZSgpOiBDb25uZWN0aW9uU3RhdGUge1xuICBjb25zdCBjb252ZXggPSB1c2VDb250ZXh0KENvbnZleENvbnRleHQpO1xuICBpZiAoY29udmV4ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIENvbnZleCBjbGllbnQhIGB1c2VDb252ZXhDb25uZWN0aW9uU3RhdGVgIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IFwiICtcbiAgICAgICAgXCJ0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBcIiArXG4gICAgICAgIFwiU2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3F1aWNrLXN0YXJ0I3NldC11cC1jb252ZXgtaW4teW91ci1yZWFjdC1hcHBcIixcbiAgICApO1xuICB9XG5cbiAgY29uc3QgZ2V0Q3VycmVudFZhbHVlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBjb252ZXguY29ubmVjdGlvblN0YXRlKCk7XG4gIH0sIFtjb252ZXhdKTtcblxuICBjb25zdCBzdWJzY3JpYmUgPSB1c2VDYWxsYmFjayhcbiAgICAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgIHJldHVybiBjb252ZXguc3Vic2NyaWJlVG9Db25uZWN0aW9uU3RhdGUoKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbY29udmV4XSxcbiAgKTtcblxuICByZXR1cm4gdXNlU3Vic2NyaXB0aW9uKHsgZ2V0Q3VycmVudFZhbHVlLCBzdWJzY3JpYmUgfSk7XG59XG5cbi8vIFdoZW4gYSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCB0aGF0IGxvb2tzIGxpa2UgYVxuLy8gUmVhY3QgU3ludGhldGljRXZlbnQgaXQgd2FzIGxpa2VseSBjYWxsZWQgYXMgYW4gZXZlbnQgaGFuZGxlci5cbmZ1bmN0aW9uIGFzc2VydE5vdEFjY2lkZW50YWxBcmd1bWVudCh2YWx1ZTogYW55KSB7XG4gIC8vIHRoZXNlIGFyZSBwcm9wZXJ0aWVzIG9mIGEgUmVhY3QuU3ludGhldGljRXZlbnRcbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2V2ZW50cy5odG1sXG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgIFwiYnViYmxlc1wiIGluIHZhbHVlICYmXG4gICAgXCJwZXJzaXN0XCIgaW4gdmFsdWUgJiZcbiAgICBcImlzRGVmYXVsdFByZXZlbnRlZFwiIGluIHZhbHVlXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb252ZXggZnVuY3Rpb24gY2FsbGVkIHdpdGggU3ludGhldGljRXZlbnQgb2JqZWN0LiBEaWQgeW91IHVzZSBhIENvbnZleCBmdW5jdGlvbiBhcyBhbiBldmVudCBoYW5kbGVyIGRpcmVjdGx5PyBFdmVudCBoYW5kbGVycyBsaWtlIG9uQ2xpY2sgcmVjZWl2ZSBhbiBldmVudCBvYmplY3QgYXMgdGhlaXIgZmlyc3QgYXJndW1lbnQuIFRoZXNlIFN5bnRoZXRpY0V2ZW50IG9iamVjdHMgYXJlIG5vdCB2YWxpZCBDb252ZXggdmFsdWVzLiBUcnkgd3JhcHBpbmcgdGhlIGZ1bmN0aW9uIGxpa2UgXFxgY29uc3QgaGFuZGxlciA9ICgpID0+IG15TXV0YXRpb24oKTtcXGAgYW5kIHVzaW5nIFxcYGhhbmRsZXJcXGAgaW4gdGhlIGV2ZW50IGhhbmRsZXIuYCxcbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiY3VycmVudExpc3RlbmVycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/hydration.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/hydration.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePreloadedQuery: () => (/* binding */ usePreloadedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../react/client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\nvar _s = $RefreshSig$();\n\"use strict\";\n\n\n\n\nfunction usePreloadedQuery(preloadedQuery) {\n    _s();\n    const args = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"usePreloadedQuery.useMemo[args]\": ()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._argsJSON)\n    }[\"usePreloadedQuery.useMemo[args]\"], [\n        preloadedQuery._argsJSON\n    ]);\n    const preloadedResult = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"usePreloadedQuery.useMemo[preloadedResult]\": ()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._valueJSON)\n    }[\"usePreloadedQuery.useMemo[preloadedResult]\"], [\n        preloadedQuery._valueJSON\n    ]);\n    const result = (0,_react_client_js__WEBPACK_IMPORTED_MODULE_1__.useQuery)((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.makeFunctionReference)(preloadedQuery._name), args);\n    return result === void 0 ? preloadedResult : result;\n} //# sourceMappingURL=hydration.js.map\n_s(usePreloadedQuery, \"/cOfU2vNsyjh/rmRqgnYmz1yGAg=\", false, function() {\n    return [\n        _react_client_js__WEBPACK_IMPORTED_MODULE_1__.useQuery\n    ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvaHlkcmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0I7QUFDQztBQUNnQztBQUM1QjtBQThCdEIsMkJBQ0wsZ0JBQ3NCOztJQUN0QixNQUFNLE9BQU8sOENBQU87MkNBQ2xCLElBQU0sOERBQVksQ0FBQyxlQUFlLFNBQVM7MENBQzNDO1FBQUMsZUFBZSxTQUFTO0tBQUE7SUFFM0IsTUFBTSxrQkFBa0IsOENBQU87c0RBQzdCLElBQU0sOERBQVksQ0FBQyxlQUFlLFVBQVU7cURBQzVDO1FBQUMsZUFBZSxVQUFVO0tBQUE7SUFFNUIsTUFBTSxTQUFTLDBEQUFRLENBQ3JCLHFFQUFxQixDQUFDLGVBQWUsS0FBSyxHQUMxQztJQUVGLE9BQU8sV0FBVyxTQUFZLGtCQUFrQjtBQUNsRDtHQWhCZ0I7O1FBV0Msc0RBQVEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L2h5ZHJhdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tIFwiLi4vcmVhY3QvY2xpZW50LmpzXCI7XG5pbXBvcnQgeyBGdW5jdGlvblJlZmVyZW5jZSwgbWFrZUZ1bmN0aW9uUmVmZXJlbmNlIH0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcblxuLyoqXG4gKiBUaGUgcHJlbG9hZGVkIHF1ZXJ5IHBheWxvYWQsIHdoaWNoIHNob3VsZCBiZSBwYXNzZWQgdG8gYSBjbGllbnQgY29tcG9uZW50XG4gKiBhbmQgcGFzc2VkIHRvIHtAbGluayB1c2VQcmVsb2FkZWRRdWVyeX0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQcmVsb2FkZWQ8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PiA9IHtcbiAgX190eXBlOiBRdWVyeTtcbiAgX25hbWU6IHN0cmluZztcbiAgX2FyZ3NKU09OOiBzdHJpbmc7XG4gIF92YWx1ZUpTT046IHN0cmluZztcbn07XG5cbi8qKlxuICogTG9hZCBhIHJlYWN0aXZlIHF1ZXJ5IHdpdGhpbiBhIFJlYWN0IGNvbXBvbmVudCB1c2luZyBhIGBQcmVsb2FkZWRgIHBheWxvYWRcbiAqIGZyb20gYSBTZXJ2ZXIgQ29tcG9uZW50IHJldHVybmVkIGJ5IHtAbGluayBuZXh0anMucHJlbG9hZFF1ZXJ5fS5cbiAqXG4gKiBUaGlzIFJlYWN0IGhvb2sgY29udGFpbnMgaW50ZXJuYWwgc3RhdGUgdGhhdCB3aWxsIGNhdXNlIGEgcmVyZW5kZXJcbiAqIHdoZW5ldmVyIHRoZSBxdWVyeSByZXN1bHQgY2hhbmdlcy5cbiAqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgbm90IHVzZWQgdW5kZXIge0BsaW5rIENvbnZleFByb3ZpZGVyfS5cbiAqXG4gKiBAcGFyYW0gcHJlbG9hZGVkUXVlcnkgLSBUaGUgYFByZWxvYWRlZGAgcXVlcnkgcGF5bG9hZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cbiAqIEByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIHF1ZXJ5LiBJbml0aWFsbHkgcmV0dXJucyB0aGUgcmVzdWx0IGZldGNoZWRcbiAqIGJ5IHRoZSBTZXJ2ZXIgQ29tcG9uZW50LiBTdWJzZXF1ZW50bHkgcmV0dXJucyB0aGUgcmVzdWx0IGZldGNoZWQgYnkgdGhlIGNsaWVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQcmVsb2FkZWRRdWVyeTxRdWVyeSBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj4+KFxuICBwcmVsb2FkZWRRdWVyeTogUHJlbG9hZGVkPFF1ZXJ5Pixcbik6IFF1ZXJ5W1wiX3JldHVyblR5cGVcIl0ge1xuICBjb25zdCBhcmdzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBqc29uVG9Db252ZXgocHJlbG9hZGVkUXVlcnkuX2FyZ3NKU09OKSxcbiAgICBbcHJlbG9hZGVkUXVlcnkuX2FyZ3NKU09OXSxcbiAgKSBhcyBRdWVyeVtcIl9hcmdzXCJdO1xuICBjb25zdCBwcmVsb2FkZWRSZXN1bHQgPSB1c2VNZW1vKFxuICAgICgpID0+IGpzb25Ub0NvbnZleChwcmVsb2FkZWRRdWVyeS5fdmFsdWVKU09OKSxcbiAgICBbcHJlbG9hZGVkUXVlcnkuX3ZhbHVlSlNPTl0sXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVF1ZXJ5KFxuICAgIG1ha2VGdW5jdGlvblJlZmVyZW5jZShwcmVsb2FkZWRRdWVyeS5fbmFtZSkgYXMgUXVlcnksXG4gICAgYXJncyxcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gcHJlbG9hZGVkUmVzdWx0IDogcmVzdWx0O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/hydration.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.AuthLoading),\n/* harmony export */   Authenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.Authenticated),\n/* harmony export */   ConvexProvider: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.ConvexProvider),\n/* harmony export */   ConvexProviderWithAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__.ConvexProviderWithAuth),\n/* harmony export */   ConvexReactClient: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.ConvexReactClient),\n/* harmony export */   Unauthenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.Unauthenticated),\n/* harmony export */   includePage: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.includePage),\n/* harmony export */   insertAtBottomIfLoaded: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtBottomIfLoaded),\n/* harmony export */   insertAtPosition: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtPosition),\n/* harmony export */   insertAtTop: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtTop),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   page: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.page),\n/* harmony export */   resetPaginationId: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.resetPaginationId),\n/* harmony export */   useAction: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useAction),\n/* harmony export */   useConvex: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useConvex),\n/* harmony export */   useConvexAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__.useConvexAuth),\n/* harmony export */   useConvexConnectionState: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useConvexConnectionState),\n/* harmony export */   useMutation: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useMutation),\n/* harmony export */   usePaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQuery),\n/* harmony export */   usePaginatedQueryInternal: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQueryInternal),\n/* harmony export */   usePaginatedQuery_experimental: () => (/* reexport safe */ _use_paginated_query2_js__WEBPACK_IMPORTED_MODULE_1__.usePaginatedQuery_experimental),\n/* harmony export */   usePreloadedQuery: () => (/* reexport safe */ _hydration_js__WEBPACK_IMPORTED_MODULE_5__.usePreloadedQuery),\n/* harmony export */   useQueries: () => (/* reexport safe */ _use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries),\n/* harmony export */   useQuery: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useQuery),\n/* harmony export */   useSubscription: () => (/* reexport safe */ _use_subscription_js__WEBPACK_IMPORTED_MODULE_6__.useSubscription)\n/* harmony export */ });\n/* harmony import */ var _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use_paginated_query.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query.js\");\n/* harmony import */ var _use_paginated_query2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use_paginated_query2.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query2.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth_helpers.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/auth_helpers.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n/* harmony import */ var _hydration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hydration.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/hydration.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./use_subscription.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThEYztBQUNpQztBQUNiO0FBQ2lCO0FBRXJDO0FBQ0E7QUFDQTtBQUVrQjtBQWdCekIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVG9vbHMgdG8gaW50ZWdyYXRlIENvbnZleCBpbnRvIFJlYWN0IGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBUaGlzIG1vZHVsZSBjb250YWluczpcbiAqIDEuIHtAbGluayBDb252ZXhSZWFjdENsaWVudH0sIGEgY2xpZW50IGZvciB1c2luZyBDb252ZXggaW4gUmVhY3QuXG4gKiAyLiB7QGxpbmsgQ29udmV4UHJvdmlkZXJ9LCBhIGNvbXBvbmVudCB0aGF0IHN0b3JlcyB0aGlzIGNsaWVudCBpbiBSZWFjdCBjb250ZXh0LlxuICogMy4ge0BsaW5rIEF1dGhlbnRpY2F0ZWR9LCB7QGxpbmsgVW5hdXRoZW50aWNhdGVkfSBhbmQge0BsaW5rIEF1dGhMb2FkaW5nfSBoZWxwZXIgYXV0aCBjb21wb25lbnRzLlxuICogNC4gSG9va3Mge0BsaW5rIHVzZVF1ZXJ5fSwge0BsaW5rIHVzZU11dGF0aW9ufSwge0BsaW5rIHVzZUFjdGlvbn0gYW5kIG1vcmUgZm9yIGFjY2Vzc2luZyB0aGlzXG4gKiAgICBjbGllbnQgZnJvbSB5b3VyIFJlYWN0IGNvbXBvbmVudHMuXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiAjIyMgQ3JlYXRpbmcgdGhlIGNsaWVudFxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IENvbnZleFJlYWN0Q2xpZW50IH0gZnJvbSBcImNvbnZleC9yZWFjdFwiO1xuICpcbiAqIC8vIHR5cGljYWxseSBsb2FkZWQgZnJvbSBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZVxuICogY29uc3QgYWRkcmVzcyA9IFwiaHR0cHM6Ly9zbWFsbC1tb3VzZS0xMjMuY29udmV4LmNsb3VkXCJcbiAqIGNvbnN0IGNvbnZleCA9IG5ldyBDb252ZXhSZWFjdENsaWVudChhZGRyZXNzKTtcbiAqIGBgYFxuICpcbiAqICMjIyBTdG9yaW5nIHRoZSBjbGllbnQgaW4gUmVhY3QgQ29udGV4dFxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IENvbnZleFByb3ZpZGVyIH0gZnJvbSBcImNvbnZleC9yZWFjdFwiO1xuICpcbiAqIDxDb252ZXhQcm92aWRlciBjbGllbnQ9e2NvbnZleH0+XG4gKiAgIDxBcHAgLz5cbiAqIDwvQ29udmV4UHJvdmlkZXI+XG4gKiBgYGBcbiAqXG4gKiAjIyMgVXNpbmcgdGhlIGF1dGggaGVscGVyc1xuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IEF1dGhlbnRpY2F0ZWQsIFVuYXV0aGVudGljYXRlZCwgQXV0aExvYWRpbmcgfSBmcm9tIFwiY29udmV4L3JlYWN0XCI7XG4gKlxuICogPEF1dGhlbnRpY2F0ZWQ+XG4gKiAgIExvZ2dlZCBpblxuICogPC9BdXRoZW50aWNhdGVkPlxuICogPFVuYXV0aGVudGljYXRlZD5cbiAqICAgTG9nZ2VkIG91dFxuICogPC9VbmF1dGhlbnRpY2F0ZWQ+XG4gKiA8QXV0aExvYWRpbmc+XG4gKiAgIFN0aWxsIGxvYWRpbmdcbiAqIDwvQXV0aExvYWRpbmc+XG4gKiBgYGBcbiAqXG4gKiAjIyMgVXNpbmcgUmVhY3QgaG9va3NcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24gfSBmcm9tIFwiY29udmV4L3JlYWN0XCI7XG4gKiBpbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG4gKlxuICogZnVuY3Rpb24gQXBwKCkge1xuICogICBjb25zdCBjb3VudGVyID0gdXNlUXVlcnkoYXBpLmdldENvdW50ZXIuZGVmYXVsdCk7XG4gKiAgIGNvbnN0IGluY3JlbWVudCA9IHVzZU11dGF0aW9uKGFwaS5pbmNyZW1lbnRDb3VudGVyLmRlZmF1bHQpO1xuICogICAvLyBZb3VyIGNvbXBvbmVudCBoZXJlIVxuICogfVxuICogYGBgXG4gKiBAbW9kdWxlXG4gKi9cbmV4cG9ydCAqIGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkuanNcIjtcbmV4cG9ydCB7IHVzZVBhZ2luYXRlZFF1ZXJ5X2V4cGVyaW1lbnRhbCB9IGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkyLmpzXCI7XG5leHBvcnQgeyB1c2VQYWdpbmF0ZWRRdWVyeSB9IGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkuanNcIjtcbmV4cG9ydCB7IHVzZVF1ZXJpZXMsIHR5cGUgUmVxdWVzdEZvclF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuZXhwb3J0IHR5cGUgeyBBdXRoVG9rZW5GZXRjaGVyIH0gZnJvbSBcIi4uL2Jyb3dzZXIvc3luYy9jbGllbnQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2F1dGhfaGVscGVycy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vQ29udmV4QXV0aFN0YXRlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9oeWRyYXRpb24uanNcIjtcbi8qIEBpbnRlcm5hbCAqL1xuZXhwb3J0IHsgdXNlU3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4vdXNlX3N1YnNjcmlwdGlvbi5qc1wiO1xuZXhwb3J0IHtcbiAgdHlwZSBSZWFjdE11dGF0aW9uLFxuICB0eXBlIFJlYWN0QWN0aW9uLFxuICB0eXBlIFdhdGNoLFxuICB0eXBlIFdhdGNoUXVlcnlPcHRpb25zLFxuICB0eXBlIE11dGF0aW9uT3B0aW9ucyxcbiAgdHlwZSBDb252ZXhSZWFjdENsaWVudE9wdGlvbnMsXG4gIHR5cGUgT3B0aW9uYWxSZXN0QXJnc09yU2tpcCxcbiAgQ29udmV4UmVhY3RDbGllbnQsXG4gIHVzZUNvbnZleCxcbiAgQ29udmV4UHJvdmlkZXIsXG4gIHVzZVF1ZXJ5LFxuICB1c2VNdXRhdGlvbixcbiAgdXNlQWN0aW9uLFxuICB1c2VDb252ZXhDb25uZWN0aW9uU3RhdGUsXG59IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/queries_observer.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/queries_observer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueriesObserver: () => (/* binding */ QueriesObserver)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass QueriesObserver {\n    setQueries(newQueries) {\n        for (const identifier of Object.keys(newQueries)){\n            const { query, args, paginationOptions } = newQueries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            if (this.queries[identifier] === void 0) {\n                this.addQuery(identifier, query, args, paginationOptions ? {\n                    paginationOptions\n                } : {});\n            } else {\n                const existingInfo = this.queries[identifier];\n                if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(existingInfo.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(existingInfo.args)) || JSON.stringify(paginationOptions) !== JSON.stringify(existingInfo.paginationOptions)) {\n                    this.removeQuery(identifier);\n                    this.addQuery(identifier, query, args, paginationOptions ? {\n                        paginationOptions\n                    } : {});\n                }\n            }\n        }\n        for (const identifier of Object.keys(this.queries)){\n            if (newQueries[identifier] === void 0) {\n                this.removeQuery(identifier);\n            }\n        }\n    }\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return ()=>{\n            this.listeners.delete(listener);\n        };\n    }\n    getLocalResults(queries) {\n        const result = {};\n        for (const identifier of Object.keys(queries)){\n            const { query, args } = queries[identifier];\n            const paginationOptions = queries[identifier].paginationOptions;\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            const watch = this.createWatch(query, args, paginationOptions ? {\n                paginationOptions\n            } : {});\n            let value;\n            try {\n                value = watch.localQueryResult();\n            } catch (e) {\n                if (e instanceof Error) {\n                    value = e;\n                } else {\n                    throw e;\n                }\n            }\n            result[identifier] = value;\n        }\n        return result;\n    }\n    setCreateWatch(createWatch) {\n        this.createWatch = createWatch;\n        for (const identifier of Object.keys(this.queries)){\n            const { query, args, watch, paginationOptions } = this.queries[identifier];\n            const journal = \"journal\" in watch ? watch.journal() : void 0;\n            this.removeQuery(identifier);\n            this.addQuery(identifier, query, args, {\n                ...journal ? {\n                    journal\n                } : [],\n                ...paginationOptions ? {\n                    paginationOptions\n                } : {}\n            });\n        }\n    }\n    destroy() {\n        for (const identifier of Object.keys(this.queries)){\n            this.removeQuery(identifier);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    addQuery(identifier, query, args, param) {\n        let { paginationOptions, journal } = param;\n        if (this.queries[identifier] !== void 0) {\n            throw new Error(\"Tried to add a new query with identifier \".concat(identifier, \" when it already exists.\"));\n        }\n        const watch = this.createWatch(query, args, {\n            ...journal ? {\n                journal\n            } : [],\n            ...paginationOptions ? {\n                paginationOptions\n            } : {}\n        });\n        const unsubscribe = watch.onUpdate(()=>this.notifyListeners());\n        this.queries[identifier] = {\n            query,\n            args,\n            watch,\n            unsubscribe,\n            ...paginationOptions ? {\n                paginationOptions\n            } : {}\n        };\n    }\n    removeQuery(identifier) {\n        const info = this.queries[identifier];\n        if (info === void 0) {\n            throw new Error(\"No query found with identifier \".concat(identifier, \".\"));\n        }\n        info.unsubscribe();\n        delete this.queries[identifier];\n    }\n    notifyListeners() {\n        for (const listener of this.listeners){\n            listener();\n        }\n    }\n    constructor(createWatch){\n        __publicField(this, \"createWatch\");\n        __publicField(this, \"queries\");\n        __publicField(this, \"listeners\");\n        this.createWatch = createWatch;\n        this.queries = {};\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n} //# sourceMappingURL=queries_observer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvcXVlcmllc19vYnNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBb0M7QUFHZTtBQWdDNUMsTUFBTSxnQkFBZ0I7SUFXM0IsV0FDRSxZQVFBO1FBR0EsV0FBVyxjQUFjLE9BQU8sS0FBSyxVQUFVLEVBQUc7WUFDaEQsTUFBTSxFQUFFLE9BQU8sTUFBTSxrQkFBa0IsSUFBSSxXQUFXLFVBQVU7WUFFaEUsK0RBQWUsQ0FBQyxLQUFLO1lBRXJCLElBQUksS0FBSyxRQUFRLFVBQVUsTUFBTSxRQUFXO2dCQUUxQyxLQUFLLFNBQ0gsWUFDQSxPQUNBLE1BQ0Esb0JBQW9CO29CQUFFO2dCQUFrQixJQUFJLENBQUM7WUFFakQsT0FBTztnQkFDTCxNQUFNLGVBQWUsS0FBSyxRQUFRLFVBQVU7Z0JBRTVDLElBQ0UsK0RBQWUsQ0FBQyxLQUFLLE1BQU0sK0RBQWUsQ0FBQyxhQUFhLEtBQUssS0FDN0QsS0FBSyxVQUFVLDhEQUFZLENBQUMsSUFBSSxDQUFDLE1BQy9CLEtBQUssVUFBVSw4REFBWSxDQUFDLGFBQWEsSUFBSSxDQUFDLEtBQ2hELEtBQUssVUFBVSxpQkFBaUIsTUFDOUIsS0FBSyxVQUFVLGFBQWEsaUJBQWlCLEdBQy9DO29CQUVBLEtBQUssWUFBWSxVQUFVO29CQUMzQixLQUFLLFNBQ0gsWUFDQSxPQUNBLE1BQ0Esb0JBQW9CO3dCQUFFO29CQUFrQixJQUFJLENBQUM7Z0JBRWpEO1lBQ0Y7UUFDRjtRQUdBLFdBQVcsY0FBYyxPQUFPLEtBQUssS0FBSyxPQUFPLEVBQUc7WUFDbEQsSUFBSSxXQUFXLFVBQVUsTUFBTSxRQUFXO2dCQUN4QyxLQUFLLFlBQVksVUFBVTtZQUM3QjtRQUNGO0lBQ0Y7SUFFQSxVQUFVLFVBQWtDO1FBQzFDLEtBQUssVUFBVSxJQUFJLFFBQVE7UUFDM0IsT0FBTztZQUNMLEtBQUssVUFBVSxPQUFPLFFBQVE7UUFDaEM7SUFDRjtJQUVBLGdCQUNFLFNBSUE7UUFDQSxNQUFNLFNBR0YsQ0FBQztRQUNMLFdBQVcsY0FBYyxPQUFPLEtBQUssT0FBTyxFQUFHO1lBQzdDLE1BQU0sRUFBRSxPQUFPLEtBQUssSUFBSSxRQUFRLFVBQVU7WUFDMUMsTUFBTSxvQkFBb0IsUUFBUSxVQUFVLEVBQUU7WUFHOUMsK0RBQWUsQ0FBQyxLQUFLO1lBSXJCLE1BQU0sUUFBUSxLQUFLLFlBQ2pCLE9BQ0EsTUFDQSxvQkFBb0I7Z0JBQUU7WUFBa0IsSUFBSSxDQUFDO1lBRy9DLElBQUk7WUFDSixJQUFJO2dCQUNGLFFBQVEsTUFBTSxpQkFBaUI7WUFDakMsU0FBUyxHQUFHO2dCQUdWLElBQUksYUFBYSxPQUFPO29CQUN0QixRQUFRO2dCQUNWLE9BQU87b0JBQ0wsTUFBTTtnQkFDUjtZQUNGO1lBQ0EsT0FBTyxVQUFVLElBQUk7UUFDdkI7UUFDQSxPQUFPO0lBQ1Q7SUFFQSxlQUFlLGFBQTBCO1FBQ3ZDLEtBQUssY0FBYztRQUduQixXQUFXLGNBQWMsT0FBTyxLQUFLLEtBQUssT0FBTyxFQUFHO1lBQ2xELE1BQU0sRUFBRSxPQUFPLE1BQU0sT0FBTyxrQkFBa0IsSUFDNUMsS0FBSyxRQUFRLFVBQVU7WUFDekIsTUFBTSxVQUFVLGFBQWEsUUFBUSxNQUFNLFFBQVEsSUFBSTtZQUN2RCxLQUFLLFlBQVksVUFBVTtZQUMzQixLQUFLLFNBQVMsWUFBWSxPQUFPLE1BQU07Z0JBQ3JDLEdBQUksVUFBVTtvQkFBRTtnQkFBUSxJQUFJLENBQUM7Z0JBQzdCLEdBQUksb0JBQW9CO29CQUFFO2dCQUFrQixJQUFJLENBQUM7WUFDbkQsQ0FBQztRQUNIO0lBQ0Y7SUFFQSxVQUFVO1FBQ1IsV0FBVyxjQUFjLE9BQU8sS0FBSyxLQUFLLE9BQU8sRUFBRztZQUNsRCxLQUFLLFlBQVksVUFBVTtRQUM3QjtRQUNBLEtBQUssWUFBWSxvQkFBSSxJQUFJO0lBQzNCO0lBRVEsU0FDTixZQUNBLE9BQ0EsV0FJQSxFQUlBO2NBTkUsbUJBQ0EsU0FDRixHQUhBO1FBUUEsSUFBSSxLQUFLLFFBQVEsVUFBVSxNQUFNLFFBQVc7WUFDMUMsTUFBTSxJQUFJLE1BQ1IsNENBQXNELE9BQVYsVUFBVTtRQUUxRDtRQUNBLE1BQU0sUUFBUSxLQUFLLFlBQVksT0FBTyxNQUFNO1lBQzFDLEdBQUksVUFBVTtnQkFBRTtZQUFRLElBQUksQ0FBQztZQUM3QixHQUFJLG9CQUFvQjtnQkFBRTtZQUFrQixJQUFJLENBQUM7UUFDbkQsQ0FBQztRQUNELE1BQU0sY0FBYyxNQUFNLFNBQVMsSUFBTSxLQUFLLGdCQUFnQixDQUFDO1FBQy9ELEtBQUssUUFBUSxVQUFVLElBQUk7WUFDekI7WUFDQTtZQUNBO1lBQ0E7WUFDQSxHQUFJLG9CQUFvQjtnQkFBRTtZQUFrQixJQUFJLENBQUM7UUFDbkQ7SUFDRjtJQUVRLFlBQVksWUFBd0I7UUFDMUMsTUFBTSxPQUFPLEtBQUssUUFBUSxVQUFVO1FBQ3BDLElBQUksU0FBUyxRQUFXO1lBQ3RCLE1BQU0sSUFBSSxNQUFNLGtDQUE0QyxPQUFWLFVBQVUsSUFBRztRQUNqRTtRQUNBLEtBQUssWUFBWTtRQUNqQixPQUFPLEtBQUssUUFBUSxVQUFVO0lBQ2hDO0lBRVEsa0JBQXdCO1FBQzlCLFdBQVcsWUFBWSxLQUFLLFVBQVc7WUFDckMsU0FBUztRQUNYO0lBQ0Y7SUFqTEEsWUFBWSxZQUEwQjtRQUp0QyxvQkFBTztRQUNQLG9CQUFRO1FBQ1Isb0JBQVE7UUFHTixLQUFLLGNBQWM7UUFDbkIsS0FBSyxVQUFVLENBQUM7UUFDaEIsS0FBSyxZQUFZLG9CQUFJLElBQUk7SUFDM0I7QUE4S0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udmV4VG9Kc29uLCBWYWx1ZSB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IFBhZ2luYXRlZFdhdGNoLCBXYXRjaCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgUXVlcnlKb3VybmFsIH0gZnJvbSBcIi4uL2Jyb3dzZXIvc3luYy9wcm90b2NvbC5qc1wiO1xuaW1wb3J0IHsgRnVuY3Rpb25SZWZlcmVuY2UsIGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0Rm9yUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5pbXBvcnQgeyBQYWdpbmF0ZWRRdWVyeVJlc3VsdCB9IGZyb20gXCIuLi9icm93c2VyL3N5bmMvcGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IHsgU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnMgfSBmcm9tIFwiLi4vYnJvd3Nlci9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanNcIjtcblxudHlwZSBJZGVudGlmaWVyID0gc3RyaW5nO1xuXG50eXBlIFF1ZXJ5SW5mbyA9IHtcbiAgcXVlcnk6IEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj47XG4gIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPjtcbiAgd2F0Y2g6IFdhdGNoPFZhbHVlPiB8IFBhZ2luYXRlZFdhdGNoPFZhbHVlPjtcbiAgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQ7XG4gIHBhZ2luYXRpb25PcHRpb25zPzogU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnM7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVdhdGNoIHtcbiAgKFxuICAgIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+LFxuICAgIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPixcbiAgICBvcHRpb25zOiB7XG4gICAgICBqb3VybmFsPzogUXVlcnlKb3VybmFsO1xuICAgICAgLy8gSnVzdCB0aGUgZXhpc3RlbmNlIG9mIHRoaXMgb3B0aW9uIG1ha2VzIHRoaXMgYSBwYWdpbmF0ZWQgcXVlcnlcbiAgICAgIHBhZ2luYXRpb25PcHRpb25zPzogU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnM7XG4gICAgfSxcbiAgKTogV2F0Y2g8VmFsdWU+IHwgUGFnaW5hdGVkV2F0Y2g8VmFsdWU+O1xufVxuXG4vKipcbiAqIEEgY2xhc3MgZm9yIG9ic2VydmluZyB0aGUgcmVzdWx0cyBvZiBtdWx0aXBsZSBxdWVyaWVzIGF0IHRoZSBzYW1lIHRpbWUuXG4gKlxuICogQW55IHRpbWUgdGhlIHJlc3VsdCBvZiBhIHF1ZXJ5IGNoYW5nZXMsIHRoZSBsaXN0ZW5lcnMgYXJlIG5vdGlmaWVkLlxuICovXG5leHBvcnQgY2xhc3MgUXVlcmllc09ic2VydmVyIHtcbiAgcHVibGljIGNyZWF0ZVdhdGNoOiBDcmVhdGVXYXRjaDtcbiAgcHJpdmF0ZSBxdWVyaWVzOiBSZWNvcmQ8SWRlbnRpZmllciwgUXVlcnlJbmZvPjtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IFNldDwoKSA9PiB2b2lkPjtcblxuICBjb25zdHJ1Y3RvcihjcmVhdGVXYXRjaDogQ3JlYXRlV2F0Y2gpIHtcbiAgICB0aGlzLmNyZWF0ZVdhdGNoID0gY3JlYXRlV2F0Y2g7XG4gICAgdGhpcy5xdWVyaWVzID0ge307XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBzZXRRdWVyaWVzKFxuICAgIG5ld1F1ZXJpZXM6IFJlY29yZDxcbiAgICAgIElkZW50aWZpZXIsXG4gICAgICB7XG4gICAgICAgIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+O1xuICAgICAgICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT47XG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zPzogU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnM7XG4gICAgICB9XG4gICAgPixcbiAgKSB7XG4gICAgLy8gQWRkIHRoZSBuZXcgcXVlcmllcyBiZWZvcmUgdW5zdWJzY3JpYmluZyBmcm9tIHRoZSBvbGQgb25lcyBzbyB0aGF0XG4gICAgLy8gdGhlIGRlZHVwaW5nIGluIHRoZSBgQ29udmV4UmVhY3RDbGllbnRgIGNhbiBoZWxwIGlmIHRoZXJlIGFyZSBkdXBsaWNhdGVzLlxuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyhuZXdRdWVyaWVzKSkge1xuICAgICAgY29uc3QgeyBxdWVyeSwgYXJncywgcGFnaW5hdGlvbk9wdGlvbnMgfSA9IG5ld1F1ZXJpZXNbaWRlbnRpZmllcl07XG4gICAgICAvLyBNaWdodCB0aHJvd1xuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcblxuICAgICAgaWYgKHRoaXMucXVlcmllc1tpZGVudGlmaWVyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIE5vIGV4aXN0aW5nIHF1ZXJ5ID0+IGFkZCBpdC5cbiAgICAgICAgdGhpcy5hZGRRdWVyeShcbiAgICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMgPyB7IHBhZ2luYXRpb25PcHRpb25zIH0gOiB7fSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5mbyA9IHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSAhPT0gZ2V0RnVuY3Rpb25OYW1lKGV4aXN0aW5nSW5mby5xdWVyeSkgfHxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oYXJncykpICE9PVxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGV4aXN0aW5nSW5mby5hcmdzKSkgfHxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwYWdpbmF0aW9uT3B0aW9ucykgIT09XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShleGlzdGluZ0luZm8ucGFnaW5hdGlvbk9wdGlvbnMpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEV4aXN0aW5nIHF1ZXJ5IHRoYXQgZG9lc24ndCBtYXRjaCA9PiByZW1vdmUgdGhlIG9sZCBhbmQgYWRkIHRoZSBuZXcuXG4gICAgICAgICAgdGhpcy5yZW1vdmVRdWVyeShpZGVudGlmaWVyKTtcbiAgICAgICAgICB0aGlzLmFkZFF1ZXJ5KFxuICAgICAgICAgICAgaWRlbnRpZmllcixcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zID8geyBwYWdpbmF0aW9uT3B0aW9ucyB9IDoge30sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFBydW5lIGFsbCB0aGUgZXhpc3RpbmcgcXVlcmllcyB0aGF0IHdlIG5vIGxvbmdlciBuZWVkLlxuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICBpZiAobmV3UXVlcmllc1tpZGVudGlmaWVyXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyOiAoKSA9PiB2b2lkKTogKCkgPT4gdm9pZCB7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9O1xuICB9XG5cbiAgZ2V0TG9jYWxSZXN1bHRzKFxuICAgIHF1ZXJpZXM6IFJlcXVlc3RGb3JRdWVyaWVzLFxuICApOiBSZWNvcmQ8XG4gICAgSWRlbnRpZmllcixcbiAgICBWYWx1ZSB8IHVuZGVmaW5lZCB8IEVycm9yIHwgUGFnaW5hdGVkUXVlcnlSZXN1bHQ8VmFsdWU+XG4gID4ge1xuICAgIGNvbnN0IHJlc3VsdDogUmVjb3JkPFxuICAgICAgSWRlbnRpZmllcixcbiAgICAgIFZhbHVlIHwgRXJyb3IgfCB1bmRlZmluZWQgfCBQYWdpbmF0ZWRRdWVyeVJlc3VsdDxWYWx1ZT5cbiAgICA+ID0ge307XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHF1ZXJpZXMpKSB7XG4gICAgICBjb25zdCB7IHF1ZXJ5LCBhcmdzIH0gPSBxdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgICAgY29uc3QgcGFnaW5hdGlvbk9wdGlvbnMgPSBxdWVyaWVzW2lkZW50aWZpZXJdLnBhZ2luYXRpb25PcHRpb25zO1xuXG4gICAgICAvLyBNaWdodCB0aHJvd1xuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcblxuICAgICAgLy8gTm90ZTogV2UncmUgbm90IGdvbm5hIHdhdGNoLCB3ZSBjb3VsZCBzYXZlIHNvbWUgYWxsb2NhdGlvbnNcbiAgICAgIC8vIGJ5IGdldHRpbmcgYSByZWZlcmVuY2UgdG8gdGhlIGNsaWVudCBkaXJlY3RseSBpbnN0ZWFkLlxuICAgICAgY29uc3Qgd2F0Y2ggPSB0aGlzLmNyZWF0ZVdhdGNoKFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMgPyB7IHBhZ2luYXRpb25PcHRpb25zIH0gOiB7fSxcbiAgICAgICk7XG5cbiAgICAgIGxldCB2YWx1ZTogVmFsdWUgfCB1bmRlZmluZWQgfCBFcnJvciB8IFBhZ2luYXRlZFF1ZXJ5UmVzdWx0PFZhbHVlPjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gd2F0Y2gubG9jYWxRdWVyeVJlc3VsdCgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBPbmx5IGNvbGxlY3QgaW5zdGFuY2VzIG9mIGBFcnJvcmAgYmVjYXVzZSB0aGF0cyBob3cgY2FsbGVyc1xuICAgICAgICAvLyB3aWxsIGRpc3Rpbmd1aXNoIGVycm9ycyBmcm9tIG5vcm1hbCByZXN1bHRzLlxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgdmFsdWUgPSBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdFtpZGVudGlmaWVyXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgc2V0Q3JlYXRlV2F0Y2goY3JlYXRlV2F0Y2g6IENyZWF0ZVdhdGNoKSB7XG4gICAgdGhpcy5jcmVhdGVXYXRjaCA9IGNyZWF0ZVdhdGNoO1xuICAgIC8vIElmIHdlIGhhdmUgYSBuZXcgd2F0Y2gsIHdlIG1pZ2h0IGJlIHVzaW5nIGEgbmV3IENvbnZleCBjbGllbnQuXG4gICAgLy8gUmVjcmVhdGUgYWxsIHRoZSB3YXRjaGVzIGJlaW5nIGNhcmVmdWwgdG8gcHJlc2VydmUgdGhlIGpvdXJuYWxzLlxuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICBjb25zdCB7IHF1ZXJ5LCBhcmdzLCB3YXRjaCwgcGFnaW5hdGlvbk9wdGlvbnMgfSA9XG4gICAgICAgIHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGNvbnN0IGpvdXJuYWwgPSBcImpvdXJuYWxcIiBpbiB3YXRjaCA/IHdhdGNoLmpvdXJuYWwoKSA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgICB0aGlzLmFkZFF1ZXJ5KGlkZW50aWZpZXIsIHF1ZXJ5LCBhcmdzLCB7XG4gICAgICAgIC4uLihqb3VybmFsID8geyBqb3VybmFsIH0gOiBbXSksXG4gICAgICAgIC4uLihwYWdpbmF0aW9uT3B0aW9ucyA/IHsgcGFnaW5hdGlvbk9wdGlvbnMgfSA6IHt9KSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykpIHtcbiAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRRdWVyeShcbiAgICBpZGVudGlmaWVyOiBJZGVudGlmaWVyLFxuICAgIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+LFxuICAgIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPixcbiAgICB7XG4gICAgICBwYWdpbmF0aW9uT3B0aW9ucyxcbiAgICAgIGpvdXJuYWwsXG4gICAgfToge1xuICAgICAgcGFnaW5hdGlvbk9wdGlvbnM/OiBTdWJzY3JpYmVUb1BhZ2luYXRlZFF1ZXJ5T3B0aW9ucztcbiAgICAgIGpvdXJuYWw/OiBRdWVyeUpvdXJuYWw7XG4gICAgfSxcbiAgKSB7XG4gICAgaWYgKHRoaXMucXVlcmllc1tpZGVudGlmaWVyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUcmllZCB0byBhZGQgYSBuZXcgcXVlcnkgd2l0aCBpZGVudGlmaWVyICR7aWRlbnRpZmllcn0gd2hlbiBpdCBhbHJlYWR5IGV4aXN0cy5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgd2F0Y2ggPSB0aGlzLmNyZWF0ZVdhdGNoKHF1ZXJ5LCBhcmdzLCB7XG4gICAgICAuLi4oam91cm5hbCA/IHsgam91cm5hbCB9IDogW10pLFxuICAgICAgLi4uKHBhZ2luYXRpb25PcHRpb25zID8geyBwYWdpbmF0aW9uT3B0aW9ucyB9IDoge30pLFxuICAgIH0pO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gd2F0Y2gub25VcGRhdGUoKCkgPT4gdGhpcy5ub3RpZnlMaXN0ZW5lcnMoKSk7XG4gICAgdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdID0ge1xuICAgICAgcXVlcnksXG4gICAgICBhcmdzLFxuICAgICAgd2F0Y2gsXG4gICAgICB1bnN1YnNjcmliZSxcbiAgICAgIC4uLihwYWdpbmF0aW9uT3B0aW9ucyA/IHsgcGFnaW5hdGlvbk9wdGlvbnMgfSA6IHt9KSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVRdWVyeShpZGVudGlmaWVyOiBJZGVudGlmaWVyKSB7XG4gICAgY29uc3QgaW5mbyA9IHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICBpZiAoaW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHF1ZXJ5IGZvdW5kIHdpdGggaWRlbnRpZmllciAke2lkZW50aWZpZXJ9LmApO1xuICAgIH1cbiAgICBpbmZvLnVuc3Vic2NyaWJlKCk7XG4gICAgZGVsZXRlIHRoaXMucXVlcmllc1tpZGVudGlmaWVyXTtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/queries_observer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   includePage: () => (/* binding */ includePage),\n/* harmony export */   insertAtBottomIfLoaded: () => (/* binding */ insertAtBottomIfLoaded),\n/* harmony export */   insertAtPosition: () => (/* binding */ insertAtPosition),\n/* harmony export */   insertAtTop: () => (/* binding */ insertAtTop),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* binding */ optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   page: () => (/* binding */ page),\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery: () => (/* binding */ usePaginatedQuery),\n/* harmony export */   usePaginatedQueryInternal: () => (/* binding */ usePaginatedQueryInternal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../values/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _values_compare_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../values/compare.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/compare.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\"use strict\";\n\n\n\n\n\n\nconst splitQuery = (key, splitCursor, continueCursor)=>(prevState)=>{\n        const queries = {\n            ...prevState.queries\n        };\n        const splitKey1 = prevState.nextPageKey;\n        const splitKey2 = prevState.nextPageKey + 1;\n        const nextPageKey = prevState.nextPageKey + 2;\n        queries[splitKey1] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    endCursor: splitCursor\n                }\n            }\n        };\n        queries[splitKey2] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    cursor: splitCursor,\n                    endCursor: continueCursor\n                }\n            }\n        };\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        ongoingSplits[key] = [\n            splitKey1,\n            splitKey2\n        ];\n        return {\n            ...prevState,\n            nextPageKey,\n            queries,\n            ongoingSplits\n        };\n    };\nconst completeSplitQuery = (key)=>(prevState)=>{\n        const completedSplit = prevState.ongoingSplits[key];\n        if (completedSplit === void 0) {\n            return prevState;\n        }\n        const queries = {\n            ...prevState.queries\n        };\n        delete queries[key];\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        delete ongoingSplits[key];\n        let pageKeys = prevState.pageKeys.slice();\n        const pageIndex = prevState.pageKeys.findIndex((v)=>v === key);\n        if (pageIndex >= 0) {\n            pageKeys = [\n                ...prevState.pageKeys.slice(0, pageIndex),\n                ...completedSplit,\n                ...prevState.pageKeys.slice(pageIndex + 1)\n            ];\n        }\n        return {\n            ...prevState,\n            queries,\n            pageKeys,\n            ongoingSplits\n        };\n    };\nfunction usePaginatedQuery(query, args, options) {\n    _s();\n    const { user } = usePaginatedQueryInternal(query, args, options);\n    return user;\n}\n_s(usePaginatedQuery, \"B2M7fdOdDoM9hqoGjJbqLpq+AmM=\", false, function() {\n    return [\n        usePaginatedQueryInternal\n    ];\n});\nconst includePage = Symbol(\"includePageKeys\");\nconst page = Symbol(\"page\");\nfunction usePaginatedQueryInternal(query, args, options) {\n    _s1();\n    if (typeof (options === null || options === void 0 ? void 0 : options.initialNumItems) !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(\"`options.initialNumItems` must be a positive number. Received `\".concat(options === null || options === void 0 ? void 0 : options.initialNumItems, \"`.\"));\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query);\n    const createInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"usePaginatedQueryInternal.useMemo[createInitialState]\": ()=>{\n            return ({\n                \"usePaginatedQueryInternal.useMemo[createInitialState]\": ()=>{\n                    const id = nextPaginationId();\n                    return {\n                        query,\n                        args: argsObject,\n                        id,\n                        nextPageKey: 1,\n                        pageKeys: skip ? [] : [\n                            0\n                        ],\n                        queries: skip ? {} : {\n                            0: {\n                                query,\n                                args: {\n                                    ...argsObject,\n                                    paginationOpts: {\n                                        numItems: options.initialNumItems,\n                                        cursor: null,\n                                        id\n                                    }\n                                }\n                            }\n                        },\n                        ongoingSplits: {},\n                        skip\n                    };\n                }\n            })[\"usePaginatedQueryInternal.useMemo[createInitialState]\"];\n        }\n    }[\"usePaginatedQueryInternal.useMemo[createInitialState]\"], [\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)),\n        queryName,\n        options.initialNumItems,\n        skip\n    ]);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(state.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const convexClient = (0,_client_js__WEBPACK_IMPORTED_MODULE_4__.useConvex)();\n    const logger = convexClient.logger;\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries)(currState.queries);\n    var _options_includePage;\n    const isIncludingPageKeys = (_options_includePage = options[includePage]) !== null && _options_includePage !== void 0 ? _options_includePage : false;\n    const [results, maybeLastResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"usePaginatedQueryInternal.useMemo\": ()=>{\n            let currResult = void 0;\n            const allItems = [];\n            for (const pageKey of currState.pageKeys){\n                currResult = resultsObject[pageKey];\n                if (currResult === void 0) {\n                    break;\n                }\n                if (currResult instanceof Error) {\n                    var _currResult_data, _currResult_data1;\n                    if (currResult.message.includes(\"InvalidCursor\") || currResult instanceof _values_index_js__WEBPACK_IMPORTED_MODULE_1__.ConvexError && typeof currResult.data === \"object\" && ((_currResult_data = currResult.data) === null || _currResult_data === void 0 ? void 0 : _currResult_data.isConvexSystemError) === true && ((_currResult_data1 = currResult.data) === null || _currResult_data1 === void 0 ? void 0 : _currResult_data1.paginationError) === \"InvalidCursor\") {\n                        logger.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + currResult.message);\n                        setState(createInitialState);\n                        return [\n                            [],\n                            void 0\n                        ];\n                    } else {\n                        throw currResult;\n                    }\n                }\n                const ongoingSplit = currState.ongoingSplits[pageKey];\n                if (ongoingSplit !== void 0) {\n                    if (resultsObject[ongoingSplit[0]] !== void 0 && resultsObject[ongoingSplit[1]] !== void 0) {\n                        setState(completeSplitQuery(pageKey));\n                    }\n                } else if (currResult.splitCursor && (currResult.pageStatus === \"SplitRecommended\" || currResult.pageStatus === \"SplitRequired\" || currResult.page.length > options.initialNumItems * 2)) {\n                    setState(splitQuery(pageKey, currResult.splitCursor, currResult.continueCursor));\n                }\n                if (currResult.pageStatus === \"SplitRequired\") {\n                    return [\n                        allItems,\n                        void 0\n                    ];\n                }\n                allItems.push(...isIncludingPageKeys ? currResult.page.map({\n                    \"usePaginatedQueryInternal.useMemo\": (i)=>({\n                            ...i,\n                            [page]: pageKey.toString()\n                        })\n                }[\"usePaginatedQueryInternal.useMemo\"]) : currResult.page);\n            }\n            return [\n                allItems,\n                currResult\n            ];\n        }\n    }[\"usePaginatedQueryInternal.useMemo\"], [\n        resultsObject,\n        currState.pageKeys,\n        currState.ongoingSplits,\n        options.initialNumItems,\n        createInitialState,\n        logger,\n        isIncludingPageKeys\n    ]);\n    const statusObject = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"usePaginatedQueryInternal.useMemo[statusObject]\": ()=>{\n            if (maybeLastResult === void 0) {\n                if (currState.nextPageKey === 1) {\n                    return {\n                        status: \"LoadingFirstPage\",\n                        isLoading: true,\n                        loadMore: ({\n                            \"usePaginatedQueryInternal.useMemo[statusObject]\": (_numItems)=>{}\n                        })[\"usePaginatedQueryInternal.useMemo[statusObject]\"]\n                    };\n                } else {\n                    return {\n                        status: \"LoadingMore\",\n                        isLoading: true,\n                        loadMore: ({\n                            \"usePaginatedQueryInternal.useMemo[statusObject]\": (_numItems)=>{}\n                        })[\"usePaginatedQueryInternal.useMemo[statusObject]\"]\n                    };\n                }\n            }\n            if (maybeLastResult.isDone) {\n                return {\n                    status: \"Exhausted\",\n                    isLoading: false,\n                    loadMore: ({\n                        \"usePaginatedQueryInternal.useMemo[statusObject]\": (_numItems)=>{}\n                    })[\"usePaginatedQueryInternal.useMemo[statusObject]\"]\n                };\n            }\n            const continueCursor = maybeLastResult.continueCursor;\n            let alreadyLoadingMore = false;\n            return {\n                status: \"CanLoadMore\",\n                isLoading: false,\n                loadMore: ({\n                    \"usePaginatedQueryInternal.useMemo[statusObject]\": (numItems)=>{\n                        if (!alreadyLoadingMore) {\n                            alreadyLoadingMore = true;\n                            setState({\n                                \"usePaginatedQueryInternal.useMemo[statusObject]\": (prevState)=>{\n                                    const pageKeys = [\n                                        ...prevState.pageKeys,\n                                        prevState.nextPageKey\n                                    ];\n                                    const queries = {\n                                        ...prevState.queries\n                                    };\n                                    queries[prevState.nextPageKey] = {\n                                        query: prevState.query,\n                                        args: {\n                                            ...prevState.args,\n                                            paginationOpts: {\n                                                numItems,\n                                                cursor: continueCursor,\n                                                id: prevState.id\n                                            }\n                                        }\n                                    };\n                                    return {\n                                        ...prevState,\n                                        nextPageKey: prevState.nextPageKey + 1,\n                                        pageKeys,\n                                        queries\n                                    };\n                                }\n                            }[\"usePaginatedQueryInternal.useMemo[statusObject]\"]);\n                        }\n                    }\n                })[\"usePaginatedQueryInternal.useMemo[statusObject]\"]\n            };\n        }\n    }[\"usePaginatedQueryInternal.useMemo[statusObject]\"], [\n        maybeLastResult,\n        currState.nextPageKey\n    ]);\n    return {\n        user: {\n            results,\n            ...statusObject\n        },\n        internal: {\n            state: currState\n        }\n    };\n}\n_s1(usePaginatedQueryInternal, \"x1EhudgnhdYQsmoNTE/UgWV3rcM=\", false, function() {\n    return [\n        _client_js__WEBPACK_IMPORTED_MODULE_4__.useConvex,\n        _use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries\n    ];\n});\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n}\nfunction optimisticallyUpdateValueInPaginatedQuery(localStore, query, args, updateValue) {\n    const expectedArgs = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(args));\n    for (const queryResult of localStore.getAllQueries(query)){\n        if (queryResult.value !== void 0) {\n            const { paginationOpts: _, ...innerArgs } = queryResult.args;\n            if (JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(innerArgs)) === expectedArgs) {\n                const value = queryResult.value;\n                if (typeof value === \"object\" && value !== null && Array.isArray(value.page)) {\n                    localStore.setQuery(query, queryResult.args, {\n                        ...value,\n                        page: value.page.map(updateValue)\n                    });\n                }\n            }\n        }\n    }\n}\nfunction insertAtTop(options) {\n    const { paginatedQuery, argsToMatch, localQueryStore, item } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queriesThatMatch = queries.filter((q)=>{\n        if (argsToMatch === void 0) {\n            return true;\n        }\n        return Object.keys(argsToMatch).every(// @ts-expect-error -- This should be safe since both should be plain objects\n        (k)=>(0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(argsToMatch[k], q.args[k]) === 0);\n    });\n    const firstPage = queriesThatMatch.find((q)=>q.args.paginationOpts.cursor === null);\n    if (firstPage === void 0 || firstPage.value === void 0) {\n        return;\n    }\n    localQueryStore.setQuery(paginatedQuery, firstPage.args, {\n        ...firstPage.value,\n        page: [\n            item,\n            ...firstPage.value.page\n        ]\n    });\n}\nfunction insertAtBottomIfLoaded(options) {\n    const { paginatedQuery, localQueryStore, item, argsToMatch } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queriesThatMatch = queries.filter((q)=>{\n        if (argsToMatch === void 0) {\n            return true;\n        }\n        return Object.keys(argsToMatch).every(// @ts-expect-error -- This should be safe since both should be plain objects\n        (k)=>(0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(argsToMatch[k], q.args[k]) === 0);\n    });\n    const lastPage = queriesThatMatch.find((q)=>q.value !== void 0 && q.value.isDone);\n    if (lastPage === void 0) {\n        return;\n    }\n    localQueryStore.setQuery(paginatedQuery, lastPage.args, {\n        ...lastPage.value,\n        page: [\n            ...lastPage.value.page,\n            item\n        ]\n    });\n}\nfunction insertAtPosition(options) {\n    const { paginatedQuery, sortOrder, sortKeyFromItem, localQueryStore, item, argsToMatch } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queryGroups = {};\n    for (const query of queries){\n        if (argsToMatch !== void 0 && !Object.keys(argsToMatch).every((k)=>// @ts-ignore why is this not working?\n            argsToMatch[k] === query.args[k])) {\n            continue;\n        }\n        const key = JSON.stringify(Object.fromEntries(Object.entries(query.args).map((param)=>{\n            let [k, v] = param;\n            return [\n                k,\n                k === \"paginationOpts\" ? v.id : v\n            ];\n        })));\n        var _queryGroups_key;\n        (_queryGroups_key = queryGroups[key]) !== null && _queryGroups_key !== void 0 ? _queryGroups_key : queryGroups[key] = [];\n        queryGroups[key].push(query);\n    }\n    for (const pageQueries of Object.values(queryGroups)){\n        insertAtPositionInPages({\n            pageQueries,\n            paginatedQuery,\n            sortOrder,\n            sortKeyFromItem,\n            localQueryStore,\n            item\n        });\n    }\n}\nfunction insertAtPositionInPages(options) {\n    const { pageQueries, sortOrder, sortKeyFromItem, localQueryStore, item, paginatedQuery } = options;\n    const insertedKey = sortKeyFromItem(item);\n    const loadedPages = pageQueries.filter((q)=>q.value !== void 0 && q.value.page.length > 0);\n    const sortedPages = loadedPages.sort((a, b)=>{\n        const aKey = sortKeyFromItem(a.value.page[0]);\n        const bKey = sortKeyFromItem(b.value.page[0]);\n        if (sortOrder === \"asc\") {\n            return (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(aKey, bKey);\n        } else {\n            return (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(bKey, aKey);\n        }\n    });\n    const firstLoadedPage = sortedPages[0];\n    if (firstLoadedPage === void 0) {\n        return;\n    }\n    const firstPageKey = sortKeyFromItem(firstLoadedPage.value.page[0]);\n    const isBeforeFirstPage = sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, firstPageKey) <= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, firstPageKey) >= 0;\n    if (isBeforeFirstPage) {\n        if (firstLoadedPage.args.paginationOpts.cursor === null) {\n            localQueryStore.setQuery(paginatedQuery, firstLoadedPage.args, {\n                ...firstLoadedPage.value,\n                page: [\n                    item,\n                    ...firstLoadedPage.value.page\n                ]\n            });\n        } else {\n            return;\n        }\n        return;\n    }\n    const lastLoadedPage = sortedPages[sortedPages.length - 1];\n    if (lastLoadedPage === void 0) {\n        return;\n    }\n    const lastPageKey = sortKeyFromItem(lastLoadedPage.value.page[lastLoadedPage.value.page.length - 1]);\n    const isAfterLastPage = sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, lastPageKey) >= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, lastPageKey) <= 0;\n    if (isAfterLastPage) {\n        if (lastLoadedPage.value.isDone) {\n            localQueryStore.setQuery(paginatedQuery, lastLoadedPage.args, {\n                ...lastLoadedPage.value,\n                page: [\n                    ...lastLoadedPage.value.page,\n                    item\n                ]\n            });\n        }\n        return;\n    }\n    const successorPageIndex = sortedPages.findIndex((p)=>sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(p.value.page[0]), insertedKey) > 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(p.value.page[0]), insertedKey) < 0);\n    const pageToUpdate = successorPageIndex === -1 ? sortedPages[sortedPages.length - 1] : sortedPages[successorPageIndex - 1];\n    if (pageToUpdate === void 0) {\n        return;\n    }\n    const indexWithinPage = pageToUpdate.value.page.findIndex((e)=>sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(e), insertedKey) >= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(e), insertedKey) <= 0);\n    const newPage = indexWithinPage === -1 ? [\n        ...pageToUpdate.value.page,\n        item\n    ] : [\n        ...pageToUpdate.value.page.slice(0, indexWithinPage),\n        item,\n        ...pageToUpdate.value.page.slice(indexWithinPage)\n    ];\n    localQueryStore.setQuery(paginatedQuery, pageToUpdate.args, {\n        ...pageToUpdate.value,\n        page: newPage\n    });\n} //# sourceMappingURL=use_paginated_query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3BhZ2luYXRlZF9xdWVyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQztBQVNzQjtBQUM3QjtBQUtwQjtBQUVtQjtBQUNJO0FBeUM5QixNQUFNLGFBQ0osQ0FBQyxLQUFtQixhQUFxQixpQkFDekMsQ0FBQztRQUNDLE1BQU0sVUFBVTtZQUFFLEdBQUcsVUFBVTtRQUFRO1FBQ3ZDLE1BQU0sWUFBWSxVQUFVO1FBQzVCLE1BQU0sWUFBWSxVQUFVLGNBQWM7UUFDMUMsTUFBTSxjQUFjLFVBQVUsY0FBYztRQUM1QyxRQUFRLFNBQVMsSUFBSTtZQUNuQixPQUFPLFVBQVU7WUFDakIsTUFBTTtnQkFDSixHQUFHLFVBQVU7Z0JBQ2IsZ0JBQWdCO29CQUNkLEdBQUcsVUFBVSxRQUFRLEdBQUcsRUFBRSxLQUFLO29CQUMvQixXQUFXO2dCQUNiO1lBQ0Y7UUFDRjtRQUNBLFFBQVEsU0FBUyxJQUFJO1lBQ25CLE9BQU8sVUFBVTtZQUNqQixNQUFNO2dCQUNKLEdBQUcsVUFBVTtnQkFDYixnQkFBZ0I7b0JBQ2QsR0FBRyxVQUFVLFFBQVEsR0FBRyxFQUFFLEtBQUs7b0JBQy9CLFFBQVE7b0JBQ1IsV0FBVztnQkFDYjtZQUNGO1FBQ0Y7UUFDQSxNQUFNLGdCQUFnQjtZQUFFLEdBQUcsVUFBVTtRQUFjO1FBQ25ELGNBQWMsR0FBRyxJQUFJO1lBQUM7WUFBVyxTQUFTO1NBQUE7UUFDMUMsT0FBTztZQUNMLEdBQUc7WUFDSDtZQUNBO1lBQ0E7UUFDRjtJQUNGO0FBRUYsTUFBTSxxQkFDSixDQUFDLE1BQXNCLENBQUM7UUFDdEIsTUFBTSxpQkFBaUIsVUFBVSxjQUFjLEdBQUc7UUFDbEQsSUFBSSxtQkFBbUIsUUFBVztZQUNoQyxPQUFPO1FBQ1Q7UUFDQSxNQUFNLFVBQVU7WUFBRSxHQUFHLFVBQVU7UUFBUTtRQUN2QyxPQUFPLFFBQVEsR0FBRztR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SyxNQUFNLEdBQUcsZUFBZTtRQUNuRDtXQUNHLGFBQWEsTUFBTSxLQUFLLE1BQU0sZUFBZTtLQUNsRDtJQUNOLGdCQUFnQixTQUFTLGdCQUFnQixhQUFhLE1BQU07UUFDMUQsR0FBRyxhQUFhO1FBQ2hCLE1BQU07SUFDUixDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgT3B0aW1pc3RpY0xvY2FsU3RvcmUgfSBmcm9tIFwiLi4vYnJvd3Nlci9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgRnVuY3Rpb25SZXR1cm5UeXBlLFxuICBQYWdpbmF0aW9uT3B0aW9ucyxcbiAgcGFnaW5hdGlvbk9wdHNWYWxpZGF0b3IsXG4gIFBhZ2luYXRpb25SZXN1bHQsXG59IGZyb20gXCIuLi9zZXJ2ZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yLCBjb252ZXhUb0pzb24sIEluZmVyLCBWYWx1ZSB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuaW1wb3J0IHtcbiAgRnVuY3Rpb25BcmdzLFxuICBGdW5jdGlvblJlZmVyZW5jZSxcbiAgZ2V0RnVuY3Rpb25OYW1lLFxufSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgQmV0dGVyT21pdCwgRXhwYW5kIH0gZnJvbSBcIi4uL3R5cGVfdXRpbHMuanNcIjtcbmltcG9ydCB7IHVzZUNvbnZleCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZVZhbHVlcyB9IGZyb20gXCIuLi92YWx1ZXMvY29tcGFyZS5qc1wiO1xuXG4vKipcbiAqIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gdGhhdCBpcyB1c2FibGUgd2l0aCB7QGxpbmsgdXNlUGFnaW5hdGVkUXVlcnl9LlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmVmZXJlbmNlIG11c3Q6XG4gKiAtIFJlZmVyIHRvIGEgcHVibGljIHF1ZXJ5XG4gKiAtIEhhdmUgYW4gYXJndW1lbnQgbmFtZWQgXCJwYWdpbmF0aW9uT3B0c1wiIG9mIHR5cGUge0BsaW5rIHNlcnZlci5QYWdpbmF0aW9uT3B0aW9uc31cbiAqIC0gSGF2ZSBhIHJldHVybiB0eXBlIG9mIHtAbGluayBzZXJ2ZXIuUGFnaW5hdGlvblJlc3VsdH0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZSA9IEZ1bmN0aW9uUmVmZXJlbmNlPFxuICBcInF1ZXJ5XCIsXG4gIFwicHVibGljXCIsXG4gIHsgcGFnaW5hdGlvbk9wdHM6IFBhZ2luYXRpb25PcHRpb25zIH0sXG4gIFBhZ2luYXRpb25SZXN1bHQ8YW55PlxuPjtcblxuLy8gSW5jcmVtZW50aW5nIGludGVnZXIgZm9yIGVhY2ggcGFnZSBxdWVyaWVkIGluIHRoZSB1c2VQYWdpbmF0ZWRRdWVyeSBob29rLlxudHlwZSBRdWVyeVBhZ2VLZXkgPSBudW1iZXI7XG5cbnR5cGUgVXNlUGFnaW5hdGVkUXVlcnlTdGF0ZSA9IHtcbiAgcXVlcnk6IEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj47XG4gIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPjtcbiAgaWQ6IG51bWJlcjtcbiAgbmV4dFBhZ2VLZXk6IFF1ZXJ5UGFnZUtleTtcbiAgcGFnZUtleXM6IFF1ZXJ5UGFnZUtleVtdO1xuICBxdWVyaWVzOiBSZWNvcmQ8XG4gICAgUXVlcnlQYWdlS2V5LFxuICAgIHtcbiAgICAgIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+O1xuICAgICAgLy8gVXNlIHRoZSB2YWxpZGF0b3IgdHlwZSBhcyBhIHRlc3QgdGhhdCBpdCBtYXRjaGVzIHRoZSBhcmdzXG4gICAgICAvLyB3ZSBnZW5lcmF0ZS5cbiAgICAgIGFyZ3M6IHsgcGFnaW5hdGlvbk9wdHM6IEluZmVyPHR5cGVvZiBwYWdpbmF0aW9uT3B0c1ZhbGlkYXRvcj4gfTtcbiAgICB9XG4gID47XG4gIG9uZ29pbmdTcGxpdHM6IFJlY29yZDxRdWVyeVBhZ2VLZXksIFtRdWVyeVBhZ2VLZXksIFF1ZXJ5UGFnZUtleV0+O1xuICBza2lwOiBib29sZWFuO1xufTtcblxuY29uc3Qgc3BsaXRRdWVyeSA9XG4gIChrZXk6IFF1ZXJ5UGFnZUtleSwgc3BsaXRDdXJzb3I6IHN0cmluZywgY29udGludWVDdXJzb3I6IHN0cmluZykgPT5cbiAgKHByZXZTdGF0ZTogVXNlUGFnaW5hdGVkUXVlcnlTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHF1ZXJpZXMgPSB7IC4uLnByZXZTdGF0ZS5xdWVyaWVzIH07XG4gICAgY29uc3Qgc3BsaXRLZXkxID0gcHJldlN0YXRlLm5leHRQYWdlS2V5O1xuICAgIGNvbnN0IHNwbGl0S2V5MiA9IHByZXZTdGF0ZS5uZXh0UGFnZUtleSArIDE7XG4gICAgY29uc3QgbmV4dFBhZ2VLZXkgPSBwcmV2U3RhdGUubmV4dFBhZ2VLZXkgKyAyO1xuICAgIHF1ZXJpZXNbc3BsaXRLZXkxXSA9IHtcbiAgICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgICBhcmdzOiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5hcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5xdWVyaWVzW2tleV0uYXJncy5wYWdpbmF0aW9uT3B0cyxcbiAgICAgICAgICBlbmRDdXJzb3I6IHNwbGl0Q3Vyc29yLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICAgIHF1ZXJpZXNbc3BsaXRLZXkyXSA9IHtcbiAgICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgICBhcmdzOiB7XG4gICAgICAgIC4uLnByZXZTdGF0ZS5hcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgIC4uLnByZXZTdGF0ZS5xdWVyaWVzW2tleV0uYXJncy5wYWdpbmF0aW9uT3B0cyxcbiAgICAgICAgICBjdXJzb3I6IHNwbGl0Q3Vyc29yLFxuICAgICAgICAgIGVuZEN1cnNvcjogY29udGludWVDdXJzb3IsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgY29uc3Qgb25nb2luZ1NwbGl0cyA9IHsgLi4ucHJldlN0YXRlLm9uZ29pbmdTcGxpdHMgfTtcbiAgICBvbmdvaW5nU3BsaXRzW2tleV0gPSBbc3BsaXRLZXkxLCBzcGxpdEtleTJdO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICBuZXh0UGFnZUtleSxcbiAgICAgIHF1ZXJpZXMsXG4gICAgICBvbmdvaW5nU3BsaXRzLFxuICAgIH07XG4gIH07XG5cbmNvbnN0IGNvbXBsZXRlU3BsaXRRdWVyeSA9XG4gIChrZXk6IFF1ZXJ5UGFnZUtleSkgPT4gKHByZXZTdGF0ZTogVXNlUGFnaW5hdGVkUXVlcnlTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGNvbXBsZXRlZFNwbGl0ID0gcHJldlN0YXRlLm9uZ29pbmdTcGxpdHNba2V5XTtcbiAgICBpZiAoY29tcGxldGVkU3BsaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICB9XG4gICAgY29uc3QgcXVlcmllcyA9IHsgLi4ucHJldlN0YXRlLnF1ZXJpZXMgfTtcbiAgICBkZWxldGUgcXVlcmllc1trZXldO1xuICAgIGNvbnN0IG9uZ29pbmdTcGxpdHMgPSB7IC4uLnByZXZTdGF0ZS5vbmdvaW5nU3BsaXRzIH07XG4gICAgZGVsZXRlIG9uZ29pbmdTcGxpdHNba2V5XTtcbiAgICBsZXQgcGFnZUtleXMgPSBwcmV2U3RhdGUucGFnZUtleXMuc2xpY2UoKTtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBwcmV2U3RhdGUucGFnZUtleXMuZmluZEluZGV4KCh2KSA9PiB2ID09PSBrZXkpO1xuICAgIGlmIChwYWdlSW5kZXggPj0gMCkge1xuICAgICAgcGFnZUtleXMgPSBbXG4gICAgICAgIC4uLnByZXZTdGF0ZS5wYWdlS2V5cy5zbGljZSgwLCBwYWdlSW5kZXgpLFxuICAgICAgICAuLi5jb21wbGV0ZWRTcGxpdCxcbiAgICAgICAgLi4ucHJldlN0YXRlLnBhZ2VLZXlzLnNsaWNlKHBhZ2VJbmRleCArIDEpLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnByZXZTdGF0ZSxcbiAgICAgIHF1ZXJpZXMsXG4gICAgICBwYWdlS2V5cyxcbiAgICAgIG9uZ29pbmdTcGxpdHMsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBMb2FkIGRhdGEgcmVhY3RpdmVseSBmcm9tIGEgcGFnaW5hdGVkIHF1ZXJ5IHRvIGEgY3JlYXRlIGEgZ3Jvd2luZyBsaXN0LlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcG93ZXIgXCJpbmZpbml0ZSBzY3JvbGxcIiBVSXMuXG4gKlxuICogVGhpcyBob29rIG11c3QgYmUgdXNlZCB3aXRoIHB1YmxpYyBxdWVyeSByZWZlcmVuY2VzIHRoYXQgbWF0Y2hcbiAqIHtAbGluayBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZX0uXG4gKlxuICogYHVzZVBhZ2luYXRlZFF1ZXJ5YCBjb25jYXRlbmF0ZXMgYWxsIHRoZSBwYWdlcyBvZiByZXN1bHRzIGludG8gYSBzaW5nbGUgbGlzdFxuICogYW5kIG1hbmFnZXMgdGhlIGNvbnRpbnVhdGlvbiBjdXJzb3JzIHdoZW4gcmVxdWVzdGluZyBtb3JlIGl0ZW1zLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCB7IHJlc3VsdHMsIHN0YXR1cywgaXNMb2FkaW5nLCBsb2FkTW9yZSB9ID0gdXNlUGFnaW5hdGVkUXVlcnkoXG4gKiAgIGFwaS5tZXNzYWdlcy5saXN0LFxuICogICB7IGNoYW5uZWw6IFwiI2dlbmVyYWxcIiB9LFxuICogICB7IGluaXRpYWxOdW1JdGVtczogNSB9XG4gKiApO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHF1ZXJ5IHJlZmVyZW5jZSBvciBhcmd1bWVudHMgY2hhbmdlLCB0aGUgcGFnaW5hdGlvbiBzdGF0ZSB3aWxsIGJlIHJlc2V0XG4gKiB0byB0aGUgZmlyc3QgcGFnZS4gU2ltaWxhcmx5LCBpZiBhbnkgb2YgdGhlIHBhZ2VzIHJlc3VsdCBpbiBhbiBJbnZhbGlkQ3Vyc29yXG4gKiBlcnJvciBvciBhbiBlcnJvciBhc3NvY2lhdGVkIHdpdGggdG9vIG11Y2ggZGF0YSwgdGhlIHBhZ2luYXRpb24gc3RhdGUgd2lsbCBhbHNvXG4gKiByZXNldCB0byB0aGUgZmlyc3QgcGFnZS5cbiAqXG4gKiBUbyBsZWFybiBtb3JlIGFib3V0IHBhZ2luYXRpb24sIHNlZSBbUGFnaW5hdGVkIFF1ZXJpZXNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2RhdGFiYXNlL3BhZ2luYXRpb24pLlxuICpcbiAqIEBwYXJhbSBxdWVyeSAtIEEgRnVuY3Rpb25SZWZlcmVuY2UgdG8gdGhlIHB1YmxpYyBxdWVyeSBmdW5jdGlvbiB0byBydW4uXG4gKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkgZnVuY3Rpb24sIGV4Y2x1ZGluZ1xuICogdGhlIGBwYWdpbmF0aW9uT3B0c2AgcHJvcGVydHkuIFRoYXQgcHJvcGVydHkgaXMgaW5qZWN0ZWQgYnkgdGhpcyBob29rLlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgYGluaXRpYWxOdW1JdGVtc2AgdG8gYmUgbG9hZGVkIGluXG4gKiB0aGUgZmlyc3QgcGFnZS5cbiAqIEByZXR1cm5zIEEge0BsaW5rIFVzZVBhZ2luYXRlZFF1ZXJ5UmVzdWx0fSB0aGF0IGluY2x1ZGVzIHRoZSBjdXJyZW50bHkgbG9hZGVkXG4gKiBpdGVtcywgdGhlIHN0YXR1cyBvZiB0aGUgcGFnaW5hdGlvbiwgYW5kIGEgYGxvYWRNb3JlYCBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRRdWVyeTxRdWVyeSBleHRlbmRzIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlPihcbiAgcXVlcnk6IFF1ZXJ5LFxuICBhcmdzOiBQYWdpbmF0ZWRRdWVyeUFyZ3M8UXVlcnk+IHwgXCJza2lwXCIsXG4gIG9wdGlvbnM6IHsgaW5pdGlhbE51bUl0ZW1zOiBudW1iZXIgfSxcbik6IFVzZVBhZ2luYXRlZFF1ZXJ5UmV0dXJuVHlwZTxRdWVyeT4ge1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZVBhZ2luYXRlZFF1ZXJ5SW50ZXJuYWwocXVlcnksIGFyZ3MsIG9wdGlvbnMpO1xuICByZXR1cm4gdXNlcjtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IGluY2x1ZGVQYWdlID0gU3ltYm9sKFwiaW5jbHVkZVBhZ2VLZXlzXCIpO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgcGFnZSA9IFN5bWJvbChcInBhZ2VcIik7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRRdWVyeUludGVybmFsPFxuICBRdWVyeSBleHRlbmRzIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlLFxuPihcbiAgcXVlcnk6IFF1ZXJ5LFxuICBhcmdzOiBQYWdpbmF0ZWRRdWVyeUFyZ3M8UXVlcnk+IHwgXCJza2lwXCIsXG4gIG9wdGlvbnM6IHtcbiAgICBpbml0aWFsTnVtSXRlbXM6IG51bWJlcjtcbiAgICBbaW5jbHVkZVBhZ2VdPzogYm9vbGVhbjtcbiAgfSxcbik6IHtcbiAgdXNlcjogVXNlUGFnaW5hdGVkUXVlcnlSZXR1cm5UeXBlPFF1ZXJ5PjtcbiAgaW50ZXJuYWw6IHsgc3RhdGU6IFVzZVBhZ2luYXRlZFF1ZXJ5U3RhdGUgfTtcbn0ge1xuICBpZiAoXG4gICAgdHlwZW9mIG9wdGlvbnM/LmluaXRpYWxOdW1JdGVtcyAhPT0gXCJudW1iZXJcIiB8fFxuICAgIG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zIDwgMFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgXFxgb3B0aW9ucy5pbml0aWFsTnVtSXRlbXNcXGAgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gUmVjZWl2ZWQgXFxgJHtvcHRpb25zPy5pbml0aWFsTnVtSXRlbXN9XFxgLmAsXG4gICAgKTtcbiAgfVxuICBjb25zdCBza2lwID0gYXJncyA9PT0gXCJza2lwXCI7XG4gIGNvbnN0IGFyZ3NPYmplY3QgPSBza2lwID8ge30gOiBhcmdzO1xuICBjb25zdCBxdWVyeU5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnkpO1xuICBjb25zdCBjcmVhdGVJbml0aWFsU3RhdGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBuZXh0UGFnaW5hdGlvbklkKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeSxcbiAgICAgICAgYXJnczogYXJnc09iamVjdCBhcyBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4sXG4gICAgICAgIGlkLFxuICAgICAgICBuZXh0UGFnZUtleTogMSxcbiAgICAgICAgcGFnZUtleXM6IHNraXAgPyBbXSA6IFswXSxcbiAgICAgICAgcXVlcmllczogc2tpcFxuICAgICAgICAgID8gKHt9IGFzIFVzZVBhZ2luYXRlZFF1ZXJ5U3RhdGVbXCJxdWVyaWVzXCJdKVxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAwOiB7XG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXJnc09iamVjdCxcbiAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25PcHRzOiB7XG4gICAgICAgICAgICAgICAgICAgIG51bUl0ZW1zOiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIG9uZ29pbmdTcGxpdHM6IHt9LFxuICAgICAgICBza2lwLFxuICAgICAgfTtcbiAgICB9O1xuICAgIC8vIEVTTGludCBkb2Vzbid0IGxpa2UgdGhhdCB3ZSdyZSBzdHJpbmdpZnlpbmcgdGhlIGFyZ3MuIFdlIGRvIHRoaXMgYmVjYXVzZVxuICAgIC8vIHdlIHdhbnQgdG8gYXZvaWQgcmVyZW5kZXJpbmcgaWYgdGhlIGFyZ3MgYXJlIGEgZGlmZmVyZW50XG4gICAgLy8gb2JqZWN0IHRoYXQgc2VyaWFsaXplcyB0byB0aGUgc2FtZSByZXN1bHQuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0IGFzIFZhbHVlKSksXG4gICAgcXVlcnlOYW1lLFxuICAgIG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgIHNraXAsXG4gIF0pO1xuXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID1cbiAgICB1c2VTdGF0ZTxVc2VQYWdpbmF0ZWRRdWVyeVN0YXRlPihjcmVhdGVJbml0aWFsU3RhdGUpO1xuXG4gIC8vIGBjdXJyU3RhdGVgIGlzIHRoZSBzdGF0ZSB0aGF0IHdlJ2xsIHJlbmRlciBiYXNlZCBvbi5cbiAgbGV0IGN1cnJTdGF0ZSA9IHN0YXRlO1xuICBpZiAoXG4gICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSAhPT0gZ2V0RnVuY3Rpb25OYW1lKHN0YXRlLnF1ZXJ5KSB8fFxuICAgIEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0IGFzIFZhbHVlKSkgIT09XG4gICAgICBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oc3RhdGUuYXJncykpIHx8XG4gICAgc2tpcCAhPT0gc3RhdGUuc2tpcFxuICApIHtcbiAgICBjdXJyU3RhdGUgPSBjcmVhdGVJbml0aWFsU3RhdGUoKTtcbiAgICBzZXRTdGF0ZShjdXJyU3RhdGUpO1xuICB9XG4gIGNvbnN0IGNvbnZleENsaWVudCA9IHVzZUNvbnZleCgpO1xuICBjb25zdCBsb2dnZXIgPSBjb252ZXhDbGllbnQubG9nZ2VyO1xuXG4gIGNvbnN0IHJlc3VsdHNPYmplY3QgPSB1c2VRdWVyaWVzKGN1cnJTdGF0ZS5xdWVyaWVzKTtcblxuICBjb25zdCBpc0luY2x1ZGluZ1BhZ2VLZXlzID0gb3B0aW9uc1tpbmNsdWRlUGFnZV0gPz8gZmFsc2U7XG4gIGNvbnN0IFtyZXN1bHRzLCBtYXliZUxhc3RSZXN1bHRdOiBbXG4gICAgVmFsdWVbXSxcbiAgICB1bmRlZmluZWQgfCBQYWdpbmF0aW9uUmVzdWx0PFZhbHVlPixcbiAgXSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBjdXJyUmVzdWx0ID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgYWxsSXRlbXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VLZXkgb2YgY3VyclN0YXRlLnBhZ2VLZXlzKSB7XG4gICAgICBjdXJyUmVzdWx0ID0gcmVzdWx0c09iamVjdFtwYWdlS2V5XTtcbiAgICAgIGlmIChjdXJyUmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyUmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGN1cnJSZXN1bHQubWVzc2FnZS5pbmNsdWRlcyhcIkludmFsaWRDdXJzb3JcIikgfHxcbiAgICAgICAgICAoY3VyclJlc3VsdCBpbnN0YW5jZW9mIENvbnZleEVycm9yICYmXG4gICAgICAgICAgICB0eXBlb2YgY3VyclJlc3VsdC5kYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBjdXJyUmVzdWx0LmRhdGE/LmlzQ29udmV4U3lzdGVtRXJyb3IgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGN1cnJSZXN1bHQuZGF0YT8ucGFnaW5hdGlvbkVycm9yID09PSBcIkludmFsaWRDdXJzb3JcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gLSBJbnZhbGlkQ3Vyc29yOiBJZiB0aGUgY3Vyc29yIGlzIGludmFsaWQsIHByb2JhYmx5IHRoZSBwYWdpbmF0ZWRcbiAgICAgICAgICAvLyBkYXRhYmFzZSBxdWVyeSB3YXMgZGF0YS1kZXBlbmRlbnQgYW5kIGNoYW5nZWQgdW5kZXJuZWF0aCB1cy4gVGhlXG4gICAgICAgICAgLy8gY3Vyc29yIGluIHRoZSBwYXJhbXMgb3Igam91cm5hbCBubyBsb25nZXIgbWF0Y2hlcyB0aGUgY3VycmVudFxuICAgICAgICAgIC8vIGRhdGFiYXNlIHF1ZXJ5LlxuXG4gICAgICAgICAgLy8gSW4gYWxsIGNhc2VzLCB3ZSB3YW50IHRvIHJlc3RhcnQgcGFnaW5hdGlvbiB0byB0aHJvdyBhd2F5IGFsbCBvdXJcbiAgICAgICAgICAvLyBleGlzdGluZyBjdXJzb3JzLlxuICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgXCJ1c2VQYWdpbmF0ZWRRdWVyeSBoaXQgZXJyb3IsIHJlc2V0dGluZyBwYWdpbmF0aW9uIHN0YXRlOiBcIiArXG4gICAgICAgICAgICAgIGN1cnJSZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldFN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIFtbXSwgdW5kZWZpbmVkXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBjdXJyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBvbmdvaW5nU3BsaXQgPSBjdXJyU3RhdGUub25nb2luZ1NwbGl0c1twYWdlS2V5XTtcbiAgICAgIGlmIChvbmdvaW5nU3BsaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcmVzdWx0c09iamVjdFtvbmdvaW5nU3BsaXRbMF1dICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICByZXN1bHRzT2JqZWN0W29uZ29pbmdTcGxpdFsxXV0gIT09IHVuZGVmaW5lZFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBCb3RoIHBhZ2VzIG9mIHRoZSBzcGxpdCBoYXZlIHJlc3VsdHMgbm93LiBTd2FwIHRoZW0gaW4uXG4gICAgICAgICAgc2V0U3RhdGUoY29tcGxldGVTcGxpdFF1ZXJ5KHBhZ2VLZXkpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY3VyclJlc3VsdC5zcGxpdEN1cnNvciAmJlxuICAgICAgICAoY3VyclJlc3VsdC5wYWdlU3RhdHVzID09PSBcIlNwbGl0UmVjb21tZW5kZWRcIiB8fFxuICAgICAgICAgIGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIgfHxcbiAgICAgICAgICBjdXJyUmVzdWx0LnBhZ2UubGVuZ3RoID4gb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgKiAyKVxuICAgICAgKSB7XG4gICAgICAgIC8vIElmIGEgc2luZ2xlIHBhZ2UgaGFzIG1vcmUgdGhhbiBkb3VibGUgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBpdGVtcyxcbiAgICAgICAgLy8gb3IgaWYgdGhlIHNlcnZlciByZXF1ZXN0cyBhIHNwbGl0LCBzcGxpdCB0aGUgcGFnZSBpbnRvIHR3by5cbiAgICAgICAgc2V0U3RhdGUoXG4gICAgICAgICAgc3BsaXRRdWVyeShcbiAgICAgICAgICAgIHBhZ2VLZXksXG4gICAgICAgICAgICBjdXJyUmVzdWx0LnNwbGl0Q3Vyc29yLFxuICAgICAgICAgICAgY3VyclJlc3VsdC5jb250aW51ZUN1cnNvcixcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIpIHtcbiAgICAgICAgLy8gSWYgcGFnZVN0YXR1cyBpcyAnU3BsaXRSZXF1aXJlZCcsIGl0IG1lYW5zIHRoZSBzZXJ2ZXIgd2FzIG5vdCBhYmxlIHRvXG4gICAgICAgIC8vIGZldGNoIHRoZSBmdWxsIHBhZ2UuIFNvIHdlIHN0b3AgcmVzdWx0cyBiZWZvcmUgdGhlIGluY29tcGxldGVcbiAgICAgICAgLy8gcGFnZSBhbmQgcmV0dXJuICdMb2FkaW5nTW9yZScgd2hpbGUgdGhlIHBhZ2UgaXMgc3BsaXR0aW5nLlxuICAgICAgICByZXR1cm4gW2FsbEl0ZW1zLCB1bmRlZmluZWRdO1xuICAgICAgfVxuICAgICAgYWxsSXRlbXMucHVzaChcbiAgICAgICAgLi4uKGlzSW5jbHVkaW5nUGFnZUtleXNcbiAgICAgICAgICA/IGN1cnJSZXN1bHQucGFnZS5tYXAoKGk6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgLi4uaSxcbiAgICAgICAgICAgICAgW3BhZ2VdOiBwYWdlS2V5LnRvU3RyaW5nKCksXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IGN1cnJSZXN1bHQucGFnZSksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW2FsbEl0ZW1zLCBjdXJyUmVzdWx0XTtcbiAgfSwgW1xuICAgIHJlc3VsdHNPYmplY3QsXG4gICAgY3VyclN0YXRlLnBhZ2VLZXlzLFxuICAgIGN1cnJTdGF0ZS5vbmdvaW5nU3BsaXRzLFxuICAgIG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgIGNyZWF0ZUluaXRpYWxTdGF0ZSxcbiAgICBsb2dnZXIsXG4gICAgaXNJbmNsdWRpbmdQYWdlS2V5cyxcbiAgXSk7XG5cbiAgY29uc3Qgc3RhdHVzT2JqZWN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1heWJlTGFzdFJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoY3VyclN0YXRlLm5leHRQYWdlS2V5ID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiBcIkxvYWRpbmdGaXJzdFBhZ2VcIixcbiAgICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgICAgbG9hZE1vcmU6IChfbnVtSXRlbXM6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWwgbm9vcC5cbiAgICAgICAgICB9LFxuICAgICAgICB9IGFzIGNvbnN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXM6IFwiTG9hZGluZ01vcmVcIixcbiAgICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgICAgbG9hZE1vcmU6IChfbnVtSXRlbXM6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWwgbm9vcC5cbiAgICAgICAgICB9LFxuICAgICAgICB9IGFzIGNvbnN0O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWF5YmVMYXN0UmVzdWx0LmlzRG9uZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiBcIkV4aGF1c3RlZFwiLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtczogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgLy8gSW50ZW50aW9uYWwgbm9vcC5cbiAgICAgICAgfSxcbiAgICAgIH0gYXMgY29uc3Q7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRpbnVlQ3Vyc29yID0gbWF5YmVMYXN0UmVzdWx0LmNvbnRpbnVlQ3Vyc29yO1xuICAgIGxldCBhbHJlYWR5TG9hZGluZ01vcmUgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdHVzOiBcIkNhbkxvYWRNb3JlXCIsXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgbG9hZE1vcmU6IChudW1JdGVtczogbnVtYmVyKSA9PiB7XG4gICAgICAgIGlmICghYWxyZWFkeUxvYWRpbmdNb3JlKSB7XG4gICAgICAgICAgYWxyZWFkeUxvYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICAgICAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IFsuLi5wcmV2U3RhdGUucGFnZUtleXMsIHByZXZTdGF0ZS5uZXh0UGFnZUtleV07XG4gICAgICAgICAgICBjb25zdCBxdWVyaWVzID0geyAuLi5wcmV2U3RhdGUucXVlcmllcyB9O1xuICAgICAgICAgICAgcXVlcmllc1twcmV2U3RhdGUubmV4dFBhZ2VLZXldID0ge1xuICAgICAgICAgICAgICBxdWVyeTogcHJldlN0YXRlLnF1ZXJ5LFxuICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLmFyZ3MsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbk9wdHM6IHtcbiAgICAgICAgICAgICAgICAgIG51bUl0ZW1zLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBjb250aW51ZUN1cnNvcixcbiAgICAgICAgICAgICAgICAgIGlkOiBwcmV2U3RhdGUuaWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICAgIG5leHRQYWdlS2V5OiBwcmV2U3RhdGUubmV4dFBhZ2VLZXkgKyAxLFxuICAgICAgICAgICAgICBwYWdlS2V5cyxcbiAgICAgICAgICAgICAgcXVlcmllcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSBhcyBjb25zdDtcbiAgfSwgW21heWJlTGFzdFJlc3VsdCwgY3VyclN0YXRlLm5leHRQYWdlS2V5XSk7XG5cbiAgcmV0dXJuIHtcbiAgICB1c2VyOiB7XG4gICAgICByZXN1bHRzLFxuICAgICAgLi4uc3RhdHVzT2JqZWN0LFxuICAgIH0sXG4gICAgaW50ZXJuYWw6IHsgc3RhdGU6IGN1cnJTdGF0ZSB9LFxuICB9O1xufVxuXG5sZXQgcGFnaW5hdGlvbklkID0gMDtcbi8qKlxuICogR2VuZXJhdGUgYSBuZXcsIHVuaXF1ZSBJRCBmb3IgYSBwYWdpbmF0aW9uIHNlc3Npb24uXG4gKlxuICogRXZlcnkgdXNhZ2Ugb2Yge0BsaW5rIHVzZVBhZ2luYXRlZFF1ZXJ5fSBwdXRzIGEgdW5pcXVlIElEIGludG8gdGhlXG4gKiBxdWVyeSBmdW5jdGlvbiBhcmd1bWVudHMgYXMgYSBcImNhY2hlLWJ1c3RlclwiLiBUaGlzIHNlcnZlcyB0d28gcHVycG9zZXM6XG4gKlxuICogMS4gQWxsIGNhbGxzIHRvIHtAbGluayB1c2VQYWdpbmF0ZWRRdWVyeX0gaGF2ZSBpbmRlcGVuZGVudCBxdWVyeVxuICogam91cm5hbHMuXG4gKlxuICogRXZlcnkgdGltZSB3ZSBzdGFydCBhIG5ldyBwYWdpbmF0aW9uIHNlc3Npb24sIHdlJ2xsIGxvYWQgdGhlIGZpcnN0IHBhZ2Ugb2ZcbiAqIHJlc3VsdHMgYW5kIHJlY2VpdmUgYSBmcmVzaCBqb3VybmFsLiBXaXRob3V0IHRoZSBJRCwgd2UgbWlnaHQgaW5zdGVhZCByZXVzZVxuICogYSBxdWVyeSBzdWJzY3JpcHRpb24gYWxyZWFkeSBwcmVzZW50IGluIG91ciBjbGllbnQuIFRoaXMgaXNuJ3QgZGVzaXJhYmxlXG4gKiBiZWNhdXNlIHRoZSBleGlzdGluZyBxdWVyeSBmdW5jdGlvbiByZXN1bHQgbWF5IGhhdmUgZ3Jvd24gb3Igc2hydW5rIGZyb20gdGhlXG4gKiByZXF1ZXN0ZWQgYGluaXRpYWxOdW1JdGVtc2AuXG4gKlxuICogMi4gV2UgY2FuIHJlc3RhcnQgdGhlIHBhZ2luYXRpb24gc2Vzc2lvbiBvbiBzb21lIHR5cGVzIG9mIGVycm9ycy5cbiAqXG4gKiBTb21ldGltZXMgd2Ugd2FudCB0byByZXN0YXJ0IHBhZ2luYXRpb24gZnJvbSB0aGUgYmVnaW5uaW5nIGlmIHdlIGhpdCBhbiBlcnJvci5cbiAqIFNpbWlsYXIgdG8gKDEpLCB3ZSdkIGxpa2UgdG8gZW5zdXJlIHRoYXQgdGhpcyBuZXcgc2Vzc2lvbiBhY3R1YWxseSByZXF1ZXN0c1xuICogaXRzIGZpcnN0IHBhZ2UgZnJvbSB0aGUgc2VydmVyIGFuZCBkb2Vzbid0IHJldXNlIGEgcXVlcnkgcmVzdWx0IGFscmVhZHlcbiAqIHByZXNlbnQgaW4gdGhlIGNsaWVudCB0aGF0IG1heSBoYXZlIGhpdCB0aGUgZXJyb3IuXG4gKlxuICogQHJldHVybnMgVGhlIHBhZ2luYXRpb24gSUQuXG4gKi9cbmZ1bmN0aW9uIG5leHRQYWdpbmF0aW9uSWQoKTogbnVtYmVyIHtcbiAgcGFnaW5hdGlvbklkKys7XG4gIHJldHVybiBwYWdpbmF0aW9uSWQ7XG59XG5cbi8qKlxuICogUmVzZXQgcGFnaW5hdGlvbiBpZCBmb3IgdGVzdHMgb25seSwgc28gdGVzdHMga25vdyB3aGF0IGl0IGlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRQYWdpbmF0aW9uSWQoKSB7XG4gIHBhZ2luYXRpb25JZCA9IDA7XG59XG5cbi8qKlxuICogVGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSB7QGxpbmsgdXNlUGFnaW5hdGVkUXVlcnl9IGhvb2suXG4gKlxuICogVGhpcyBpbmNsdWRlczpcbiAqIC0gYHJlc3VsdHNgIC0gQW4gYXJyYXkgb2YgdGhlIGN1cnJlbnRseSBsb2FkZWQgcmVzdWx0cy5cbiAqIC0gYGlzTG9hZGluZ2AgLSBXaGV0aGVyIHRoZSBob29rIGlzIGN1cnJlbnRseSBsb2FkaW5nIHJlc3VsdHMuXG4gKiAtIGBzdGF0dXNgIC0gVGhlIHN0YXR1cyBvZiB0aGUgcGFnaW5hdGlvbi4gVGhlIHBvc3NpYmxlIHN0YXR1c2VzIGFyZTpcbiAqICAgLSBcIkxvYWRpbmdGaXJzdFBhZ2VcIjogVGhlIGhvb2sgaXMgbG9hZGluZyB0aGUgZmlyc3QgcGFnZSBvZiByZXN1bHRzLlxuICogICAtIFwiQ2FuTG9hZE1vcmVcIjogVGhpcyBxdWVyeSBtYXkgaGF2ZSBtb3JlIGl0ZW1zIHRvIGZldGNoLiBDYWxsIGBsb2FkTW9yZWAgdG9cbiAqICAgZmV0Y2ggYW5vdGhlciBwYWdlLlxuICogICAtIFwiTG9hZGluZ01vcmVcIjogV2UncmUgY3VycmVudGx5IGxvYWRpbmcgYW5vdGhlciBwYWdlIG9mIHJlc3VsdHMuXG4gKiAgIC0gXCJFeGhhdXN0ZWRcIjogV2UndmUgcGFnaW5hdGVkIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gKiAtIGBsb2FkTW9yZShuKWAgQSBjYWxsYmFjayB0byBmZXRjaCBtb3JlIHJlc3VsdHMuIFRoaXMgd2lsbCBvbmx5IGZldGNoIG1vcmVcbiAqIHJlc3VsdHMgaWYgdGhlIHN0YXR1cyBpcyBcIkNhbkxvYWRNb3JlXCIuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBVc2VQYWdpbmF0ZWRRdWVyeVJlc3VsdDxJdGVtPiA9IHtcbiAgcmVzdWx0czogSXRlbVtdO1xuICBsb2FkTW9yZTogKG51bUl0ZW1zOiBudW1iZXIpID0+IHZvaWQ7XG59ICYgKFxuICB8IHtcbiAgICAgIHN0YXR1czogXCJMb2FkaW5nRmlyc3RQYWdlXCI7XG4gICAgICBpc0xvYWRpbmc6IHRydWU7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogXCJDYW5Mb2FkTW9yZVwiO1xuICAgICAgaXNMb2FkaW5nOiBmYWxzZTtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiBcIkxvYWRpbmdNb3JlXCI7XG4gICAgICBpc0xvYWRpbmc6IHRydWU7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogXCJFeGhhdXN0ZWRcIjtcbiAgICAgIGlzTG9hZGluZzogZmFsc2U7XG4gICAgfVxuKTtcblxuLyoqXG4gKiBUaGUgcG9zc2libGUgcGFnaW5hdGlvbiBzdGF0dXNlcyBpbiB7QGxpbmsgVXNlUGFnaW5hdGVkUXVlcnlSZXN1bHR9LlxuICpcbiAqIFRoaXMgaXMgYSB1bmlvbiBvZiBzdHJpbmcgbGl0ZXJhbCB0eXBlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUGFnaW5hdGlvblN0YXR1cyA9IFVzZVBhZ2luYXRlZFF1ZXJ5UmVzdWx0PGFueT5bXCJzdGF0dXNcIl07XG5cbi8qKlxuICogR2l2ZW4gYSB7QGxpbmsgUGFnaW5hdGVkUXVlcnlSZWZlcmVuY2V9LCBnZXQgdGhlIHR5cGUgb2YgdGhlIGFyZ3VtZW50c1xuICogb2JqZWN0IGZvciB0aGUgcXVlcnksIGV4Y2x1ZGluZyB0aGUgYHBhZ2luYXRpb25PcHRzYCBhcmd1bWVudC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFBhZ2luYXRlZFF1ZXJ5QXJnczxRdWVyeSBleHRlbmRzIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlPiA9IEV4cGFuZDxcbiAgQmV0dGVyT21pdDxGdW5jdGlvbkFyZ3M8UXVlcnk+LCBcInBhZ2luYXRpb25PcHRzXCI+XG4+O1xuXG4vKipcbiAqIEdpdmVuIGEge0BsaW5rIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlfSwgZ2V0IHRoZSB0eXBlIG9mIHRoZSBpdGVtIGJlaW5nXG4gKiBwYWdpbmF0ZWQgb3Zlci5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUGFnaW5hdGVkUXVlcnlJdGVtPFF1ZXJ5IGV4dGVuZHMgUGFnaW5hdGVkUXVlcnlSZWZlcmVuY2U+ID1cbiAgRnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5PltcInBhZ2VcIl1bbnVtYmVyXTtcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2Yge0BsaW5rIHVzZVBhZ2luYXRlZFF1ZXJ5fS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFVzZVBhZ2luYXRlZFF1ZXJ5UmV0dXJuVHlwZTxRdWVyeSBleHRlbmRzIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlPiA9XG4gIFVzZVBhZ2luYXRlZFF1ZXJ5UmVzdWx0PFBhZ2luYXRlZFF1ZXJ5SXRlbTxRdWVyeT4+O1xuXG4vKipcbiAqIE9wdGltaXN0aWNhbGx5IHVwZGF0ZSB0aGUgdmFsdWVzIGluIGEgcGFnaW5hdGVkIGxpc3QuXG4gKlxuICogVGhpcyBvcHRpbWlzdGljIHVwZGF0ZSBpcyBkZXNpZ25lZCB0byBiZSB1c2VkIHRvIHVwZGF0ZSBkYXRhIGxvYWRlZCB3aXRoXG4gKiB7QGxpbmsgdXNlUGFnaW5hdGVkUXVlcnl9LiBJdCB1cGRhdGVzIHRoZSBsaXN0IGJ5IGFwcGx5aW5nXG4gKiBgdXBkYXRlVmFsdWVgIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgbGlzdCBhY3Jvc3MgYWxsIG9mIHRoZSBsb2FkZWQgcGFnZXMuXG4gKlxuICogVGhpcyB3aWxsIG9ubHkgYXBwbHkgdG8gcXVlcmllcyB3aXRoIGEgbWF0Y2hpbmcgbmFtZXMgYW5kIGFyZ3VtZW50cy5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqIGNvbnN0IG15TXV0YXRpb24gPSB1c2VNdXRhdGlvbihhcGkubXlNb2R1bGUubXlNdXRhdGlvbilcbiAqIC53aXRoT3B0aW1pc3RpY1VwZGF0ZSgobG9jYWxTdG9yZSwgbXV0YXRpb25BcmcpID0+IHtcbiAqXG4gKiAgIC8vIE9wdGltaXN0aWNhbGx5IHVwZGF0ZSB0aGUgZG9jdW1lbnQgd2l0aCBJRCBgbXV0YXRpb25BcmdgXG4gKiAgIC8vIHRvIGhhdmUgYW4gYWRkaXRpb25hbCBwcm9wZXJ0eS5cbiAqXG4gKiAgIG9wdGltaXN0aWNhbGx5VXBkYXRlVmFsdWVJblBhZ2luYXRlZFF1ZXJ5KFxuICogICAgIGxvY2FsU3RvcmUsXG4gKiAgICAgYXBpLm15TW9kdWxlLnBhZ2luYXRlZFF1ZXJ5XG4gKiAgICAge30sXG4gKiAgICAgY3VycmVudFZhbHVlID0+IHtcbiAqICAgICAgIGlmIChtdXRhdGlvbkFyZyA9PT0gY3VycmVudFZhbHVlLl9pZCkge1xuICogICAgICAgICByZXR1cm4ge1xuICogICAgICAgICAgIC4uLmN1cnJlbnRWYWx1ZSxcbiAqICAgICAgICAgICBcIm5ld1Byb3BlcnR5XCI6IFwibmV3VmFsdWVcIixcbiAqICAgICAgICAgfTtcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gKiAgICAgfVxuICogICApO1xuICpcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIGxvY2FsU3RvcmUgLSBBbiB7QGxpbmsgT3B0aW1pc3RpY0xvY2FsU3RvcmV9IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHBhZ2luYXRlZCBxdWVyeSB0byB1cGRhdGUuXG4gKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IHRvIHRoZSBxdWVyeSBmdW5jdGlvbiwgZXhjbHVkaW5nIHRoZVxuICogYHBhZ2luYXRpb25PcHRzYCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB1cGRhdGVWYWx1ZSAtIEEgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgbmV3IHZhbHVlcy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWlzdGljYWxseVVwZGF0ZVZhbHVlSW5QYWdpbmF0ZWRRdWVyeTxcbiAgUXVlcnkgZXh0ZW5kcyBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZSxcbj4oXG4gIGxvY2FsU3RvcmU6IE9wdGltaXN0aWNMb2NhbFN0b3JlLFxuICBxdWVyeTogUXVlcnksXG4gIGFyZ3M6IFBhZ2luYXRlZFF1ZXJ5QXJnczxRdWVyeT4sXG4gIHVwZGF0ZVZhbHVlOiAoXG4gICAgY3VycmVudFZhbHVlOiBQYWdpbmF0ZWRRdWVyeUl0ZW08UXVlcnk+LFxuICApID0+IFBhZ2luYXRlZFF1ZXJ5SXRlbTxRdWVyeT4sXG4pOiB2b2lkIHtcbiAgY29uc3QgZXhwZWN0ZWRBcmdzID0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3MgYXMgVmFsdWUpKTtcblxuICBmb3IgKGNvbnN0IHF1ZXJ5UmVzdWx0IG9mIGxvY2FsU3RvcmUuZ2V0QWxsUXVlcmllcyhxdWVyeSkpIHtcbiAgICBpZiAocXVlcnlSZXN1bHQudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgeyBwYWdpbmF0aW9uT3B0czogXywgLi4uaW5uZXJBcmdzIH0gPSBxdWVyeVJlc3VsdC5hcmdzIGFzIHtcbiAgICAgICAgcGFnaW5hdGlvbk9wdHM6IFBhZ2luYXRpb25PcHRpb25zO1xuICAgICAgfTtcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oaW5uZXJBcmdzIGFzIFZhbHVlKSkgPT09IGV4cGVjdGVkQXJncykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5UmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlLnBhZ2UpXG4gICAgICAgICkge1xuICAgICAgICAgIGxvY2FsU3RvcmUuc2V0UXVlcnkocXVlcnksIHF1ZXJ5UmVzdWx0LmFyZ3MsIHtcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgcGFnZTogdmFsdWUucGFnZS5tYXAodXBkYXRlVmFsdWUpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVXBkYXRlcyBhIHBhZ2luYXRlZCBxdWVyeSB0byBpbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBsaXN0LlxuICpcbiAqIFRoaXMgaXMgcmVnYXJkbGVzcyBvZiB0aGUgc29ydCBvcmRlciwgc28gaWYgdGhlIGxpc3QgaXMgaW4gZGVzY2VuZGluZyBvcmRlcixcbiAqIHRoZSBpbnNlcnRlZCBlbGVtZW50IHdpbGwgYmUgdHJlYXRlZCBhcyB0aGUgXCJiaWdnZXN0XCIgZWxlbWVudCwgYnV0IGlmIGl0J3NcbiAqIGFzY2VuZGluZywgaXQnbGwgYmUgdHJlYXRlZCBhcyB0aGUgXCJzbWFsbGVzdFwiLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3QgY3JlYXRlVGFzayA9IHVzZU11dGF0aW9uKGFwaS50YXNrcy5jcmVhdGUpXG4gKiAgIC53aXRoT3B0aW1pc3RpY1VwZGF0ZSgobG9jYWxTdG9yZSwgbXV0YXRpb25BcmdzKSA9PiB7XG4gKiAgIGluc2VydEF0VG9wKHtcbiAqICAgICBwYWdpbmF0ZWRRdWVyeTogYXBpLnRhc2tzLmxpc3QsXG4gKiAgICAgYXJnc1RvTWF0Y2g6IHsgbGlzdElkOiBtdXRhdGlvbkFyZ3MubGlzdElkIH0sXG4gKiAgICAgbG9jYWxRdWVyeVN0b3JlOiBsb2NhbFN0b3JlLFxuICogICAgIGl0ZW06IHsgX2lkOiBjcnlwdG8ucmFuZG9tVVVJRCgpIGFzIElkPFwidGFza3NcIj4sIHRpdGxlOiBtdXRhdGlvbkFyZ3MudGl0bGUsIGNvbXBsZXRlZDogZmFsc2UgfSxcbiAqICAgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBvcHRpb25zLnBhZ2luYXRlZFF1ZXJ5IC0gQSBmdW5jdGlvbiByZWZlcmVuY2UgdG8gdGhlIHBhZ2luYXRlZCBxdWVyeS5cbiAqIEBwYXJhbSBvcHRpb25zLmFyZ3NUb01hdGNoIC0gT3B0aW9uYWwgYXJndW1lbnRzIHRoYXQgbXVzdCBiZSBpbiBlYWNoIHJlbGV2YW50IHBhZ2luYXRlZCBxdWVyeS5cbiAqIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB1c2UgdGhlIHNhbWUgcXVlcnkgZnVuY3Rpb24gd2l0aCBkaWZmZXJlbnQgYXJndW1lbnRzIHRvIGxvYWRcbiAqIGRpZmZlcmVudCBsaXN0cy5cbiAqIEBwYXJhbSBvcHRpb25zLmxvY2FsUXVlcnlTdG9yZVxuICogQHBhcmFtIG9wdGlvbnMuaXRlbSBUaGUgaXRlbSB0byBpbnNlcnQuXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QXRUb3A8UXVlcnkgZXh0ZW5kcyBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZT4ob3B0aW9uczoge1xuICBwYWdpbmF0ZWRRdWVyeTogUXVlcnk7XG4gIGFyZ3NUb01hdGNoPzogUGFydGlhbDxQYWdpbmF0ZWRRdWVyeUFyZ3M8UXVlcnk+PjtcbiAgbG9jYWxRdWVyeVN0b3JlOiBPcHRpbWlzdGljTG9jYWxTdG9yZTtcbiAgaXRlbTogUGFnaW5hdGVkUXVlcnlJdGVtPFF1ZXJ5Pjtcbn0pIHtcbiAgY29uc3QgeyBwYWdpbmF0ZWRRdWVyeSwgYXJnc1RvTWF0Y2gsIGxvY2FsUXVlcnlTdG9yZSwgaXRlbSB9ID0gb3B0aW9ucztcbiAgY29uc3QgcXVlcmllcyA9IGxvY2FsUXVlcnlTdG9yZS5nZXRBbGxRdWVyaWVzKHBhZ2luYXRlZFF1ZXJ5KTtcbiAgY29uc3QgcXVlcmllc1RoYXRNYXRjaCA9IHF1ZXJpZXMuZmlsdGVyKChxKSA9PiB7XG4gICAgaWYgKGFyZ3NUb01hdGNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYXJnc1RvTWF0Y2gpLmV2ZXJ5KFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtLSBUaGlzIHNob3VsZCBiZSBzYWZlIHNpbmNlIGJvdGggc2hvdWxkIGJlIHBsYWluIG9iamVjdHNcbiAgICAgIChrKSA9PiBjb21wYXJlVmFsdWVzKGFyZ3NUb01hdGNoW2tdLCBxLmFyZ3Nba10pID09PSAwLFxuICAgICk7XG4gIH0pO1xuICBjb25zdCBmaXJzdFBhZ2UgPSBxdWVyaWVzVGhhdE1hdGNoLmZpbmQoXG4gICAgKHEpID0+IHEuYXJncy5wYWdpbmF0aW9uT3B0cy5jdXJzb3IgPT09IG51bGwsXG4gICk7XG4gIGlmIChmaXJzdFBhZ2UgPT09IHVuZGVmaW5lZCB8fCBmaXJzdFBhZ2UudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGZpcnN0IHBhZ2UgaXMgbm90IGxvYWRlZCwgc28gZG9uJ3QgdXBkYXRlIGl0IHVudGlsIGl0IGxvYWRzXG4gICAgcmV0dXJuO1xuICB9XG4gIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgZmlyc3RQYWdlLmFyZ3MsIHtcbiAgICAuLi5maXJzdFBhZ2UudmFsdWUsXG4gICAgcGFnZTogW2l0ZW0sIC4uLmZpcnN0UGFnZS52YWx1ZS5wYWdlXSxcbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyBhIHBhZ2luYXRlZCBxdWVyeSB0byBpbnNlcnQgYW4gZWxlbWVudCBhdCB0aGUgYm90dG9tIG9mIHRoZSBsaXN0LlxuICpcbiAqIFRoaXMgaXMgcmVnYXJkbGVzcyBvZiB0aGUgc29ydCBvcmRlciwgc28gaWYgdGhlIGxpc3QgaXMgaW4gZGVzY2VuZGluZyBvcmRlcixcbiAqIHRoZSBpbnNlcnRlZCBlbGVtZW50IHdpbGwgYmUgdHJlYXRlZCBhcyB0aGUgXCJzbWFsbGVzdFwiIGVsZW1lbnQsIGJ1dCBpZiBpdCdzXG4gKiBhc2NlbmRpbmcsIGl0J2xsIGJlIHRyZWF0ZWQgYXMgdGhlIFwiYmlnZ2VzdFwiLlxuICpcbiAqIFRoaXMgb25seSBoYXMgYW4gZWZmZWN0IGlmIHRoZSBsYXN0IHBhZ2UgaXMgbG9hZGVkLCBzaW5jZSBvdGhlcndpc2UgaXQgd291bGQgcmVzdWx0XG4gKiBpbiB0aGUgZWxlbWVudCBiZWluZyBpbnNlcnRlZCBhdCB0aGUgZW5kIG9mIHdoYXRldmVyIGlzIGxvYWRlZCAod2hpY2ggaXMgdGhlIG1pZGRsZSBvZiB0aGUgbGlzdClcbiAqIGFuZCB0aGVuIHBvcHBpbmcgb3V0IG9uY2UgdGhlIG9wdGltaXN0aWMgdXBkYXRlIGlzIG92ZXIuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMucGFnaW5hdGVkUXVlcnkgLSBBIGZ1bmN0aW9uIHJlZmVyZW5jZSB0byB0aGUgcGFnaW5hdGVkIHF1ZXJ5LlxuICogQHBhcmFtIG9wdGlvbnMuYXJnc1RvTWF0Y2ggLSBPcHRpb25hbCBhcmd1bWVudHMgdGhhdCBtdXN0IGJlIGluIGVhY2ggcmVsZXZhbnQgcGFnaW5hdGVkIHF1ZXJ5LlxuICogVGhpcyBpcyB1c2VmdWwgaWYgeW91IHVzZSB0aGUgc2FtZSBxdWVyeSBmdW5jdGlvbiB3aXRoIGRpZmZlcmVudCBhcmd1bWVudHMgdG8gbG9hZFxuICogZGlmZmVyZW50IGxpc3RzLlxuICogQHBhcmFtIG9wdGlvbnMubG9jYWxRdWVyeVN0b3JlXG4gKiBAcGFyYW0gb3B0aW9ucy5lbGVtZW50IFRoZSBlbGVtZW50IHRvIGluc2VydC5cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRBdEJvdHRvbUlmTG9hZGVkPFxuICBRdWVyeSBleHRlbmRzIFBhZ2luYXRlZFF1ZXJ5UmVmZXJlbmNlLFxuPihvcHRpb25zOiB7XG4gIHBhZ2luYXRlZFF1ZXJ5OiBRdWVyeTtcbiAgYXJnc1RvTWF0Y2g/OiBQYXJ0aWFsPFBhZ2luYXRlZFF1ZXJ5QXJnczxRdWVyeT4+O1xuICBsb2NhbFF1ZXJ5U3RvcmU6IE9wdGltaXN0aWNMb2NhbFN0b3JlO1xuICBpdGVtOiBQYWdpbmF0ZWRRdWVyeUl0ZW08UXVlcnk+O1xufSkge1xuICBjb25zdCB7IHBhZ2luYXRlZFF1ZXJ5LCBsb2NhbFF1ZXJ5U3RvcmUsIGl0ZW0sIGFyZ3NUb01hdGNoIH0gPSBvcHRpb25zO1xuICBjb25zdCBxdWVyaWVzID0gbG9jYWxRdWVyeVN0b3JlLmdldEFsbFF1ZXJpZXMocGFnaW5hdGVkUXVlcnkpO1xuICBjb25zdCBxdWVyaWVzVGhhdE1hdGNoID0gcXVlcmllcy5maWx0ZXIoKHEpID0+IHtcbiAgICBpZiAoYXJnc1RvTWF0Y2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhhcmdzVG9NYXRjaCkuZXZlcnkoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0tIFRoaXMgc2hvdWxkIGJlIHNhZmUgc2luY2UgYm90aCBzaG91bGQgYmUgcGxhaW4gb2JqZWN0c1xuICAgICAgKGspID0+IGNvbXBhcmVWYWx1ZXMoYXJnc1RvTWF0Y2hba10sIHEuYXJnc1trXSkgPT09IDAsXG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGxhc3RQYWdlID0gcXVlcmllc1RoYXRNYXRjaC5maW5kKFxuICAgIChxKSA9PiBxLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcS52YWx1ZS5pc0RvbmUsXG4gICk7XG4gIGlmIChsYXN0UGFnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gbGFzdCBwYWdlIGlzIG5vdCBsb2FkZWQsIHNvIGRvbid0IHVwZGF0ZSBpdCBzaW5jZSB0aGUgaXRlbSB3b3VsZCBpbW1lZGlhdGVseSBwb3Agb3V0XG4gICAgLy8gd2hlbiB0aGUgc2VydmVyIHVwZGF0ZXNcbiAgICByZXR1cm47XG4gIH1cbiAgbG9jYWxRdWVyeVN0b3JlLnNldFF1ZXJ5KHBhZ2luYXRlZFF1ZXJ5LCBsYXN0UGFnZS5hcmdzLCB7XG4gICAgLi4ubGFzdFBhZ2UudmFsdWUhLFxuICAgIHBhZ2U6IFsuLi5sYXN0UGFnZS52YWx1ZSEucGFnZSwgaXRlbV0sXG4gIH0pO1xufVxuXG50eXBlIExvY2FsUXVlcnlSZXN1bHQ8UXVlcnkgZXh0ZW5kcyBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+PiA9IHtcbiAgYXJnczogRnVuY3Rpb25BcmdzPFF1ZXJ5PjtcbiAgdmFsdWU6IHVuZGVmaW5lZCB8IEZ1bmN0aW9uUmV0dXJuVHlwZTxRdWVyeT47XG59O1xuXG50eXBlIExvYWRlZFJlc3VsdDxRdWVyeSBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj4+ID0ge1xuICBhcmdzOiBGdW5jdGlvbkFyZ3M8UXVlcnk+O1xuICB2YWx1ZTogRnVuY3Rpb25SZXR1cm5UeXBlPFF1ZXJ5Pjtcbn07XG5cbi8qKlxuICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgaW5zZXJ0aW5nIGFuIGl0ZW0gYXQgYSBzcGVjaWZpYyBwb3NpdGlvbiBpbiBhIHBhZ2luYXRlZCBxdWVyeS5cbiAqXG4gKiBZb3UgbXVzdCBwcm92aWRlIHRoZSBzb3J0T3JkZXIgYW5kIGEgZnVuY3Rpb24gZm9yIGRlcml2aW5nIHRoZSBzb3J0IGtleSAoYW4gYXJyYXkgb2YgdmFsdWVzKSBmcm9tIGFuIGl0ZW0gaW4gdGhlIGxpc3QuXG4gKlxuICogVGhpcyB3aWxsIG9ubHkgd29yayBpZiB0aGUgc2VydmVyIHF1ZXJ5IHVzZXMgdGhlIHNhbWUgc29ydCBvcmRlciBhbmQgc29ydCBrZXkgYXMgdGhlIG9wdGltaXN0aWMgdXBkYXRlLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3QgY3JlYXRlVGFzayA9IHVzZU11dGF0aW9uKGFwaS50YXNrcy5jcmVhdGUpXG4gKiAgIC53aXRoT3B0aW1pc3RpY1VwZGF0ZSgobG9jYWxTdG9yZSwgbXV0YXRpb25BcmdzKSA9PiB7XG4gKiAgIGluc2VydEF0UG9zaXRpb24oe1xuICogICAgIHBhZ2luYXRlZFF1ZXJ5OiBhcGkudGFza3MubGlzdEJ5UHJpb3JpdHksXG4gKiAgICAgYXJnc1RvTWF0Y2g6IHsgbGlzdElkOiBtdXRhdGlvbkFyZ3MubGlzdElkIH0sXG4gKiAgICAgc29ydE9yZGVyOiBcImFzY1wiLFxuICogICAgIHNvcnRLZXlGcm9tSXRlbTogKGl0ZW0pID0+IFtpdGVtLnByaW9yaXR5LCBpdGVtLl9jcmVhdGlvblRpbWVdLFxuICogICAgIGxvY2FsUXVlcnlTdG9yZTogbG9jYWxTdG9yZSxcbiAqICAgICBpdGVtOiB7XG4gKiAgICAgICBfaWQ6IGNyeXB0by5yYW5kb21VVUlEKCkgYXMgSWQ8XCJ0YXNrc1wiPixcbiAqICAgICAgIF9jcmVhdGlvblRpbWU6IERhdGUubm93KCksXG4gKiAgICAgICB0aXRsZTogbXV0YXRpb25BcmdzLnRpdGxlLFxuICogICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAqICAgICAgIHByaW9yaXR5OiBtdXRhdGlvbkFyZ3MucHJpb3JpdHksXG4gKiAgICAgfSxcbiAqICAgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICogQHBhcmFtIG9wdGlvbnMucGFnaW5hdGVkUXVlcnkgLSBBIGZ1bmN0aW9uIHJlZmVyZW5jZSB0byB0aGUgcGFnaW5hdGVkIHF1ZXJ5LlxuICogQHBhcmFtIG9wdGlvbnMuYXJnc1RvTWF0Y2ggLSBPcHRpb25hbCBhcmd1bWVudHMgdGhhdCBtdXN0IGJlIGluIGVhY2ggcmVsZXZhbnQgcGFnaW5hdGVkIHF1ZXJ5LlxuICogVGhpcyBpcyB1c2VmdWwgaWYgeW91IHVzZSB0aGUgc2FtZSBxdWVyeSBmdW5jdGlvbiB3aXRoIGRpZmZlcmVudCBhcmd1bWVudHMgdG8gbG9hZFxuICogZGlmZmVyZW50IGxpc3RzLlxuICogQHBhcmFtIG9wdGlvbnMuc29ydE9yZGVyIC0gVGhlIHNvcnQgb3JkZXIgb2YgdGhlIHBhZ2luYXRlZCBxdWVyeSAoXCJhc2NcIiBvciBcImRlc2NcIikuXG4gKiBAcGFyYW0gb3B0aW9ucy5zb3J0S2V5RnJvbUl0ZW0gLSBBIGZ1bmN0aW9uIGZvciBkZXJpdmluZyB0aGUgc29ydCBrZXkgKGFuIGFycmF5IG9mIHZhbHVlcykgZnJvbSBhbiBlbGVtZW50IGluIHRoZSBsaXN0LlxuICogSW5jbHVkaW5nIGEgdGllLWJyZWFrZXIgZmllbGQgbGlrZSBgX2NyZWF0aW9uVGltZWAgaXMgcmVjb21tZW5kZWQuXG4gKiBAcGFyYW0gb3B0aW9ucy5sb2NhbFF1ZXJ5U3RvcmVcbiAqIEBwYXJhbSBvcHRpb25zLml0ZW0gLSBUaGUgaXRlbSB0byBpbnNlcnQuXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QXRQb3NpdGlvbjxcbiAgUXVlcnkgZXh0ZW5kcyBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZSxcbj4ob3B0aW9uczoge1xuICBwYWdpbmF0ZWRRdWVyeTogUXVlcnk7XG4gIGFyZ3NUb01hdGNoPzogUGFydGlhbDxQYWdpbmF0ZWRRdWVyeUFyZ3M8UXVlcnk+PjtcbiAgc29ydE9yZGVyOiBcImFzY1wiIHwgXCJkZXNjXCI7XG4gIHNvcnRLZXlGcm9tSXRlbTogKGVsZW1lbnQ6IFBhZ2luYXRlZFF1ZXJ5SXRlbTxRdWVyeT4pID0+IFZhbHVlIHwgVmFsdWVbXTtcbiAgbG9jYWxRdWVyeVN0b3JlOiBPcHRpbWlzdGljTG9jYWxTdG9yZTtcbiAgaXRlbTogUGFnaW5hdGVkUXVlcnlJdGVtPFF1ZXJ5Pjtcbn0pIHtcbiAgY29uc3Qge1xuICAgIHBhZ2luYXRlZFF1ZXJ5LFxuICAgIHNvcnRPcmRlcixcbiAgICBzb3J0S2V5RnJvbUl0ZW0sXG4gICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgIGl0ZW0sXG4gICAgYXJnc1RvTWF0Y2gsXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IHF1ZXJpZXM6IExvY2FsUXVlcnlSZXN1bHQ8UXVlcnk+W10gPVxuICAgIGxvY2FsUXVlcnlTdG9yZS5nZXRBbGxRdWVyaWVzKHBhZ2luYXRlZFF1ZXJ5KTtcbiAgLy8gR3JvdXAgaW50byBzZXRzIG9mIHBhZ2VzIGZvciB0aGUgc2FtZSB1c2VQYWdpbmF0ZWRRdWVyeS4gR3JvdXBpbmcgaXMgYnkgYWxsXG4gIC8vIGFyZ3MgZXhjZXB0IHBhZ2luYXRpb25PcHRzLCBidXQgaW5jbHVkaW5nIHBhZ2luYXRpb25PcHRzLmlkLlxuICBjb25zdCBxdWVyeUdyb3VwczogUmVjb3JkPHN0cmluZywgTG9jYWxRdWVyeVJlc3VsdDxRdWVyeT5bXT4gPSB7fTtcbiAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XG4gICAgaWYgKFxuICAgICAgYXJnc1RvTWF0Y2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgIU9iamVjdC5rZXlzKGFyZ3NUb01hdGNoKS5ldmVyeShcbiAgICAgICAgKGspID0+XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSB3aHkgaXMgdGhpcyBub3Qgd29ya2luZz9cbiAgICAgICAgICBhcmdzVG9NYXRjaFtrXSA9PT0gcXVlcnkuYXJnc1trXSxcbiAgICAgIClcbiAgICApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocXVlcnkuYXJncykubWFwKChbaywgdl0pID0+IFtcbiAgICAgICAgICBrLFxuICAgICAgICAgIGsgPT09IFwicGFnaW5hdGlvbk9wdHNcIiA/ICh2IGFzIGFueSkuaWQgOiB2LFxuICAgICAgICBdKSxcbiAgICAgICksXG4gICAgKTtcbiAgICBxdWVyeUdyb3Vwc1trZXldID8/PSBbXTtcbiAgICBxdWVyeUdyb3Vwc1trZXldLnB1c2gocXVlcnkpO1xuICB9XG4gIGZvciAoY29uc3QgcGFnZVF1ZXJpZXMgb2YgT2JqZWN0LnZhbHVlcyhxdWVyeUdyb3VwcykpIHtcbiAgICBpbnNlcnRBdFBvc2l0aW9uSW5QYWdlcyh7XG4gICAgICBwYWdlUXVlcmllcyxcbiAgICAgIHBhZ2luYXRlZFF1ZXJ5LFxuICAgICAgc29ydE9yZGVyLFxuICAgICAgc29ydEtleUZyb21JdGVtLFxuICAgICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgICAgaXRlbSxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRBdFBvc2l0aW9uSW5QYWdlczxcbiAgUXVlcnkgZXh0ZW5kcyBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZSxcbj4ob3B0aW9uczoge1xuICBwYWdlUXVlcmllczogTG9jYWxRdWVyeVJlc3VsdDxRdWVyeT5bXTtcbiAgcGFnaW5hdGVkUXVlcnk6IFF1ZXJ5O1xuICBzb3J0T3JkZXI6IFwiYXNjXCIgfCBcImRlc2NcIjtcbiAgc29ydEtleUZyb21JdGVtOiAoZWxlbWVudDogUGFnaW5hdGVkUXVlcnlJdGVtPFF1ZXJ5PikgPT4gVmFsdWUgfCBWYWx1ZVtdO1xuICBsb2NhbFF1ZXJ5U3RvcmU6IE9wdGltaXN0aWNMb2NhbFN0b3JlO1xuICBpdGVtOiBQYWdpbmF0ZWRRdWVyeUl0ZW08UXVlcnk+O1xufSkge1xuICBjb25zdCB7XG4gICAgcGFnZVF1ZXJpZXMsXG4gICAgc29ydE9yZGVyLFxuICAgIHNvcnRLZXlGcm9tSXRlbSxcbiAgICBsb2NhbFF1ZXJ5U3RvcmUsXG4gICAgaXRlbSxcbiAgICBwYWdpbmF0ZWRRdWVyeSxcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGluc2VydGVkS2V5ID0gc29ydEtleUZyb21JdGVtKGl0ZW0pO1xuICBjb25zdCBsb2FkZWRQYWdlczogTG9hZGVkUmVzdWx0PFF1ZXJ5PltdID0gcGFnZVF1ZXJpZXMuZmlsdGVyKFxuICAgIChxKTogcSBpcyBMb2FkZWRSZXN1bHQ8UXVlcnk+ID0+XG4gICAgICBxLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgcS52YWx1ZS5wYWdlLmxlbmd0aCA+IDAsXG4gICk7XG4gIGNvbnN0IHNvcnRlZFBhZ2VzID0gbG9hZGVkUGFnZXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGFLZXkgPSBzb3J0S2V5RnJvbUl0ZW0oYS52YWx1ZS5wYWdlWzBdKTtcbiAgICBjb25zdCBiS2V5ID0gc29ydEtleUZyb21JdGVtKGIudmFsdWUucGFnZVswXSk7XG4gICAgaWYgKHNvcnRPcmRlciA9PT0gXCJhc2NcIikge1xuICAgICAgcmV0dXJuIGNvbXBhcmVWYWx1ZXMoYUtleSwgYktleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlVmFsdWVzKGJLZXksIGFLZXkpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gY2hlY2sgaWYgdGhlIGluc2VydGVkIGVsZW1lbnQgaXMgYmVmb3JlIHRoZSBmaXJzdCBwYWdlXG4gIGNvbnN0IGZpcnN0TG9hZGVkUGFnZSA9IHNvcnRlZFBhZ2VzWzBdO1xuICBpZiAoZmlyc3RMb2FkZWRQYWdlID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBubyBwYWdlcywgc28gZG9uJ3QgdXBkYXRlIHVudGlsIHRoZXkgbG9hZFxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBmaXJzdFBhZ2VLZXkgPSBzb3J0S2V5RnJvbUl0ZW0oZmlyc3RMb2FkZWRQYWdlLnZhbHVlLnBhZ2VbMF0pO1xuICBjb25zdCBpc0JlZm9yZUZpcnN0UGFnZSA9XG4gICAgc29ydE9yZGVyID09PSBcImFzY1wiXG4gICAgICA/IGNvbXBhcmVWYWx1ZXMoaW5zZXJ0ZWRLZXksIGZpcnN0UGFnZUtleSkgPD0gMFxuICAgICAgOiBjb21wYXJlVmFsdWVzKGluc2VydGVkS2V5LCBmaXJzdFBhZ2VLZXkpID49IDA7XG4gIGlmIChpc0JlZm9yZUZpcnN0UGFnZSkge1xuICAgIGlmIChmaXJzdExvYWRlZFBhZ2UuYXJncy5wYWdpbmF0aW9uT3B0cy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgZmlyc3RMb2FkZWRQYWdlLmFyZ3MsIHtcbiAgICAgICAgLi4uZmlyc3RMb2FkZWRQYWdlLnZhbHVlLFxuICAgICAgICBwYWdlOiBbaXRlbSwgLi4uZmlyc3RMb2FkZWRQYWdlLnZhbHVlLnBhZ2VdLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZSB2ZXJ5IGZpcnN0IHBhZ2UgaXMgbm90IGxvYWRlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsYXN0TG9hZGVkUGFnZSA9IHNvcnRlZFBhZ2VzW3NvcnRlZFBhZ2VzLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdExvYWRlZFBhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIG5vIHBhZ2VzLCBzbyBkb24ndCB1cGRhdGUgdW50aWwgdGhleSBsb2FkXG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGxhc3RQYWdlS2V5ID0gc29ydEtleUZyb21JdGVtKFxuICAgIGxhc3RMb2FkZWRQYWdlLnZhbHVlLnBhZ2VbbGFzdExvYWRlZFBhZ2UudmFsdWUucGFnZS5sZW5ndGggLSAxXSxcbiAgKTtcbiAgY29uc3QgaXNBZnRlckxhc3RQYWdlID1cbiAgICBzb3J0T3JkZXIgPT09IFwiYXNjXCJcbiAgICAgID8gY29tcGFyZVZhbHVlcyhpbnNlcnRlZEtleSwgbGFzdFBhZ2VLZXkpID49IDBcbiAgICAgIDogY29tcGFyZVZhbHVlcyhpbnNlcnRlZEtleSwgbGFzdFBhZ2VLZXkpIDw9IDA7XG4gIGlmIChpc0FmdGVyTGFzdFBhZ2UpIHtcbiAgICAvLyBPbmx5IHVwZGF0ZSBpZiB0aGUgbGFzdCBwYWdlIGlzIGRvbmUgbG9hZGluZywgb3RoZXJ3aXNlIGl0IHdpbGwgcG9wIG91dFxuICAgIC8vIHdoZW4gdGhlIHNlcnZlciB1cGRhdGVzIHRoZSBxdWVyeVxuICAgIGlmIChsYXN0TG9hZGVkUGFnZS52YWx1ZS5pc0RvbmUpIHtcbiAgICAgIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgbGFzdExvYWRlZFBhZ2UuYXJncywge1xuICAgICAgICAuLi5sYXN0TG9hZGVkUGFnZS52YWx1ZSxcbiAgICAgICAgcGFnZTogWy4uLmxhc3RMb2FkZWRQYWdlLnZhbHVlLnBhZ2UsIGl0ZW1dLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGlmIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIsIGZpbmQgdGhlIGZpcnN0IHBhZ2UgdGhhdCBzdGFydHMgd2l0aCBhIGtleSBncmVhdGVyIHRoYW4gdGhlIGluc2VydGVkIGVsZW1lbnQsXG4gIC8vIGFuZCB1cGRhdGUgdGhlIHBhZ2UgYmVmb3JlIGl0XG4gIC8vIGlmIHNvcnRlZCBpbiBkZXNjZW5kaW5nIG9yZGVyLCBmaW5kIHRoZSBmaXJzdCBwYWdlIHRoYXQgc3RhcnRzIHdpdGggYSBrZXkgbGVzcyB0aGFuIHRoZSBpbnNlcnRlZCBlbGVtZW50LFxuICAvLyBhbmQgdXBkYXRlIHRoZSBwYWdlIGJlZm9yZSBpdFxuXG4gIGNvbnN0IHN1Y2Nlc3NvclBhZ2VJbmRleCA9IHNvcnRlZFBhZ2VzLmZpbmRJbmRleCgocCkgPT5cbiAgICBzb3J0T3JkZXIgPT09IFwiYXNjXCJcbiAgICAgID8gY29tcGFyZVZhbHVlcyhzb3J0S2V5RnJvbUl0ZW0ocC52YWx1ZS5wYWdlWzBdKSwgaW5zZXJ0ZWRLZXkpID4gMFxuICAgICAgOiBjb21wYXJlVmFsdWVzKHNvcnRLZXlGcm9tSXRlbShwLnZhbHVlLnBhZ2VbMF0pLCBpbnNlcnRlZEtleSkgPCAwLFxuICApO1xuICBjb25zdCBwYWdlVG9VcGRhdGUgPVxuICAgIHN1Y2Nlc3NvclBhZ2VJbmRleCA9PT0gLTFcbiAgICAgID8gc29ydGVkUGFnZXNbc29ydGVkUGFnZXMubGVuZ3RoIC0gMV1cbiAgICAgIDogc29ydGVkUGFnZXNbc3VjY2Vzc29yUGFnZUluZGV4IC0gMV07XG4gIGlmIChwYWdlVG9VcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIG5vIHBhZ2VzLCBzbyBkb24ndCB1cGRhdGUgdW50aWwgdGhleSBsb2FkXG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIElmIGFzY2VuZGluZywgZmluZCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgaW5zZXJ0ZWQgZWxlbWVudFxuICAvLyBJZiBkZXNjZW5kaW5nLCBmaW5kIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBpbnNlcnRlZCBlbGVtZW50XG4gIGNvbnN0IGluZGV4V2l0aGluUGFnZSA9IHBhZ2VUb1VwZGF0ZS52YWx1ZS5wYWdlLmZpbmRJbmRleCgoZSkgPT5cbiAgICBzb3J0T3JkZXIgPT09IFwiYXNjXCJcbiAgICAgID8gY29tcGFyZVZhbHVlcyhzb3J0S2V5RnJvbUl0ZW0oZSksIGluc2VydGVkS2V5KSA+PSAwXG4gICAgICA6IGNvbXBhcmVWYWx1ZXMoc29ydEtleUZyb21JdGVtKGUpLCBpbnNlcnRlZEtleSkgPD0gMCxcbiAgKTtcbiAgY29uc3QgbmV3UGFnZSA9XG4gICAgaW5kZXhXaXRoaW5QYWdlID09PSAtMVxuICAgICAgPyBbLi4ucGFnZVRvVXBkYXRlLnZhbHVlLnBhZ2UsIGl0ZW1dXG4gICAgICA6IFtcbiAgICAgICAgICAuLi5wYWdlVG9VcGRhdGUudmFsdWUucGFnZS5zbGljZSgwLCBpbmRleFdpdGhpblBhZ2UpLFxuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgLi4ucGFnZVRvVXBkYXRlLnZhbHVlLnBhZ2Uuc2xpY2UoaW5kZXhXaXRoaW5QYWdlKSxcbiAgICAgICAgXTtcbiAgbG9jYWxRdWVyeVN0b3JlLnNldFF1ZXJ5KHBhZ2luYXRlZFF1ZXJ5LCBwYWdlVG9VcGRhdGUuYXJncywge1xuICAgIC4uLnBhZ2VUb1VwZGF0ZS52YWx1ZSxcbiAgICBwYWdlOiBuZXdQYWdlLFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query2.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query2.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery_experimental: () => (/* binding */ usePaginatedQuery_experimental)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/value.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_queries.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../values/errors.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\nvar _s = $RefreshSig$();\n\"use strict\";\n\n\n\n\n\n\nfunction usePaginatedQuery_experimental(query, args, options) {\n    _s();\n    if (typeof (options === null || options === void 0 ? void 0 : options.initialNumItems) !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(\"`options.initialNumItems` must be a positive number. Received `\".concat(options === null || options === void 0 ? void 0 : options.initialNumItems, \"`.\"));\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const convexClient = (0,_client_js__WEBPACK_IMPORTED_MODULE_5__.useConvex)();\n    const logger = convexClient.logger;\n    const createInitialState = ()=>{\n        const id = nextPaginationId();\n        return {\n            query,\n            args: argsObject,\n            id,\n            // Queries will contain zero or one queries forever.\n            queries: skip ? {} : {\n                paginatedQuery: {\n                    query,\n                    args: {\n                        ...argsObject\n                    },\n                    paginationOptions: {\n                        initialNumItems: options.initialNumItems,\n                        id\n                    }\n                }\n            },\n            skip\n        };\n    };\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(state.query) || JSON.stringify((0,_values_value_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_value_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries)(currState.queries);\n    if (!(\"paginatedQuery\" in resultsObject)) {\n        if (!skip) {\n            throw new Error(\"Why is it missing?\");\n        }\n        return {\n            results: [],\n            status: \"LoadingFirstPage\",\n            isLoading: true,\n            loadMore: function skipNOP(_numItems) {\n                return false;\n            }\n        };\n    }\n    const result = resultsObject.paginatedQuery;\n    if (result === void 0) {\n        return {\n            results: [],\n            loadMore: ()=>false,\n            isLoading: true,\n            status: \"LoadingFirstPage\"\n        };\n    }\n    if (result instanceof Error) {\n        var _result_data, _result_data1;\n        if (result.message.includes(\"InvalidCursor\") || result instanceof _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError && typeof result.data === \"object\" && ((_result_data = result.data) === null || _result_data === void 0 ? void 0 : _result_data.isConvexSystemError) === true && ((_result_data1 = result.data) === null || _result_data1 === void 0 ? void 0 : _result_data1.paginationError) === \"InvalidCursor\") {\n            logger.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + result.message);\n            setState(createInitialState);\n            return {\n                results: [],\n                loadMore: ()=>false,\n                isLoading: true,\n                status: \"LoadingFirstPage\"\n            };\n        } else {\n            throw result;\n        }\n    }\n    return {\n        ...result,\n        loadMore: (num)=>{\n            return result.loadMore(num);\n        },\n        isLoading: result.status === \"LoadingFirstPage\" ? true : result.status === \"LoadingMore\" ? true : false\n    };\n}\n_s(usePaginatedQuery_experimental, \"VEFuQ9DvxUf08mvomSz6RWtgzVk=\", false, function() {\n    return [\n        _client_js__WEBPACK_IMPORTED_MODULE_5__.useConvex,\n        _use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries\n    ];\n});\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n} //# sourceMappingURL=use_paginated_query2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3BhZ2luYXRlZF9xdWVyeTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF5QjtBQUUwQjtBQU1mO0FBQ1Q7QUFHQztBQUNGO0FBMERuQix3Q0FHTCxPQUNBLE1BS0EsU0FDb0M7O0lBQ3BDLElBQ0UsMERBQU8sUUFBUyxxQkFBb0IsWUFDcEMsUUFBUSxrQkFBa0IsR0FDMUI7UUFDQSxNQUFNLElBQUksTUFDUixrRUFBNkYsMkJBQXhCLHNDQUFTLGVBQWU7SUFFakc7SUFDQSxNQUFNLE9BQU8sU0FBUztJQUN0QixNQUFNLGFBQWEsT0FBTyxDQUFDLElBQUk7SUFFL0IsTUFBTSxlQUFlLHFEQUFTO0lBQzlCLE1BQU0sU0FBUyxhQUFhO0lBRzVCLE1BQU0scUJBQW1EO1FBQ3ZELE1BQU0sS0FBSyxpQkFBaUI7UUFDNUIsT0FBTztZQUNMO1lBQ0EsTUFBTTtZQUNOO1lBQUE7WUFFQSxTQUFTLE9BQ0osQ0FBQyxJQUNGO2dCQUNFLGdCQUFnQjtvQkFDZDtvQkFDQSxNQUFNO3dCQUNKLEdBQUc7b0JBQ0w7b0JBQ0EsbUJBQW1CO3dCQUNqQixpQkFBaUIsUUFBUTt3QkFDekI7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUNKO1FBQ0Y7SUFDRjtJQUVBLE1BQU0sQ0FBQyxPQUFPLFFBQVEsSUFDcEIsK0NBQVEsQ0FBeUIsa0JBQWtCO0lBR3JELElBQUksWUFBWTtJQUVoQixJQUNFLCtEQUFlLENBQUMsS0FBSyxNQUFNLCtEQUFlLENBQUMsTUFBTSxLQUFLLEtBQ3RELEtBQUssVUFBVSw4REFBWSxDQUFDLFVBQW1CLENBQUMsTUFDOUMsS0FBSyxVQUFVLDhEQUFZLENBQUMsTUFBTSxJQUFJLENBQUMsS0FDekMsU0FBUyxNQUFNLE1BQ2Y7UUFDQSxZQUFZLG1CQUFtQjtRQUMvQixTQUFTLFNBQVM7SUFDcEI7SUFHQSxNQUFNLGdCQUFnQiwyREFBVSxDQUFDLFVBQVUsT0FBTztJQUdsRCxJQUFJLEVBQUUsb0JBQW9CLGdCQUFnQjtRQUN4QyxJQUFJLENBQUMsTUFBTTtZQUNULE1BQU0sSUFBSSxNQUFNLG9CQUFvQjtRQUN0QztRQUNBLE9BQU87WUFDTCxTQUFTLENBQUM7WUFDVixRQUFRO1lBQ1IsV0FBVztZQUNYLFVBQVUsU0FBUyxRQUFRLFdBQW1CO2dCQUM1QyxPQUFPO1lBQ1Q7UUFDRjtJQUNGO0lBQ0EsTUFBTSxTQUFTLGNBQWM7SUFRN0IsSUFBSSxXQUFXLFFBQVc7UUFDeEIsT0FBTztZQUNMLFNBQVMsQ0FBQztZQUNWLFVBQVUsSUFBTTtZQUNoQixXQUFXO1lBQ1gsUUFBUTtRQUNWO0lBQ0Y7SUFFQSxJQUFJLGtCQUFrQixPQUFPO1lBS3ZCO1FBSkosSUFDRSxPQUFPLFFBQVEsU0FBUyxlQUFlLEtBQ3RDLGtCQUFrQiwwREFBVyxJQUM1QixPQUFPLE9BQU8sU0FBUyxvQ0FDaEIsa0VBQU0seUJBQXdCLDBCQUNyQyxPQUFPLG9FQUFNLHFCQUFvQixpQkFDbkM7WUFRQSxPQUFPLEtBQ0wsOERBQ0UsT0FBTztZQUVYLFNBQVMsa0JBQWtCO1lBQzNCLE9BQU87Z0JBQ0wsU0FBUyxDQUFDO2dCQUNWLFVBQVUsSUFBTTtnQkFDaEIsV0FBVztnQkFDWCxRQUFRO1lBQ1Y7UUFDRixPQUFPO1lBQ0wsTUFBTTtRQUNSO0lBQ0Y7SUFFQSxPQUFPO1FBQ0wsR0FBRztRQUNILFVBQVUsQ0FBQztZQUNULE9BQU8sT0FBTyxTQUFTLEdBQUc7UUFDNUI7UUFDQSxXQUNFLE9BQU8sV0FBVyxxQkFDZCxPQUNBLE9BQU8sV0FBVyxnQkFDaEIsT0FDQTtJQUNWO0FBQ0Y7R0FoSmdCOztRQXNCTyxpREFBUyxDQUFDO1FBOENULHVEQUFVOzs7QUE4RWxDLElBQUksZUFBZTtBQU1uQixTQUFTLG1CQUEyQjtJQUNsQztJQUNBLE9BQU87QUFDVDtBQUtPLFNBQVMsb0JBQW9CO0lBQ2xDLGVBQWU7QUFDakIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IEZ1bmN0aW9uUmVmZXJlbmNlLCBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHtcbiAgUGFnaW5hdGVkUXVlcnlSZWZlcmVuY2UsXG4gIFBhZ2luYXRlZFF1ZXJ5QXJncyxcbiAgVXNlUGFnaW5hdGVkUXVlcnlSZXR1cm5UeXBlLFxufSBmcm9tIFwiLi91c2VfcGFnaW5hdGVkX3F1ZXJ5LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24sIFZhbHVlIH0gZnJvbSBcIi4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuaW1wb3J0IHsgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5pbXBvcnQgeyBQYWdpbmF0ZWRRdWVyeVJlc3VsdCB9IGZyb20gXCIuLi9icm93c2VyL3N5bmMvcGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IHsgU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnMgfSBmcm9tIFwiLi4vYnJvd3Nlci9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHVzZUNvbnZleCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuXG50eXBlIFVzZVBhZ2luYXRlZFF1ZXJ5U3RhdGUgPSB7XG4gIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+O1xuICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT47XG4gIGlkOiBudW1iZXI7XG4gIHF1ZXJpZXM6IHtcbiAgICBwYWdpbmF0ZWRRdWVyeT86IHtcbiAgICAgIHF1ZXJ5OiBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCI+O1xuICAgICAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+O1xuICAgICAgcGFnaW5hdGlvbk9wdGlvbnM6IFN1YnNjcmliZVRvUGFnaW5hdGVkUXVlcnlPcHRpb25zO1xuICAgIH07XG4gIH07XG4gIHNraXA6IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIEV4cGVyaW1lbnRhbCBuZXcgdXNlUGFnaW5hdGVkUXVlcnkgaW1wbGVtZW50YXRpb24gdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgb25lXG4gKiBpbiB0aGUgZnV0dXJlLlxuICpcbiAqIExvYWQgZGF0YSByZWFjdGl2ZWx5IGZyb20gYSBwYWdpbmF0ZWQgcXVlcnkgdG8gYSBjcmVhdGUgYSBncm93aW5nIGxpc3QuXG4gKlxuICogVGhpcyBpcyBhbiBhbHRlcm5hdGUgaW1wbGVtZW50YXRpb24gdGhhdCByZWxpZXMgb24gbmV3IGNsaWVudCBwYWdpbmF0aW9uIGxvZ2ljLlxuICpcbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcG93ZXIgXCJpbmZpbml0ZSBzY3JvbGxcIiBVSXMuXG4gKlxuICogVGhpcyBob29rIG11c3QgYmUgdXNlZCB3aXRoIHB1YmxpYyBxdWVyeSByZWZlcmVuY2VzIHRoYXQgbWF0Y2hcbiAqIHtAbGluayBQYWdpbmF0ZWRRdWVyeVJlZmVyZW5jZX0uXG4gKlxuICogYHVzZVBhZ2luYXRlZFF1ZXJ5YCBjb25jYXRlbmF0ZXMgYWxsIHRoZSBwYWdlcyBvZiByZXN1bHRzIGludG8gYSBzaW5nbGUgbGlzdFxuICogYW5kIG1hbmFnZXMgdGhlIGNvbnRpbnVhdGlvbiBjdXJzb3JzIHdoZW4gcmVxdWVzdGluZyBtb3JlIGl0ZW1zLlxuICpcbiAqIEV4YW1wbGUgdXNhZ2U6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCB7IHJlc3VsdHMsIHN0YXR1cywgaXNMb2FkaW5nLCBsb2FkTW9yZSB9ID0gdXNlUGFnaW5hdGVkUXVlcnkoXG4gKiAgIGFwaS5tZXNzYWdlcy5saXN0LFxuICogICB7IGNoYW5uZWw6IFwiI2dlbmVyYWxcIiB9LFxuICogICB7IGluaXRpYWxOdW1JdGVtczogNSB9XG4gKiApO1xuICogYGBgXG4gKlxuICogSWYgdGhlIHF1ZXJ5IHJlZmVyZW5jZSBvciBhcmd1bWVudHMgY2hhbmdlLCB0aGUgcGFnaW5hdGlvbiBzdGF0ZSB3aWxsIGJlIHJlc2V0XG4gKiB0byB0aGUgZmlyc3QgcGFnZS4gU2ltaWxhcmx5LCBpZiBhbnkgb2YgdGhlIHBhZ2VzIHJlc3VsdCBpbiBhbiBJbnZhbGlkQ3Vyc29yXG4gKiBlcnJvciBvciBhbiBlcnJvciBhc3NvY2lhdGVkIHdpdGggdG9vIG11Y2ggZGF0YSwgdGhlIHBhZ2luYXRpb24gc3RhdGUgd2lsbCBhbHNvXG4gKiByZXNldCB0byB0aGUgZmlyc3QgcGFnZS5cbiAqXG4gKiBUbyBsZWFybiBtb3JlIGFib3V0IHBhZ2luYXRpb24sIHNlZSBbUGFnaW5hdGVkIFF1ZXJpZXNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2RhdGFiYXNlL3BhZ2luYXRpb24pLlxuICpcbiAqIEBwYXJhbSBxdWVyeSAtIEEgRnVuY3Rpb25SZWZlcmVuY2UgdG8gdGhlIHB1YmxpYyBxdWVyeSBmdW5jdGlvbiB0byBydW4uXG4gKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkgZnVuY3Rpb24sIGV4Y2x1ZGluZ1xuICogdGhlIGBwYWdpbmF0aW9uT3B0c2AgcHJvcGVydHkuIFRoYXQgcHJvcGVydHkgaXMgaW5qZWN0ZWQgYnkgdGhpcyBob29rLlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvYmplY3Qgc3BlY2lmeWluZyB0aGUgYGluaXRpYWxOdW1JdGVtc2AgdG8gYmUgbG9hZGVkIGluXG4gKiB0aGUgZmlyc3QgcGFnZS5cbiAqIEByZXR1cm5zIEEge0BsaW5rIFVzZVBhZ2luYXRlZFF1ZXJ5UmVzdWx0fSB0aGF0IGluY2x1ZGVzIHRoZSBjdXJyZW50bHkgbG9hZGVkXG4gKiBpdGVtcywgdGhlIHN0YXR1cyBvZiB0aGUgcGFnaW5hdGlvbiwgYW5kIGEgYGxvYWRNb3JlYCBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRRdWVyeV9leHBlcmltZW50YWw8XG4gIFF1ZXJ5IGV4dGVuZHMgUGFnaW5hdGVkUXVlcnlSZWZlcmVuY2UsXG4+KFxuICBxdWVyeTogUXVlcnksXG4gIGFyZ3M6IFBhZ2luYXRlZFF1ZXJ5QXJnczxRdWVyeT4gfCBcInNraXBcIixcbiAgLy8gRnV0dXJlIG9wdGlvbnMgdGhpcyBob29rIG1pZ2h0IGFjY2VwdDpcbiAgLy8gLSBtYXhpbXVtUm93c1JlYWRcbiAgLy8gLSBtYXhpbXVtQnl0ZXNSZWFkXG4gIC8vIC0gYSBjdXJzb3IgZm9yIHdoZXJlIHRvIHN0YXJ0PyBhbHRob3VnaCBwcm9iYWJseSBubyBlbmRDdXJzb3JcbiAgb3B0aW9uczogeyBpbml0aWFsTnVtSXRlbXM6IG51bWJlciB9LFxuKTogVXNlUGFnaW5hdGVkUXVlcnlSZXR1cm5UeXBlPFF1ZXJ5PiB7XG4gIGlmIChcbiAgICB0eXBlb2Ygb3B0aW9ucz8uaW5pdGlhbE51bUl0ZW1zICE9PSBcIm51bWJlclwiIHx8XG4gICAgb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgPCAwXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBcXGBvcHRpb25zLmluaXRpYWxOdW1JdGVtc1xcYCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBSZWNlaXZlZCBcXGAke29wdGlvbnM/LmluaXRpYWxOdW1JdGVtc31cXGAuYCxcbiAgICApO1xuICB9XG4gIGNvbnN0IHNraXAgPSBhcmdzID09PSBcInNraXBcIjtcbiAgY29uc3QgYXJnc09iamVjdCA9IHNraXAgPyB7fSA6IGFyZ3M7XG5cbiAgY29uc3QgY29udmV4Q2xpZW50ID0gdXNlQ29udmV4KCk7XG4gIGNvbnN0IGxvZ2dlciA9IGNvbnZleENsaWVudC5sb2dnZXI7XG5cbiAgLy8gVGhlIGlkZW50aXR5IG9mIGNyZWF0ZUluaXRpYWxTdGF0ZSBjaGFuZ2VzIGVhY2ggdGltZSFcbiAgY29uc3QgY3JlYXRlSW5pdGlhbFN0YXRlOiAoKSA9PiBVc2VQYWdpbmF0ZWRRdWVyeVN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gbmV4dFBhZ2luYXRpb25JZCgpO1xuICAgIHJldHVybiB7XG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3M6IGFyZ3NPYmplY3QgYXMgUmVjb3JkPHN0cmluZywgVmFsdWU+LFxuICAgICAgaWQsXG4gICAgICAvLyBRdWVyaWVzIHdpbGwgY29udGFpbiB6ZXJvIG9yIG9uZSBxdWVyaWVzIGZvcmV2ZXIuXG4gICAgICBxdWVyaWVzOiBza2lwXG4gICAgICAgID8gKHt9IGFzIFVzZVBhZ2luYXRlZFF1ZXJ5U3RhdGVbXCJxdWVyaWVzXCJdKVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHBhZ2luYXRlZFF1ZXJ5OiB7XG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXJnc09iamVjdCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBpbml0aWFsTnVtSXRlbXM6IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgc2tpcCxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID1cbiAgICB1c2VTdGF0ZTxVc2VQYWdpbmF0ZWRRdWVyeVN0YXRlPihjcmVhdGVJbml0aWFsU3RhdGUpO1xuXG4gIC8vIGBjdXJyU3RhdGVgIGlzIHRoZSBzdGF0ZSB0aGF0IHdlJ2xsIHJlbmRlciBiYXNlZCBvbi5cbiAgbGV0IGN1cnJTdGF0ZSA9IHN0YXRlO1xuICAvLyBOZXcgZnVuY3Rpb24sIGFyZ3MsIG9yIHNraXA/IE5ldyBwYWdpbmF0ZWQgcXVlcnkhXG4gIGlmIChcbiAgICBnZXRGdW5jdGlvbk5hbWUocXVlcnkpICE9PSBnZXRGdW5jdGlvbk5hbWUoc3RhdGUucXVlcnkpIHx8XG4gICAgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3NPYmplY3QgYXMgVmFsdWUpKSAhPT1cbiAgICAgIEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihzdGF0ZS5hcmdzKSkgfHxcbiAgICBza2lwICE9PSBzdGF0ZS5za2lwXG4gICkge1xuICAgIGN1cnJTdGF0ZSA9IGNyZWF0ZUluaXRpYWxTdGF0ZSgpO1xuICAgIHNldFN0YXRlKGN1cnJTdGF0ZSk7XG4gIH1cbiAgLy8gY3VyclN0YXRlLnF1ZXJpZXMgaXMganVzdCBhIHNpbmdsZSBxdWVyeTsgd2UgdXNlIHVzZVF1ZXJpZXNcbiAgLy8gYmVjYXVzZSBpdCdzIHRoZSBsb3dlci1sZXZlbCBvb2sgc3RoYXQgc3VwcG9ydHMgcGFnaW5hdGlvbiBvcHRpb25zLlxuICBjb25zdCByZXN1bHRzT2JqZWN0ID0gdXNlUXVlcmllcyhjdXJyU3RhdGUucXVlcmllcyk7XG5cbiAgLy8gc2tpcFxuICBpZiAoIShcInBhZ2luYXRlZFF1ZXJ5XCIgaW4gcmVzdWx0c09iamVjdCkpIHtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoeSBpcyBpdCBtaXNzaW5nP1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgc3RhdHVzOiBcIkxvYWRpbmdGaXJzdFBhZ2VcIixcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBza2lwTk9QKF9udW1JdGVtczogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSByZXN1bHRzT2JqZWN0LnBhZ2luYXRlZFF1ZXJ5IGFzXG4gICAgfCBQYWdpbmF0ZWRRdWVyeVJlc3VsdDxRdWVyeVtcIl9yZXR1cm5UeXBlXCJdW1wicGFnZVwiXVtudW1iZXJdPlxuICAgIHwgRXJyb3I7XG5cbiAgLy8gVE9ETyB0aGlzIGlzIGEgd2VpcmQgbWl4IG9mIHJlc3BvbnNpYmlsaXRpZXM6XG4gIC8vIC0gaXMgaXQgdGhlIGhvb2sncyBqb2IgdG8gcmVuZGVyIHRoZSBpbml0aWFsIGxvYWRpbmcgc3RhdGU/XG4gIC8vIC0gb3IgaXMgaXQgdGhlIHBhZ2luYXRlZCBxdWVyeSdzIGpvYiB0byByZW5kZXIgdGhlIGFwcHJvcHJvYXRlIGxvYWRpbmcgc3RhdGU/XG4gIC8vIEl0IGNvbWVzIGJhY2sgdG8gd2h5IHdlJ2QgZXZlciBnZXQgdW5kZWZpbmVkIHdoZW4gYXNraW5nIGFib3V0IGEgcXVlcnk7IGhhdmUgd2Ugbm90IHlldCBjYWxsZWQgc3Vic2NyaWJlIGZvciBpdD9cbiAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgbG9hZE1vcmU6ICgpID0+IGZhbHNlLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgc3RhdHVzOiBcIkxvYWRpbmdGaXJzdFBhZ2VcIixcbiAgICB9O1xuICB9XG5cbiAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgaWYgKFxuICAgICAgcmVzdWx0Lm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkQ3Vyc29yXCIpIHx8XG4gICAgICAocmVzdWx0IGluc3RhbmNlb2YgQ29udmV4RXJyb3IgJiZcbiAgICAgICAgdHlwZW9mIHJlc3VsdC5kYXRhID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgIHJlc3VsdC5kYXRhPy5pc0NvbnZleFN5c3RlbUVycm9yID09PSB0cnVlICYmXG4gICAgICAgIHJlc3VsdC5kYXRhPy5wYWdpbmF0aW9uRXJyb3IgPT09IFwiSW52YWxpZEN1cnNvclwiKVxuICAgICkge1xuICAgICAgLy8gLSBJbnZhbGlkQ3Vyc29yOiBJZiB0aGUgY3Vyc29yIGlzIGludmFsaWQsIHByb2JhYmx5IHRoZSBwYWdpbmF0ZWRcbiAgICAgIC8vIGRhdGFiYXNlIHF1ZXJ5IHdhcyBkYXRhLWRlcGVuZGVudCBhbmQgY2hhbmdlZCB1bmRlcm5lYXRoIHVzLiBUaGVcbiAgICAgIC8vIGN1cnNvciBpbiB0aGUgcGFyYW1zIG9yIGpvdXJuYWwgbm8gbG9uZ2VyIG1hdGNoZXMgdGhlIGN1cnJlbnRcbiAgICAgIC8vIGRhdGFiYXNlIHF1ZXJ5LlxuXG4gICAgICAvLyBJbiBhbGwgY2FzZXMsIHdlIHdhbnQgdG8gcmVzdGFydCBwYWdpbmF0aW9uIHRvIHRocm93IGF3YXkgYWxsIG91clxuICAgICAgLy8gZXhpc3RpbmcgY3Vyc29ycy5cbiAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICBcInVzZVBhZ2luYXRlZFF1ZXJ5IGhpdCBlcnJvciwgcmVzZXR0aW5nIHBhZ2luYXRpb24gc3RhdGU6IFwiICtcbiAgICAgICAgICByZXN1bHQubWVzc2FnZSxcbiAgICAgICk7XG4gICAgICBzZXRTdGF0ZShjcmVhdGVJbml0aWFsU3RhdGUpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgIGxvYWRNb3JlOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IFwiTG9hZGluZ0ZpcnN0UGFnZVwiLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4ucmVzdWx0LFxuICAgIGxvYWRNb3JlOiAobnVtKSA9PiB7XG4gICAgICByZXR1cm4gcmVzdWx0LmxvYWRNb3JlKG51bSk7XG4gICAgfSxcbiAgICBpc0xvYWRpbmc6XG4gICAgICByZXN1bHQuc3RhdHVzID09PSBcIkxvYWRpbmdGaXJzdFBhZ2VcIlxuICAgICAgICA/IHRydWVcbiAgICAgICAgOiByZXN1bHQuc3RhdHVzID09PSBcIkxvYWRpbmdNb3JlXCJcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IGZhbHNlLFxuICB9IGFzIFVzZVBhZ2luYXRlZFF1ZXJ5UmV0dXJuVHlwZTxRdWVyeT47XG59XG5cbmxldCBwYWdpbmF0aW9uSWQgPSAwO1xuLyoqXG4gKiBTZWUgLi91c2VfcGFnaW5hdGVkX3F1ZXJ5IGZvciB0aGUgcHVycG9zZSwgYnV0IHdlIG1heSBiZSBhYmxlIHRvIGdldCByaWQgb2YgdGhpcyBzb29uLlxuICpcbiAqIEByZXR1cm5zIFRoZSBwYWdpbmF0aW9uIElELlxuICovXG5mdW5jdGlvbiBuZXh0UGFnaW5hdGlvbklkKCk6IG51bWJlciB7XG4gIHBhZ2luYXRpb25JZCsrO1xuICByZXR1cm4gcGFnaW5hdGlvbklkO1xufVxuXG4vKipcbiAqIFJlc2V0IHBhZ2luYXRpb24gaWQgZm9yIHRlc3RzIG9ubHksIHNvIHRlc3RzIGtub3cgd2hhdCBpdCBpcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UGFnaW5hdGlvbklkKCkge1xuICBwYWdpbmF0aW9uSWQgPSAwO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/use_paginated_query2.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_queries.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useQueries: () => (/* binding */ useQueries),\n/* harmony export */   useQueriesHelper: () => (/* binding */ useQueriesHelper)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries_observer.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/queries_observer.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_subscription.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/use_subscription.js\");\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\"use strict\";\n\n\n\n\nfunction useQueries(queries) {\n    _s();\n    const convex = (0,_client_js__WEBPACK_IMPORTED_MODULE_1__.useConvex)();\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const createWatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useQueries.useMemo[createWatch]\": ()=>{\n            return ({\n                \"useQueries.useMemo[createWatch]\": (query, args, param)=>{\n                    let { journal, paginationOptions } = param;\n                    if (paginationOptions) {\n                        return convex.watchPaginatedQuery(query, args, paginationOptions);\n                    } else {\n                        return convex.watchQuery(query, args, journal ? {\n                            journal\n                        } : {});\n                    }\n                }\n            })[\"useQueries.useMemo[createWatch]\"];\n        }\n    }[\"useQueries.useMemo[createWatch]\"], [\n        convex\n    ]);\n    return useQueriesHelper(queries, createWatch);\n}\n_s(useQueries, \"L8QDMxsIBv80IhJOS8T1rIETIcw=\", false, function() {\n    return [\n        _client_js__WEBPACK_IMPORTED_MODULE_1__.useConvex,\n        useQueriesHelper\n    ];\n});\nfunction useQueriesHelper(queries, createWatch) {\n    _s1();\n    const [observer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useQueriesHelper.useState\": ()=>new _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__.QueriesObserver(createWatch)\n    }[\"useQueriesHelper.useState\"]);\n    if (observer.createWatch !== createWatch) {\n        observer.setCreateWatch(createWatch);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useQueriesHelper.useEffect\": ()=>({\n                \"useQueriesHelper.useEffect\": ()=>observer.destroy()\n            })[\"useQueriesHelper.useEffect\"]\n    }[\"useQueriesHelper.useEffect\"], [\n        observer\n    ]);\n    const subscription = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useQueriesHelper.useMemo[subscription]\": ()=>({\n                getCurrentValue: ({\n                    \"useQueriesHelper.useMemo[subscription]\": ()=>{\n                        return observer.getLocalResults(queries);\n                    }\n                })[\"useQueriesHelper.useMemo[subscription]\"],\n                subscribe: ({\n                    \"useQueriesHelper.useMemo[subscription]\": (callback)=>{\n                        observer.setQueries(queries);\n                        return observer.subscribe(callback);\n                    }\n                })[\"useQueriesHelper.useMemo[subscription]\"]\n            })\n    }[\"useQueriesHelper.useMemo[subscription]\"], [\n        observer,\n        queries\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_3__.useSubscription)(subscription);\n} //# sourceMappingURL=use_queries.js.map\n_s1(useQueriesHelper, \"kxWQMUvasoh5YQtiC+vCt0ixdNo=\", false, function() {\n    return [\n        _use_subscription_js__WEBPACK_IMPORTED_MODULE_3__.useSubscription\n    ];\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3F1ZXJpZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDNkM7QUFDbkI7QUFDbUI7QUFDYjtBQXdEekIsb0JBQ0wsU0FDeUM7O0lBQ3pDLE1BQU0sU0FBUyxxREFBUztJQUN4QixJQUFJLFdBQVcsUUFBVztRQUd4QixNQUFNLElBQUksTUFDUjtJQUlKO0lBQ0EsTUFBTSxjQUFjLDhDQUFPOzJDQUFDO1lBQzFCO21EQUFPLENBQ0wsT0FDQTt3QkFDQSxFQUNFLFNBQ0EsbUJBQ0YsS0FJRztvQkFDSCxJQUFJLG1CQUFtQjt3QkFDckIsT0FBTyxPQUFPLG9CQUFvQixPQUFPLE1BQU0saUJBQWlCO29CQUNsRSxPQUFPO3dCQUNMLE9BQU8sT0FBTyxXQUFXLE9BQU8sTUFBTSxVQUFVOzRCQUFFO3dCQUFRLElBQUksQ0FBQyxDQUFDO29CQUNsRTtnQkFDRjs7UUFDRjswQ0FBRztRQUFDLE1BQU07S0FBQztJQUNYLE9BQU8saUJBQWlCLFNBQVMsV0FBVztBQUM5QztHQWpDZ0I7O1FBR0MsaURBQVMsQ0FBQzs7OztBQW1DcEIsMEJBQ0wsU0FDQSxhQUN5Qzs7SUFDekMsTUFBTSxDQUFDLFFBQVEsSUFBSSwrQ0FBUTtxQ0FBQyxJQUFNLElBQUksaUVBQWUsQ0FBQyxXQUFXLENBQUM7O0lBRWxFLElBQUksU0FBUyxnQkFBZ0IsYUFBYTtRQUN4QyxTQUFTLGVBQWUsV0FBVztJQUNyQztJQUdBLGdEQUFTO3NDQUFDOzhDQUFNLElBQU0sU0FBUyxRQUFROztxQ0FBRztRQUFDLFFBQVE7S0FBQztJQUVwRCxNQUFNLGVBQWUsOENBQU87a0RBQzFCLEtBQU87Z0JBQ0w7OERBQWlCO3dCQUNmLE9BQU8sU0FBUyxnQkFBZ0IsT0FBTztvQkFDekM7O2dCQUNBOzhEQUFXLENBQUM7d0JBQ1YsU0FBUyxXQUFXLE9BQU87d0JBQzNCLE9BQU8sU0FBUyxVQUFVLFFBQVE7b0JBQ3BDOzthQUNGO2lEQUNBO1FBQUM7UUFBVSxPQUFPO0tBQUE7SUFHcEIsT0FBTyxxRUFBZSxDQUFDLFlBQVk7QUFDckM7SUEzQmdCOztRQTBCUCxpRUFBZSIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvcmVhY3QvdXNlX3F1ZXJpZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb252ZXggfSBmcm9tIFwiLi9jbGllbnQuanNcIjtcbmltcG9ydCB7IENyZWF0ZVdhdGNoLCBRdWVyaWVzT2JzZXJ2ZXIgfSBmcm9tIFwiLi9xdWVyaWVzX29ic2VydmVyLmpzXCI7XG5pbXBvcnQgeyB1c2VTdWJzY3JpcHRpb24gfSBmcm9tIFwiLi91c2Vfc3Vic2NyaXB0aW9uLmpzXCI7XG5pbXBvcnQgeyBRdWVyeUpvdXJuYWwgfSBmcm9tIFwiLi4vYnJvd3Nlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgRnVuY3Rpb25SZWZlcmVuY2UgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgU3Vic2NyaWJlVG9QYWdpbmF0ZWRRdWVyeU9wdGlvbnMgfSBmcm9tIFwiLi4vYnJvd3Nlci9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanNcIjtcblxuLyoqXG4gKiBMb2FkIGEgdmFyaWFibGUgbnVtYmVyIG9mIHJlYWN0aXZlIENvbnZleCBxdWVyaWVzLlxuICpcbiAqIGB1c2VRdWVyaWVzYCBpcyBzaW1pbGFyIHRvIHtAbGluayB1c2VRdWVyeX0gYnV0IGl0IGFsbG93c1xuICogbG9hZGluZyBtdWx0aXBsZSBxdWVyaWVzIHdoaWNoIGNhbiBiZSB1c2VmdWwgZm9yIGxvYWRpbmcgYSBkeW5hbWljIG51bWJlclxuICogb2YgcXVlcmllcyB3aXRob3V0IHZpb2xhdGluZyB0aGUgcnVsZXMgb2YgUmVhY3QgaG9va3MuXG4gKlxuICogVGhpcyBob29rIGFjY2VwdHMgYW4gb2JqZWN0IHdob3NlIGtleXMgYXJlIGlkZW50aWZpZXJzIGZvciBlYWNoIHF1ZXJ5IGFuZCB0aGVcbiAqIHZhbHVlcyBhcmUgb2JqZWN0cyBvZiBgeyBxdWVyeTogRnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3M6IFJlY29yZDxzdHJpbmcsIFZhbHVlPiB9YC4gVGhlXG4gKiBgcXVlcnlgIGlzIGEgRnVuY3Rpb25SZWZlcmVuY2UgZm9yIHRoZSBDb252ZXggcXVlcnkgZnVuY3Rpb24gdG8gbG9hZCwgYW5kIHRoZSBgYXJnc2AgYXJlXG4gKiB0aGUgYXJndW1lbnRzIHRvIHRoYXQgZnVuY3Rpb24uXG4gKlxuICogVGhlIGhvb2sgcmV0dXJucyBhbiBvYmplY3QgdGhhdCBtYXBzIGVhY2ggaWRlbnRpZmllciB0byB0aGUgcmVzdWx0IG9mIHRoZSBxdWVyeSxcbiAqIGB1bmRlZmluZWRgIGlmIHRoZSBxdWVyeSBpcyBzdGlsbCBsb2FkaW5nLCBvciBhbiBpbnN0YW5jZSBvZiBgRXJyb3JgIGlmIHRoZSBxdWVyeVxuICogdGhyZXcgYW4gZXhjZXB0aW9uLlxuICpcbiAqIEZvciBleGFtcGxlIGlmIHlvdSBsb2FkZWQgYSBxdWVyeSBsaWtlOlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgcmVzdWx0cyA9IHVzZVF1ZXJpZXMoe1xuICogICBtZXNzYWdlc0luR2VuZXJhbDoge1xuICogICAgIHF1ZXJ5OiBcImxpc3RNZXNzYWdlc1wiLFxuICogICAgIGFyZ3M6IHsgY2hhbm5lbDogXCIjZ2VuZXJhbFwiIH1cbiAqICAgfVxuICogfSk7XG4gKiBgYGBcbiAqIHRoZW4gdGhlIHJlc3VsdCB3b3VsZCBsb29rIGxpa2U6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB7XG4gKiAgIG1lc3NhZ2VzSW5HZW5lcmFsOiBbe1xuICogICAgIGNoYW5uZWw6IFwiI2dlbmVyYWxcIixcbiAqICAgICBib2R5OiBcImhlbGxvXCJcbiAqICAgICBfaWQ6IC4uLixcbiAqICAgICBfY3JlYXRpb25UaW1lOiAuLi5cbiAqICAgfV1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoaXMgUmVhY3QgaG9vayBjb250YWlucyBpbnRlcm5hbCBzdGF0ZSB0aGF0IHdpbGwgY2F1c2UgYSByZXJlbmRlclxuICogd2hlbmV2ZXIgYW55IG9mIHRoZSBxdWVyeSByZXN1bHRzIGNoYW5nZS5cbiAqXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgbm90IHVzZWQgdW5kZXIge0BsaW5rIENvbnZleFByb3ZpZGVyfS5cbiAqXG4gKiBAcGFyYW0gcXVlcmllcyAtIEFuIG9iamVjdCBtYXBwaW5nIGlkZW50aWZpZXJzIHRvIG9iamVjdHMgb2ZcbiAqIGB7cXVlcnk6IHN0cmluZywgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+IH1gIGRlc2NyaWJpbmcgd2hpY2ggcXVlcnlcbiAqIGZ1bmN0aW9ucyB0byBmZXRjaC5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgdGhlIGlucHV0LiBUaGUgdmFsdWVzIGFyZSB0aGUgcmVzdWx0XG4gKiBvZiB0aGUgcXVlcnkgZnVuY3Rpb24sIGB1bmRlZmluZWRgIGlmIGl0J3Mgc3RpbGwgbG9hZGluZywgb3IgYW4gYEVycm9yYCBpZlxuICogaXQgdGhyZXcgYW4gZXhjZXB0aW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJpZXMoXG4gIHF1ZXJpZXM6IFJlcXVlc3RGb3JRdWVyaWVzLFxuKTogUmVjb3JkPHN0cmluZywgYW55IHwgdW5kZWZpbmVkIHwgRXJyb3I+IHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udmV4KCk7XG4gIGlmIChjb252ZXggPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIEVycm9yIG1lc3NhZ2UgaW5jbHVkZXMgYHVzZVF1ZXJ5YCBiZWNhdXNlIHRoaXMgaG9vayBpcyBjYWxsZWQgYnkgYHVzZVF1ZXJ5YFxuICAgIC8vIG1vcmUgb2Z0ZW4gdGhhbiBpdCdzIGNhbGxlZCBkaXJlY3RseS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIENvbnZleCBjbGllbnQhIGB1c2VRdWVyeWAgbXVzdCBiZSB1c2VkIGluIHRoZSBSZWFjdCBjb21wb25lbnQgXCIgK1xuICAgICAgICBcInRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFwiICtcbiAgICAgICAgXCJTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiLFxuICAgICk7XG4gIH1cbiAgY29uc3QgY3JlYXRlV2F0Y2ggPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgcXVlcnk6IEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj4sXG4gICAgICBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBWYWx1ZT4sXG4gICAgICB7XG4gICAgICAgIGpvdXJuYWwsXG4gICAgICAgIHBhZ2luYXRpb25PcHRpb25zLFxuICAgICAgfToge1xuICAgICAgICBqb3VybmFsPzogUXVlcnlKb3VybmFsO1xuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucz86IFN1YnNjcmliZVRvUGFnaW5hdGVkUXVlcnlPcHRpb25zO1xuICAgICAgfSxcbiAgICApID0+IHtcbiAgICAgIGlmIChwYWdpbmF0aW9uT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gY29udmV4LndhdGNoUGFnaW5hdGVkUXVlcnkocXVlcnksIGFyZ3MsIHBhZ2luYXRpb25PcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb252ZXgud2F0Y2hRdWVyeShxdWVyeSwgYXJncywgam91cm5hbCA/IHsgam91cm5hbCB9IDoge30pO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb252ZXhdKTtcbiAgcmV0dXJuIHVzZVF1ZXJpZXNIZWxwZXIocXVlcmllcywgY3JlYXRlV2F0Y2gpO1xufVxuXG4vKipcbiAqIEludGVybmFsIHZlcnNpb24gb2YgYHVzZVF1ZXJpZXNgIHRoYXQgaXMgZXhwb3J0ZWQgZm9yIHRlc3RpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyaWVzSGVscGVyKFxuICBxdWVyaWVzOiBSZXF1ZXN0Rm9yUXVlcmllcyxcbiAgY3JlYXRlV2F0Y2g6IENyZWF0ZVdhdGNoLFxuKTogUmVjb3JkPHN0cmluZywgYW55IHwgdW5kZWZpbmVkIHwgRXJyb3I+IHtcbiAgY29uc3QgW29ic2VydmVyXSA9IHVzZVN0YXRlKCgpID0+IG5ldyBRdWVyaWVzT2JzZXJ2ZXIoY3JlYXRlV2F0Y2gpKTtcblxuICBpZiAob2JzZXJ2ZXIuY3JlYXRlV2F0Y2ggIT09IGNyZWF0ZVdhdGNoKSB7XG4gICAgb2JzZXJ2ZXIuc2V0Q3JlYXRlV2F0Y2goY3JlYXRlV2F0Y2gpO1xuICB9XG5cbiAgLy8gVW5zdWJzY3JpYmUgZnJvbSBhbGwgcXVlcmllcyBvbiB1bm1vdW50LlxuICB1c2VFZmZlY3QoKCkgPT4gKCkgPT4gb2JzZXJ2ZXIuZGVzdHJveSgpLCBbb2JzZXJ2ZXJdKTtcblxuICBjb25zdCBzdWJzY3JpcHRpb24gPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBnZXRDdXJyZW50VmFsdWU6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLmdldExvY2FsUmVzdWx0cyhxdWVyaWVzKTtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5zZXRRdWVyaWVzKHF1ZXJpZXMpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgICAgIH0sXG4gICAgfSksXG4gICAgW29ic2VydmVyLCBxdWVyaWVzXSxcbiAgKTtcblxuICByZXR1cm4gdXNlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7XG59XG5cbi8qKlxuICogQW4gb2JqZWN0IHJlcHJlc2VudGluZyBhIHJlcXVlc3QgdG8gbG9hZCBtdWx0aXBsZSBxdWVyaWVzLlxuICpcbiAqIFRoZSBrZXlzIG9mIHRoaXMgb2JqZWN0IGFyZSBpZGVudGlmaWVycyBhbmQgdGhlIHZhbHVlcyBhcmUgb2JqZWN0cyBjb250YWluaW5nXG4gKiB0aGUgcXVlcnkgZnVuY3Rpb24gYW5kIHRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byBpdC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgYXMgYW4gYXJndW1lbnQgdG8ge0BsaW5rIHVzZVF1ZXJpZXN9LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBSZXF1ZXN0Rm9yUXVlcmllcyA9IFJlY29yZDxcbiAgc3RyaW5nLFxuICB7XG4gICAgcXVlcnk6IEZ1bmN0aW9uUmVmZXJlbmNlPFwicXVlcnlcIj47XG4gICAgYXJnczogUmVjb3JkPHN0cmluZywgVmFsdWU+O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBwYWdpbmF0aW9uT3B0aW9ucz86IFN1YnNjcmliZVRvUGFnaW5hdGVkUXVlcnlPcHRpb25zO1xuICB9XG4+O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/use_queries.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/react/use_subscription.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_subscription.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSubscription: () => (/* binding */ useSubscription)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nvar _s = $RefreshSig$();\n\"use strict\";\n\nfunction useSubscription(param) {\n    let { // (Synchronously) returns the current value of our subscription.\n    getCurrentValue, // This function is passed an event handler to attach to the subscription.\n    // It should return an unsubscribe function that removes the handler.\n    subscribe } = param;\n    _s();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useSubscription.useState\": ()=>({\n                getCurrentValue,\n                subscribe,\n                value: getCurrentValue()\n            })\n    }[\"useSubscription.useState\"]);\n    let valueToReturn = state.value;\n    if (state.getCurrentValue !== getCurrentValue || state.subscribe !== subscribe) {\n        valueToReturn = getCurrentValue();\n        setState({\n            getCurrentValue,\n            subscribe,\n            value: valueToReturn\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSubscription.useEffect\": ()=>{\n            let didUnsubscribe = false;\n            const checkForUpdates = {\n                \"useSubscription.useEffect.checkForUpdates\": ()=>{\n                    if (didUnsubscribe) {\n                        return;\n                    }\n                    setState({\n                        \"useSubscription.useEffect.checkForUpdates\": (prevState)=>{\n                            if (prevState.getCurrentValue !== getCurrentValue || prevState.subscribe !== subscribe) {\n                                return prevState;\n                            }\n                            const value = getCurrentValue();\n                            if (prevState.value === value) {\n                                return prevState;\n                            }\n                            return {\n                                ...prevState,\n                                value\n                            };\n                        }\n                    }[\"useSubscription.useEffect.checkForUpdates\"]);\n                }\n            }[\"useSubscription.useEffect.checkForUpdates\"];\n            const unsubscribe = subscribe(checkForUpdates);\n            checkForUpdates();\n            return ({\n                \"useSubscription.useEffect\": ()=>{\n                    didUnsubscribe = true;\n                    unsubscribe();\n                }\n            })[\"useSubscription.useEffect\"];\n        }\n    }[\"useSubscription.useEffect\"], [\n        getCurrentValue,\n        subscribe\n    ]);\n    return valueToReturn;\n} //# sourceMappingURL=use_subscription.js.map\n_s(useSubscription, \"2fHmwTnOH+PVF+HWa+U74hC58+U=\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3N1YnNjcmlwdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBd0M3Qiw4QkFPUCxFQUdVO1VBVjZCO0lBRXJDO0lBQUE7SUFJQSxXQUNGLEdBUHVDOztJQWVyQyxNQUFNLENBQUMsT0FBTyxRQUFRLElBQUksK0NBQVE7b0NBQUMsS0FBTztnQkFDeEM7Z0JBQ0E7Z0JBQ0EsT0FBTyxnQkFBZ0I7YUFDekI7O0lBRUEsSUFBSSxnQkFBZ0IsTUFBTTtJQUcxQixJQUNFLE1BQU0sb0JBQW9CLG1CQUMxQixNQUFNLGNBQWMsV0FDcEI7UUFJQSxnQkFBZ0IsZ0JBQWdCO1FBRWhDLFNBQVM7WUFDUDtZQUNBO1lBQ0EsT0FBTztRQUNULENBQUM7SUFDSDtJQVdBLGdEQUFTO3FDQUFDO1lBQ1IsSUFBSSxpQkFBaUI7WUFFckIsTUFBTTs2REFBa0I7b0JBS3RCLElBQUksZ0JBQWdCO3dCQUNsQjtvQkFDRjtvQkFFQTtxRUFBUyxDQUFDOzRCQUtSLElBQ0UsVUFBVSxvQkFBb0IsbUJBQzlCLFVBQVUsY0FBYyxXQUN4QjtnQ0FDQSxPQUFPOzRCQUNUOzRCQUtBLE1BQU0sUUFBUSxnQkFBZ0I7NEJBQzlCLElBQUksVUFBVSxVQUFVLE9BQU87Z0NBQzdCLE9BQU87NEJBQ1Q7NEJBRUEsT0FBTztnQ0FBRSxHQUFHO2dDQUFXOzRCQUFNO3dCQUMvQixDQUFDOztnQkFDSDs7WUFDQSxNQUFNLGNBQWMsVUFBVSxlQUFlO1lBSzdDLGdCQUFnQjtZQUVoQjs2Q0FBTztvQkFDTCxpQkFBaUI7b0JBQ2pCLFlBQVk7Z0JBQ2Q7O1FBQ0Y7b0NBQUc7UUFBQztRQUFpQixTQUFTO0tBQUM7SUFHL0IsT0FBTztBQUNUO0dBbkdnQiIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvcmVhY3QvdXNlX3N1YnNjcmlwdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8qXG5UaGlzIGNvZGUgaXMgdGFrZW4gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9idmF1Z2huL2UyNTM5N2Y3MGU4YzY1YjBhZTBkN2M5MGI3MzFiMTg5XG5iZWNhdXNlIGNvcnJlY3Qgc3Vic2NyaXB0aW9ucyBpbiBhc3luYyBSZWFjdCBpcyBjb21wbGV4IVxuXG5JdCBjb3VsZCBwcm9iYWJseSBiZSByZXBsYWNlZCB3aXRoIGB1c2VTeW5jRXh0ZXJuYWxTdG9yZSgpYC5cblxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG5Db3B5cmlnaHQgwqkgMjAyMyBCcmlhbiBWYXVnaG5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUg4oCcU29mdHdhcmXigJ0pLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbFxuY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIOKAnEFTIElT4oCdLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFXG5TT0ZUV0FSRS5cbiovXG5cbi8qKlxuICogSG9vayB1c2VkIGZvciBzYWZlbHkgbWFuYWdpbmcgc3Vic2NyaXB0aW9ucyBpbiBjb25jdXJyZW50IG1vZGUuXG4gKlxuICogSW4gb3JkZXIgdG8gYXZvaWQgcmVtb3ZpbmcgYW5kIHJlLWFkZGluZyBzdWJzY3JpcHRpb25zIGVhY2ggdGltZSB0aGlzIGhvb2sgaXMgY2FsbGVkLFxuICogdGhlIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoaXMgaG9vayBzaG91bGQgYmUgbWVtb2l6ZWQgaW4gc29tZSB3YXnigJNcbiAqIGVpdGhlciBieSB3cmFwcGluZyB0aGUgZW50aXJlIHBhcmFtcyBvYmplY3Qgd2l0aCB1c2VNZW1vKClcbiAqIG9yIGJ5IHdyYXBwaW5nIHRoZSBpbmRpdmlkdWFsIGNhbGxiYWNrcyB3aXRoIHVzZUNhbGxiYWNrKCkuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdWJzY3JpcHRpb248VmFsdWU+KHtcbiAgLy8gKFN5bmNocm9ub3VzbHkpIHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2Ygb3VyIHN1YnNjcmlwdGlvbi5cbiAgZ2V0Q3VycmVudFZhbHVlLFxuXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgcGFzc2VkIGFuIGV2ZW50IGhhbmRsZXIgdG8gYXR0YWNoIHRvIHRoZSBzdWJzY3JpcHRpb24uXG4gIC8vIEl0IHNob3VsZCByZXR1cm4gYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCByZW1vdmVzIHRoZSBoYW5kbGVyLlxuICBzdWJzY3JpYmUsXG59OiB7XG4gIGdldEN1cnJlbnRWYWx1ZTogKCkgPT4gVmFsdWU7XG4gIHN1YnNjcmliZTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiAoKSA9PiB2b2lkO1xufSk6IFZhbHVlIHtcbiAgLy8gUmVhZCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIG91ciBzdWJzY3JpcHRpb24uXG4gIC8vIFdoZW4gdGhpcyB2YWx1ZSBjaGFuZ2VzLCB3ZSdsbCBzY2hlZHVsZSBhbiB1cGRhdGUgd2l0aCBSZWFjdC5cbiAgLy8gSXQncyBpbXBvcnRhbnQgdG8gYWxzbyBzdG9yZSB0aGUgaG9vayBwYXJhbXMgc28gdGhhdCB3ZSBjYW4gY2hlY2sgZm9yIHN0YWxlbmVzcy5cbiAgLy8gKFNlZSB0aGUgY29tbWVudCBpbiBjaGVja0ZvclVwZGF0ZXMoKSBiZWxvdyBmb3IgbW9yZSBpbmZvLilcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiAoe1xuICAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICBzdWJzY3JpYmUsXG4gICAgdmFsdWU6IGdldEN1cnJlbnRWYWx1ZSgpLFxuICB9KSk7XG5cbiAgbGV0IHZhbHVlVG9SZXR1cm4gPSBzdGF0ZS52YWx1ZTtcblxuICAvLyBJZiBwYXJhbWV0ZXJzIGhhdmUgY2hhbmdlZCBzaW5jZSBvdXIgbGFzdCByZW5kZXIsIHNjaGVkdWxlIGFuIHVwZGF0ZSB3aXRoIGl0cyBjdXJyZW50IHZhbHVlLlxuICBpZiAoXG4gICAgc3RhdGUuZ2V0Q3VycmVudFZhbHVlICE9PSBnZXRDdXJyZW50VmFsdWUgfHxcbiAgICBzdGF0ZS5zdWJzY3JpYmUgIT09IHN1YnNjcmliZVxuICApIHtcbiAgICAvLyBJZiB0aGUgc3Vic2NyaXB0aW9uIGhhcyBiZWVuIHVwZGF0ZWQsIHdlJ2xsIHNjaGVkdWxlIGFub3RoZXIgdXBkYXRlIHdpdGggUmVhY3QuXG4gICAgLy8gUmVhY3Qgd2lsbCBwcm9jZXNzIHRoaXMgdXBkYXRlIGltbWVkaWF0ZWx5LCBzbyB0aGUgb2xkIHN1YnNjcmlwdGlvbiB2YWx1ZSB3b24ndCBiZSBjb21taXR0ZWQuXG4gICAgLy8gSXQgaXMgc3RpbGwgbmljZSB0byBhdm9pZCByZXR1cm5pbmcgYSBtaXNtYXRjaGVkIHZhbHVlIHRob3VnaCwgc28gbGV0J3Mgb3ZlcnJpZGUgdGhlIHJldHVybiB2YWx1ZS5cbiAgICB2YWx1ZVRvUmV0dXJuID0gZ2V0Q3VycmVudFZhbHVlKCk7XG5cbiAgICBzZXRTdGF0ZSh7XG4gICAgICBnZXRDdXJyZW50VmFsdWUsXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICB2YWx1ZTogdmFsdWVUb1JldHVybixcbiAgICB9KTtcbiAgfVxuXG4gIC8vIEl0IGlzIGltcG9ydGFudCBub3QgdG8gc3Vic2NyaWJlIHdoaWxlIHJlbmRlcmluZyBiZWNhdXNlIHRoaXMgY2FuIGxlYWQgdG8gbWVtb3J5IGxlYWtzLlxuICAvLyAoTGVhcm4gbW9yZSBhdCByZWFjdGpzLm9yZy9kb2NzL3N0cmljdC1tb2RlLmh0bWwjZGV0ZWN0aW5nLXVuZXhwZWN0ZWQtc2lkZS1lZmZlY3RzKVxuICAvLyBJbnN0ZWFkLCB3ZSB3YWl0IHVudGlsIHRoZSBjb21taXQgcGhhc2UgdG8gYXR0YWNoIG91ciBoYW5kbGVyLlxuICAvL1xuICAvLyBXZSBpbnRlbnRpb25hbGx5IHVzZSBhIHBhc3NpdmUgZWZmZWN0ICh1c2VFZmZlY3QpIHJhdGhlciB0aGFuIGEgc3luY2hyb25vdXMgb25lICh1c2VMYXlvdXRFZmZlY3QpXG4gIC8vIHNvIHRoYXQgd2UgZG9uJ3Qgc3RyZXRjaCB0aGUgY29tbWl0IHBoYXNlLlxuICAvLyBUaGlzIGFsc28gaGFzIGFuIGFkZGVkIGJlbmVmaXQgd2hlbiBtdWx0aXBsZSBjb21wb25lbnRzIGFyZSBzdWJzY3JpYmVkIHRvIHRoZSBzYW1lIHNvdXJjZTpcbiAgLy8gSXQgYWxsb3dzIGVhY2ggb2YgdGhlIGV2ZW50IGhhbmRsZXJzIHRvIHNhZmVseSBzY2hlZHVsZSB3b3JrIHdpdGhvdXQgcG90ZW50aWFsbHkgcmVtb3ZpbmcgYW4gYW5vdGhlciBoYW5kbGVyLlxuICAvLyAoTGVhcm4gbW9yZSBhdCBodHRwczovL2NvZGVzYW5kYm94LmlvL3MvazB5dnI1OTcwbylcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZTtcblxuICAgIGNvbnN0IGNoZWNrRm9yVXBkYXRlcyA9ICgpID0+IHtcbiAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBldmVuIGFmdGVyIGJlaW5nIHVuc3Vic2NyaWJlZCxcbiAgICAgIC8vIGlmIGl0J3MgcmVtb3ZlZCBhcyBhIHJlc3VsdCBvZiBhIHN1YnNjcmlwdGlvbiBldmVudC91cGRhdGUuXG4gICAgICAvLyBJbiB0aGlzIGNhc2UsIFJlYWN0IHdpbGwgbG9nIGEgREVWIHdhcm5pbmcgYWJvdXQgYW4gdXBkYXRlIGZyb20gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cbiAgICAgIC8vIFdlIGNhbiBhdm9pZCB0cmlnZ2VyaW5nIHRoYXQgd2FybmluZyB3aXRoIHRoaXMgY2hlY2suXG4gICAgICBpZiAoZGlkVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgIC8vIElnbm9yZSB2YWx1ZXMgZnJvbSBzdGFsZSBzb3VyY2VzIVxuICAgICAgICAvLyBTaW5jZSB3ZSBzdWJzY3JpYmUgYW4gdW5zdWJzY3JpYmUgaW4gYSBwYXNzaXZlIGVmZmVjdCxcbiAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB0aGF0IHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIGZvciBhIHN0YWxlIChwcmV2aW91cykgc3Vic2NyaXB0aW9uLlxuICAgICAgICAvLyBUaGlzIGNoZWNrIGF2b2lkcyBzY2hlZHVsaW5nIGFuIHVwZGF0ZSBmb3IgdGhhdCBzdGFsZSBzdWJzY3JpcHRpb24uXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcmV2U3RhdGUuZ2V0Q3VycmVudFZhbHVlICE9PSBnZXRDdXJyZW50VmFsdWUgfHxcbiAgICAgICAgICBwcmV2U3RhdGUuc3Vic2NyaWJlICE9PSBzdWJzY3JpYmVcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWUgc3Vic2NyaXB0aW9ucyB3aWxsIGF1dG8taW52b2tlIHRoZSBoYW5kbGVyLCBldmVuIGlmIHRoZSB2YWx1ZSBoYXNuJ3QgY2hhbmdlZC5cbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGhhc24ndCBjaGFuZ2VkLCBubyB1cGRhdGUgaXMgbmVlZGVkLlxuICAgICAgICAvLyBSZXR1cm4gc3RhdGUgYXMtaXMgc28gUmVhY3QgY2FuIGJhaWwgb3V0IGFuZCBhdm9pZCBhbiB1bm5lY2Vzc2FyeSByZW5kZXIuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgICAgIGlmIChwcmV2U3RhdGUudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IC4uLnByZXZTdGF0ZSwgdmFsdWUgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdWJzY3JpYmUoY2hlY2tGb3JVcGRhdGVzKTtcblxuICAgIC8vIEJlY2F1c2Ugd2UncmUgc3Vic2NyaWJpbmcgaW4gYSBwYXNzaXZlIGVmZmVjdCxcbiAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgYW4gdXBkYXRlIGhhcyBvY2N1cnJlZCBiZXR3ZWVuIHJlbmRlciBhbmQgb3VyIGVmZmVjdCBoYW5kbGVyLlxuICAgIC8vIENoZWNrIGZvciB0aGlzIGFuZCBzY2hlZHVsZSBhbiB1cGRhdGUgaWYgd29yayBoYXMgb2NjdXJyZWQuXG4gICAgY2hlY2tGb3JVcGRhdGVzKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZGlkVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbZ2V0Q3VycmVudFZhbHVlLCBzdWJzY3JpYmVdKTtcblxuICAvLyBSZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUgZm9yIG91ciBjYWxsZXIgdG8gdXNlIHdoaWxlIHJlbmRlcmluZy5cbiAgcmV0dXJuIHZhbHVlVG9SZXR1cm47XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/react/use_subscription.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js":
/*!****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/api.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anyApi: () => (/* binding */ anyApi),\n/* harmony export */   filterApi: () => (/* binding */ filterApi),\n/* harmony export */   getFunctionName: () => (/* binding */ getFunctionName),\n/* harmony export */   justActions: () => (/* binding */ justActions),\n/* harmony export */   justInternal: () => (/* binding */ justInternal),\n/* harmony export */   justMutations: () => (/* binding */ justMutations),\n/* harmony export */   justPaginatedQueries: () => (/* binding */ justPaginatedQueries),\n/* harmony export */   justPublic: () => (/* binding */ justPublic),\n/* harmony export */   justQueries: () => (/* binding */ justQueries),\n/* harmony export */   justSchedulable: () => (/* binding */ justSchedulable),\n/* harmony export */   makeFunctionReference: () => (/* binding */ makeFunctionReference)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functionName.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/functionName.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/paths.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\nfunction getFunctionName(functionReference) {\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionAddress)(functionReference);\n    if (address.name === void 0) {\n        if (address.functionHandle !== void 0) {\n            throw new Error('Expected function reference like \"api.file.func\" or \"internal.file.func\", but received function handle '.concat(address.functionHandle));\n        } else if (address.reference !== void 0) {\n            throw new Error('Expected function reference in the current component like \"api.file.func\" or \"internal.file.func\", but received reference '.concat(address.reference));\n        }\n        throw new Error('Expected function reference like \"api.file.func\" or \"internal.file.func\", but received '.concat(JSON.stringify(address)));\n    }\n    if (typeof functionReference === \"string\") return functionReference;\n    const name = functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName];\n    if (!name) {\n        throw new Error(\"\".concat(functionReference, \" is not a functionReference\"));\n    }\n    return name;\n}\nfunction makeFunctionReference(name) {\n    return {\n        [_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]: name\n    };\n}\nfunction createApi() {\n    let pathParts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createApi(newParts);\n            } else if (prop === _functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName) {\n                if (pathParts.length < 2) {\n                    const found = [\n                        \"api\",\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(\"API path is expected to be of the form `api.moduleName.functionName`. Found: `\".concat(found, \"`\"));\n                }\n                const path = pathParts.slice(0, -1).join(\"/\");\n                const exportName = pathParts[pathParts.length - 1];\n                if (exportName === \"default\") {\n                    return path;\n                } else {\n                    return path + \":\" + exportName;\n                }\n            } else if (prop === Symbol.toStringTag) {\n                return \"FunctionReference\";\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction filterApi(api) {\n    return api;\n}\nfunction justInternal(api) {\n    return api;\n}\nfunction justPublic(api) {\n    return api;\n}\nfunction justQueries(api) {\n    return api;\n}\nfunction justMutations(api) {\n    return api;\n}\nfunction justActions(api) {\n    return api;\n}\nfunction justPaginatedQueries(api) {\n    return api;\n}\nfunction justSchedulable(api) {\n    return api;\n}\nconst anyApi = createApi(); //# sourceMappingURL=api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2FwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQVU2QjtBQUNNO0FBa0U1QixTQUFTLGdCQUNkLG1CQUNRO0lBQ1IsTUFBTSxVQUFVLHdFQUFrQixDQUFDLGlCQUFpQjtJQUVwRCxJQUFJLFFBQVEsU0FBUyxRQUFXO1FBQzlCLElBQUksUUFBUSxtQkFBbUIsUUFBVztZQUN4QyxNQUFNLElBQUksTUFDUiwwR0FBZ0ksT0FBdEIsUUFBUSxjQUFjO1FBRXBJLFdBQVcsUUFBUSxjQUFjLFFBQVc7WUFDMUMsTUFBTSxJQUFJLE1BQ1IsNkhBQThJLE9BQWpCLFFBQVEsU0FBUztRQUVsSjtRQUNBLE1BQU0sSUFBSSxNQUNSLDBGQUFpSCxPQUF2QixLQUFLLFVBQVUsT0FBTyxDQUFDO0lBRXJIO0lBR0EsSUFBSSxPQUFPLHNCQUFzQixTQUFVLFFBQU87SUFLbEQsTUFBTSxPQUFRLGtCQUEwQiwwREFBWTtJQUNwRCxJQUFJLENBQUMsTUFBTTtRQUNULE1BQU0sSUFBSSxNQUFNLEdBQTJCLE9BQXhCLGlCQUF3Qiw4QkFBNkI7SUFDMUU7SUFDQSxPQUFPO0FBQ1Q7QUFhTyxTQUFTLHNCQUlkLE1BQTREO0lBQzVELE9BQU87UUFBRSxDQUFDLDBEQUFZLEdBQUc7SUFBSztBQU1oQztBQVlBLFNBQVM7b0JBQVUsaUVBQXNCLENBQUM7SUFDeEMsTUFBTSxVQUFnQztRQUNwQyxLQUFJLEdBQUcsTUFBdUI7WUFDNUIsSUFBSSxPQUFPLFNBQVMsVUFBVTtnQkFDNUIsTUFBTSxXQUFXLENBQUM7dUJBQUc7b0JBQVcsSUFBSTtpQkFBQTtnQkFDcEMsT0FBTyxVQUFVLFFBQVE7WUFDM0IsV0FBVyxTQUFTLDBEQUFZLEVBQUU7Z0JBQ2hDLElBQUksVUFBVSxTQUFTLEdBQUc7b0JBQ3hCLE1BQU0sUUFBUTt3QkFBQzsyQkFBVSxTQUFTO3FCQUFBLENBQUUsS0FBSyxHQUFHO29CQUM1QyxNQUFNLElBQUksTUFDUixpRkFBeUYsT0FBTCxLQUFLO2dCQUU3RjtnQkFDQSxNQUFNLE9BQU8sVUFBVSxNQUFNLEdBQUcsRUFBRSxFQUFFLEtBQUssR0FBRztnQkFDNUMsTUFBTSxhQUFhLFVBQVUsVUFBVSxTQUFTLENBQUM7Z0JBQ2pELElBQUksZUFBZSxXQUFXO29CQUM1QixPQUFPO2dCQUNULE9BQU87b0JBQ0wsT0FBTyxPQUFPLE1BQU07Z0JBQ3RCO1lBQ0YsV0FBVyxTQUFTLE9BQU8sYUFBYTtnQkFDdEMsT0FBTztZQUNULE9BQU87Z0JBQ0wsT0FBTztZQUNUO1FBQ0Y7SUFDRjtJQUVBLE9BQU8sSUFBSSxNQUFNLENBQUMsR0FBRyxPQUFPO0FBQzlCO0FBK0hPLFNBQVMsVUFBMEIsS0FBcUM7SUFDN0UsT0FBTztBQUNUO0FBSU8sU0FBUyxhQUNkLEtBQzhEO0lBQzlELE9BQU87QUFDVDtBQUdPLFNBQVMsV0FDZCxLQUM0RDtJQUM1RCxPQUFPO0FBQ1Q7QUFHTyxTQUFTLFlBQ2QsS0FDMkQ7SUFDM0QsT0FBTztBQUNUO0FBR08sU0FBUyxjQUNkLEtBQzhEO0lBQzlELE9BQU87QUFDVDtBQUdPLFNBQVMsWUFDZCxLQUM0RDtJQUM1RCxPQUFPO0FBQ1Q7QUFHTyxTQUFTLHFCQUNkLEtBU0E7SUFDQSxPQUFPO0FBQ1Q7QUFHTyxTQUFTLGdCQUNkLEtBQ3lFO0lBQ3pFLE9BQU87QUFDVDtBQWtFTyxNQUFNLFNBQWlCLFVBQVUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3NlcnZlci9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW1wdHlPYmplY3QsXG4gIERlZmF1bHRGdW5jdGlvbkFyZ3MsXG4gIEZ1bmN0aW9uVmlzaWJpbGl0eSxcbiAgUmVnaXN0ZXJlZEFjdGlvbixcbiAgUmVnaXN0ZXJlZE11dGF0aW9uLFxuICBSZWdpc3RlcmVkUXVlcnksXG59IGZyb20gXCIuL3JlZ2lzdHJhdGlvbi5qc1wiO1xuaW1wb3J0IHsgRXhwYW5kLCBVbmlvblRvSW50ZXJzZWN0aW9uIH0gZnJvbSBcIi4uL3R5cGVfdXRpbHMuanNcIjtcbmltcG9ydCB7IFBhZ2luYXRpb25PcHRpb25zLCBQYWdpbmF0aW9uUmVzdWx0IH0gZnJvbSBcIi4vcGFnaW5hdGlvbi5qc1wiO1xuaW1wb3J0IHsgZnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4vZnVuY3Rpb25OYW1lLmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi9jb21wb25lbnRzL3BhdGhzLmpzXCI7XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgYSBDb252ZXggZnVuY3Rpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBGdW5jdGlvblR5cGUgPSBcInF1ZXJ5XCIgfCBcIm11dGF0aW9uXCIgfCBcImFjdGlvblwiO1xuXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgcmVnaXN0ZXJlZCBDb252ZXggZnVuY3Rpb24uXG4gKlxuICogWW91IGNhbiBjcmVhdGUgYSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IHVzaW5nIHRoZSBnZW5lcmF0ZWQgYGFwaWAgdXRpbGl0eTpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29udmV4L19nZW5lcmF0ZWQvYXBpXCI7XG4gKlxuICogY29uc3QgcmVmZXJlbmNlID0gYXBpLm15TW9kdWxlLm15RnVuY3Rpb247XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3UgYXJlbid0IHVzaW5nIGNvZGUgZ2VuZXJhdGlvbiwgeW91IGNhbiBjcmVhdGUgcmVmZXJlbmNlcyB1c2luZ1xuICoge0BsaW5rIGFueUFwaX06XG4gKiBgYGBqc1xuICogaW1wb3J0IHsgYW55QXBpIH0gZnJvbSBcImNvbnZleC9zZXJ2ZXJcIjtcbiAqXG4gKiBjb25zdCByZWZlcmVuY2UgPSBhbnlBcGkubXlNb2R1bGUubXlGdW5jdGlvbjtcbiAqIGBgYFxuICpcbiAqIEZ1bmN0aW9uIHJlZmVyZW5jZXMgY2FuIGJlIHVzZWQgdG8gaW52b2tlIGZ1bmN0aW9ucyBmcm9tIHRoZSBjbGllbnQuIEZvclxuICogZXhhbXBsZSwgaW4gUmVhY3QgeW91IGNhbiBwYXNzIHJlZmVyZW5jZXMgdG8gdGhlIHtAbGluayByZWFjdC51c2VRdWVyeX0gaG9vazpcbiAqIGBgYGpzXG4gKiBjb25zdCByZXN1bHQgPSB1c2VRdWVyeShhcGkubXlNb2R1bGUubXlGdW5jdGlvbik7XG4gKiBgYGBcbiAqXG4gKiBAdHlwZVBhcmFtIFR5cGUgLSBUaGUgdHlwZSBvZiB0aGUgZnVuY3Rpb24gKFwicXVlcnlcIiwgXCJtdXRhdGlvblwiLCBvciBcImFjdGlvblwiKS5cbiAqIEB0eXBlUGFyYW0gVmlzaWJpbGl0eSAtIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBmdW5jdGlvbiAoXCJwdWJsaWNcIiBvciBcImludGVybmFsXCIpLlxuICogQHR5cGVQYXJhbSBBcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGlzIGZ1bmN0aW9uLiBUaGlzIGlzIGFuIG9iamVjdCBtYXBwaW5nXG4gKiBhcmd1bWVudCBuYW1lcyB0byB0aGVpciB0eXBlcy5cbiAqIEB0eXBlUGFyYW0gUmV0dXJuVHlwZSAtIFRoZSByZXR1cm4gdHlwZSBvZiB0aGlzIGZ1bmN0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBGdW5jdGlvblJlZmVyZW5jZTxcbiAgVHlwZSBleHRlbmRzIEZ1bmN0aW9uVHlwZSxcbiAgVmlzaWJpbGl0eSBleHRlbmRzIEZ1bmN0aW9uVmlzaWJpbGl0eSA9IFwicHVibGljXCIsXG4gIEFyZ3MgZXh0ZW5kcyBEZWZhdWx0RnVuY3Rpb25BcmdzID0gYW55LFxuICBSZXR1cm5UeXBlID0gYW55LFxuICBDb21wb25lbnRQYXRoID0gc3RyaW5nIHwgdW5kZWZpbmVkLFxuPiA9IHtcbiAgX3R5cGU6IFR5cGU7XG4gIF92aXNpYmlsaXR5OiBWaXNpYmlsaXR5O1xuICBfYXJnczogQXJncztcbiAgX3JldHVyblR5cGU6IFJldHVyblR5cGU7XG4gIF9jb21wb25lbnRQYXRoOiBDb21wb25lbnRQYXRoO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG5hbWUgb2YgYSBmdW5jdGlvbiBmcm9tIGEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfS5cbiAqXG4gKiBUaGUgbmFtZSBpcyBhIHN0cmluZyBsaWtlIFwibXlEaXIvbXlNb2R1bGU6bXlGdW5jdGlvblwiLiBJZiB0aGUgZXhwb3J0ZWQgbmFtZVxuICogb2YgdGhlIGZ1bmN0aW9uIGlzIGBcImRlZmF1bHRcImAsIHRoZSBmdW5jdGlvbiBuYW1lIGlzIG9taXR0ZWRcbiAqIChlLmcuIFwibXlEaXIvbXlNb2R1bGVcIikuXG4gKlxuICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IHRvIGdldCB0aGUgbmFtZSBvZi5cbiAqIEByZXR1cm5zIEEgc3RyaW5nIG9mIHRoZSBmdW5jdGlvbidzIG5hbWUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKFxuICBmdW5jdGlvblJlZmVyZW5jZTogQW55RnVuY3Rpb25SZWZlcmVuY2UsXG4pOiBzdHJpbmcge1xuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcblxuICBpZiAoYWRkcmVzcy5uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoYWRkcmVzcy5mdW5jdGlvbkhhbmRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFeHBlY3RlZCBmdW5jdGlvbiByZWZlcmVuY2UgbGlrZSBcImFwaS5maWxlLmZ1bmNcIiBvciBcImludGVybmFsLmZpbGUuZnVuY1wiLCBidXQgcmVjZWl2ZWQgZnVuY3Rpb24gaGFuZGxlICR7YWRkcmVzcy5mdW5jdGlvbkhhbmRsZX1gLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGFkZHJlc3MucmVmZXJlbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEV4cGVjdGVkIGZ1bmN0aW9uIHJlZmVyZW5jZSBpbiB0aGUgY3VycmVudCBjb21wb25lbnQgbGlrZSBcImFwaS5maWxlLmZ1bmNcIiBvciBcImludGVybmFsLmZpbGUuZnVuY1wiLCBidXQgcmVjZWl2ZWQgcmVmZXJlbmNlICR7YWRkcmVzcy5yZWZlcmVuY2V9YCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBFeHBlY3RlZCBmdW5jdGlvbiByZWZlcmVuY2UgbGlrZSBcImFwaS5maWxlLmZ1bmNcIiBvciBcImludGVybmFsLmZpbGUuZnVuY1wiLCBidXQgcmVjZWl2ZWQgJHtKU09OLnN0cmluZ2lmeShhZGRyZXNzKX1gLFxuICAgICk7XG4gIH1cbiAgLy8gQm90aCBhIGxlZ2FjeSB0aGluZyBhbmQgYWxzbyBhIGNvbnZlbmllbmNlIGZvciBpbnRlcmFjdGl2ZSB1c2U6XG4gIC8vIHRoZSB0eXBlcyB3b24ndCBjaGVjayBidXQgYSBzdHJpbmcgaXMgYWx3YXlzIGFsbG93ZWQgYXQgcnVudGltZS5cbiAgaWYgKHR5cGVvZiBmdW5jdGlvblJlZmVyZW5jZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZ1bmN0aW9uUmVmZXJlbmNlO1xuXG4gIC8vIFR3byBkaWZmZXJlbnQgcnVudGltZSB2YWx1ZXMgZm9yIEZ1bmN0aW9uUmVmZXJlbmNlIGltcGxlbWVudCB0aGlzXG4gIC8vIGludGVyZmFjZTogYXBpIG9iamVjdHMgcmV0dXJuZWQgZnJvbSBgY3JlYXRlQXBpKClgIGFuZCBzdGFuZGFsb25lXG4gIC8vIGZ1bmN0aW9uIHJlZmVyZW5jZSBvYmplY3RzIHJldHVybmVkIGZyb20gbWFrZUZ1bmN0aW9uUmVmZXJlbmNlLlxuICBjb25zdCBuYW1lID0gKGZ1bmN0aW9uUmVmZXJlbmNlIGFzIGFueSlbZnVuY3Rpb25OYW1lXTtcbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bmN0aW9uUmVmZXJlbmNlIGFzIGFueX0gaXMgbm90IGEgZnVuY3Rpb25SZWZlcmVuY2VgKTtcbiAgfVxuICByZXR1cm4gbmFtZTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvblJlZmVyZW5jZXMgZ2VuZXJhbGx5IGNvbWUgZnJvbSBnZW5lcmF0ZWQgY29kZSwgYnV0IGluIGN1c3RvbSBjbGllbnRzXG4gKiBpdCBtYXkgYmUgdXNlZnVsIHRvIGJlIGFibGUgdG8gYnVpbGQgb25lIG1hbnVhbGx5LlxuICpcbiAqIFJlYWwgZnVuY3Rpb24gcmVmZXJlbmNlcyBhcmUgZW1wdHkgb2JqZWN0cyBhdCBydW50aW1lLCBidXQgdGhlIHNhbWUgaW50ZXJmYWNlXG4gKiBjYW4gYmUgaW1wbGVtZW50ZWQgd2l0aCBhbiBvYmplY3QgZm9yIHRlc3RzIGFuZCBjbGllbnRzIHdoaWNoIGRvbid0IHVzZVxuICogY29kZSBnZW5lcmF0aW9uLlxuICpcbiAqIEBwYXJhbSBuYW1lIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIGZ1bmN0aW9uLiBFLmcuIGBwYXRoL3RvL2ZpbGU6ZnVuY3Rpb25OYW1lYFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUZ1bmN0aW9uUmVmZXJlbmNlPFxuICB0eXBlIGV4dGVuZHMgRnVuY3Rpb25UeXBlLFxuICBhcmdzIGV4dGVuZHMgRGVmYXVsdEZ1bmN0aW9uQXJncyA9IGFueSxcbiAgcmV0ID0gYW55LFxuPihuYW1lOiBzdHJpbmcpOiBGdW5jdGlvblJlZmVyZW5jZTx0eXBlLCBcInB1YmxpY1wiLCBhcmdzLCByZXQ+IHtcbiAgcmV0dXJuIHsgW2Z1bmN0aW9uTmFtZV06IG5hbWUgfSBhcyB1bmtub3duIGFzIEZ1bmN0aW9uUmVmZXJlbmNlPFxuICAgIHR5cGUsXG4gICAgXCJwdWJsaWNcIixcbiAgICBhcmdzLFxuICAgIHJldFxuICA+O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJ1bnRpbWUgQVBJIG9iamVjdCB0aGF0IGltcGxlbWVudHMge0BsaW5rIEFueUFwaX0uXG4gKlxuICogVGhpcyBhbGxvd3MgYWNjZXNzaW5nIGFueSBwYXRoIHJlZ2FyZGxlc3Mgb2Ygd2hhdCBkaXJlY3RvcmllcywgbW9kdWxlcyxcbiAqIG9yIGZ1bmN0aW9ucyBhcmUgZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0gcGF0aFBhcnRzIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQgbm9kZSBpbiB0aGUgQVBJLlxuICogQHJldHVybnMgQW4ge0BsaW5rIEFueUFwaX1cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXBpKHBhdGhQYXJ0czogc3RyaW5nW10gPSBbXSk6IEFueUFwaSB7XG4gIGNvbnN0IGhhbmRsZXI6IFByb3h5SGFuZGxlcjxvYmplY3Q+ID0ge1xuICAgIGdldChfLCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5wYXRoUGFydHMsIHByb3BdO1xuICAgICAgICByZXR1cm4gY3JlYXRlQXBpKG5ld1BhcnRzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gZnVuY3Rpb25OYW1lKSB7XG4gICAgICAgIGlmIChwYXRoUGFydHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gW1wiYXBpXCIsIC4uLnBhdGhQYXJ0c10uam9pbihcIi5cIik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEFQSSBwYXRoIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHRoZSBmb3JtIFxcYGFwaS5tb2R1bGVOYW1lLmZ1bmN0aW9uTmFtZVxcYC4gRm91bmQ6IFxcYCR7Zm91bmR9XFxgYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoUGFydHMuc2xpY2UoMCwgLTEpLmpvaW4oXCIvXCIpO1xuICAgICAgICBjb25zdCBleHBvcnROYW1lID0gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGV4cG9ydE5hbWUgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHBhdGggKyBcIjpcIiArIGV4cG9ydE5hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gICAgICAgIHJldHVybiBcIkZ1bmN0aW9uUmVmZXJlbmNlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIG5ldyBQcm94eSh7fSwgaGFuZGxlcik7XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gZXhwb3J0IGZyb20gYSBtb2R1bGUsIGNvbnZlcnQgaXQgdG8gYSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9XG4gKiBpZiBpdCBpcyBhIENvbnZleCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgRnVuY3Rpb25SZWZlcmVuY2VGcm9tRXhwb3J0PEV4cG9ydD4gPVxuICBFeHBvcnQgZXh0ZW5kcyBSZWdpc3RlcmVkUXVlcnk8XG4gICAgaW5mZXIgVmlzaWJpbGl0eSxcbiAgICBpbmZlciBBcmdzLFxuICAgIGluZmVyIFJldHVyblZhbHVlXG4gID5cbiAgICA/IEZ1bmN0aW9uUmVmZXJlbmNlPFxuICAgICAgICBcInF1ZXJ5XCIsXG4gICAgICAgIFZpc2liaWxpdHksXG4gICAgICAgIEFyZ3MsXG4gICAgICAgIENvbnZlcnRSZXR1cm5UeXBlPFJldHVyblZhbHVlPlxuICAgICAgPlxuICAgIDogRXhwb3J0IGV4dGVuZHMgUmVnaXN0ZXJlZE11dGF0aW9uPFxuICAgICAgICAgIGluZmVyIFZpc2liaWxpdHksXG4gICAgICAgICAgaW5mZXIgQXJncyxcbiAgICAgICAgICBpbmZlciBSZXR1cm5WYWx1ZVxuICAgICAgICA+XG4gICAgICA/IEZ1bmN0aW9uUmVmZXJlbmNlPFxuICAgICAgICAgIFwibXV0YXRpb25cIixcbiAgICAgICAgICBWaXNpYmlsaXR5LFxuICAgICAgICAgIEFyZ3MsXG4gICAgICAgICAgQ29udmVydFJldHVyblR5cGU8UmV0dXJuVmFsdWU+XG4gICAgICAgID5cbiAgICAgIDogRXhwb3J0IGV4dGVuZHMgUmVnaXN0ZXJlZEFjdGlvbjxcbiAgICAgICAgICAgIGluZmVyIFZpc2liaWxpdHksXG4gICAgICAgICAgICBpbmZlciBBcmdzLFxuICAgICAgICAgICAgaW5mZXIgUmV0dXJuVmFsdWVcbiAgICAgICAgICA+XG4gICAgICAgID8gRnVuY3Rpb25SZWZlcmVuY2U8XG4gICAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgICAgVmlzaWJpbGl0eSxcbiAgICAgICAgICAgIEFyZ3MsXG4gICAgICAgICAgICBDb252ZXJ0UmV0dXJuVHlwZTxSZXR1cm5WYWx1ZT5cbiAgICAgICAgICA+XG4gICAgICAgIDogbmV2ZXI7XG5cbi8qKlxuICogR2l2ZW4gYSBtb2R1bGUsIGNvbnZlcnQgYWxsIHRoZSBDb252ZXggZnVuY3Rpb25zIGludG9cbiAqIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX1zIGFuZCByZW1vdmUgdGhlIG90aGVyIGV4cG9ydHMuXG4gKlxuICogQkUgQ0FSRUZVTCBXSEVOIEVESVRJTkcgVEhJUyFcbiAqXG4gKiBUaGlzIGlzIHdyaXR0ZW4gY2FyZWZ1bGx5IHRvIHByZXNlcnZlIGp1bXBpbmcgdG8gZnVuY3Rpb24gZGVmaW5pdGlvbnMgdXNpbmdcbiAqIGNtZCtjbGljay4gSWYgeW91IGVkaXQgaXQsIHBsZWFzZSB0ZXN0IHRoYXQgY21kK2NsaWNrIHN0aWxsIHdvcmtzLlxuICovXG50eXBlIEZ1bmN0aW9uUmVmZXJlbmNlc0luTW9kdWxlPE1vZHVsZSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIGFueT4+ID0ge1xuICAtcmVhZG9ubHkgW0V4cG9ydE5hbWUgaW4ga2V5b2YgTW9kdWxlIGFzIE1vZHVsZVtFeHBvcnROYW1lXVtcImlzQ29udmV4RnVuY3Rpb25cIl0gZXh0ZW5kcyB0cnVlXG4gICAgPyBFeHBvcnROYW1lXG4gICAgOiBuZXZlcl06IEZ1bmN0aW9uUmVmZXJlbmNlRnJvbUV4cG9ydDxNb2R1bGVbRXhwb3J0TmFtZV0+O1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIHBhdGggdG8gYSBtb2R1bGUgYW5kIGl0J3MgdHlwZSwgZ2VuZXJhdGUgYW4gQVBJIHR5cGUgZm9yIHRoaXMgbW9kdWxlLlxuICpcbiAqIFRoaXMgaXMgYSBuZXN0ZWQgb2JqZWN0IGFjY29yZGluZyB0byB0aGUgbW9kdWxlJ3MgcGF0aC5cbiAqL1xudHlwZSBBcGlGb3JNb2R1bGU8XG4gIE1vZHVsZVBhdGggZXh0ZW5kcyBzdHJpbmcsXG4gIE1vZHVsZSBleHRlbmRzIG9iamVjdCxcbj4gPSBNb2R1bGVQYXRoIGV4dGVuZHMgYCR7aW5mZXIgRmlyc3R9LyR7aW5mZXIgU2Vjb25kfWBcbiAgPyB7XG4gICAgICBbXyBpbiBGaXJzdF06IEFwaUZvck1vZHVsZTxTZWNvbmQsIE1vZHVsZT47XG4gICAgfVxuICA6IHsgW18gaW4gTW9kdWxlUGF0aF06IEZ1bmN0aW9uUmVmZXJlbmNlc0luTW9kdWxlPE1vZHVsZT4gfTtcblxuLyoqXG4gKiBHaXZlbiB0aGUgdHlwZXMgb2YgYWxsIG1vZHVsZXMgaW4gdGhlIGBjb252ZXgvYCBkaXJlY3RvcnksIGNvbnN0cnVjdCB0aGUgdHlwZVxuICogb2YgYGFwaWAuXG4gKlxuICogYGFwaWAgaXMgYSB1dGlsaXR5IGZvciBjb25zdHJ1Y3Rpbmcge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfXMuXG4gKlxuICogQHR5cGVQYXJhbSBBbGxNb2R1bGVzIC0gQSB0eXBlIG1hcHBpbmcgbW9kdWxlIHBhdGhzIChsaWtlIGBcImRpci9teU1vZHVsZVwiYCkgdG9cbiAqIHRoZSB0eXBlcyBvZiB0aGUgbW9kdWxlcy5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQXBpRnJvbU1vZHVsZXM8QWxsTW9kdWxlcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIG9iamVjdD4+ID1cbiAgRmlsdGVyQXBpPFxuICAgIEFwaUZyb21Nb2R1bGVzQWxsb3dFbXB0eU5vZGVzPEFsbE1vZHVsZXM+LFxuICAgIEZ1bmN0aW9uUmVmZXJlbmNlPGFueSwgYW55LCBhbnksIGFueT5cbiAgPjtcblxudHlwZSBBcGlGcm9tTW9kdWxlc0FsbG93RW1wdHlOb2RlczxBbGxNb2R1bGVzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgb2JqZWN0Pj4gPVxuICBFeHBhbmRNb2R1bGVzQW5kRGlyczxcbiAgICBVbmlvblRvSW50ZXJzZWN0aW9uPFxuICAgICAge1xuICAgICAgICBbTW9kdWxlUGF0aCBpbiBrZXlvZiBBbGxNb2R1bGVzXTogQXBpRm9yTW9kdWxlPFxuICAgICAgICAgIE1vZHVsZVBhdGggJiBzdHJpbmcsXG4gICAgICAgICAgQWxsTW9kdWxlc1tNb2R1bGVQYXRoXVxuICAgICAgICA+O1xuICAgICAgfVtrZXlvZiBBbGxNb2R1bGVzXVxuICAgID5cbiAgPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKlxuICogRmlsdGVyIGEgQ29udmV4IGRlcGxveW1lbnQgYXBpIG9iamVjdCBmb3IgZnVuY3Rpb25zIHdoaWNoIG1lZXQgY3JpdGVyaWEsXG4gKiBmb3IgZXhhbXBsZSBhbGwgcHVibGljIHF1ZXJpZXMuXG4gKi9cbmV4cG9ydCB0eXBlIEZpbHRlckFwaTxBUEksIFByZWRpY2F0ZT4gPSBFeHBhbmQ8e1xuICBbbW9kIGluIGtleW9mIEFQSSBhcyBBUElbbW9kXSBleHRlbmRzIFByZWRpY2F0ZVxuICAgID8gbW9kXG4gICAgOiBBUElbbW9kXSBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPGFueSwgYW55LCBhbnksIGFueT5cbiAgICAgID8gbmV2ZXJcbiAgICAgIDogRmlsdGVyQXBpPEFQSVttb2RdLCBQcmVkaWNhdGU+IGV4dGVuZHMgUmVjb3JkPHN0cmluZywgbmV2ZXI+XG4gICAgICAgID8gbmV2ZXJcbiAgICAgICAgOiBtb2RdOiBBUElbbW9kXSBleHRlbmRzIFByZWRpY2F0ZVxuICAgID8gQVBJW21vZF1cbiAgICA6IEZpbHRlckFwaTxBUElbbW9kXSwgUHJlZGljYXRlPjtcbn0+O1xuXG4vKipcbiAqIEdpdmVuIGFuIGFwaSBvZiB0eXBlIEFQSSBhbmQgYSBGdW5jdGlvblJlZmVyZW5jZSBzdWJ0eXBlLCByZXR1cm4gYW4gYXBpIG9iamVjdFxuICogY29udGFpbmluZyBvbmx5IHRoZSBmdW5jdGlvbiByZWZlcmVuY2VzIHRoYXQgbWF0Y2guXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHEgPSBmaWx0ZXJBcGk8dHlwZW9mIGFwaSwgRnVuY3Rpb25SZWZlcmVuY2U8XCJxdWVyeVwiPj4oYXBpKVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyQXBpPEFQSSwgUHJlZGljYXRlPihhcGk6IEFQSSk6IEZpbHRlckFwaTxBUEksIFByZWRpY2F0ZT4ge1xuICByZXR1cm4gYXBpIGFzIGFueTtcbn1cblxuLy8gVGhlc2UganVzdCogQVBJIGZpbHRlciBoZWxwZXJzIHJlcXVpcmUgbm8gdHlwZSBwYXJhbWV0ZXJzIHNvIGFyZSB1c2VhYmxlIGZyb20gSmF2YVNjcmlwdC5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24ganVzdEludGVybmFsPEFQST4oXG4gIGFwaTogQVBJLFxuKTogRmlsdGVyQXBpPEFQSSwgRnVuY3Rpb25SZWZlcmVuY2U8YW55LCBcImludGVybmFsXCIsIGFueSwgYW55Pj4ge1xuICByZXR1cm4gYXBpIGFzIGFueTtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBmdW5jdGlvbiBqdXN0UHVibGljPEFQST4oXG4gIGFwaTogQVBJLFxuKTogRmlsdGVyQXBpPEFQSSwgRnVuY3Rpb25SZWZlcmVuY2U8YW55LCBcInB1YmxpY1wiLCBhbnksIGFueT4+IHtcbiAgcmV0dXJuIGFwaSBhcyBhbnk7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24ganVzdFF1ZXJpZXM8QVBJPihcbiAgYXBpOiBBUEksXG4pOiBGaWx0ZXJBcGk8QVBJLCBGdW5jdGlvblJlZmVyZW5jZTxcInF1ZXJ5XCIsIGFueSwgYW55LCBhbnk+PiB7XG4gIHJldHVybiBhcGkgYXMgYW55O1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGp1c3RNdXRhdGlvbnM8QVBJPihcbiAgYXBpOiBBUEksXG4pOiBGaWx0ZXJBcGk8QVBJLCBGdW5jdGlvblJlZmVyZW5jZTxcIm11dGF0aW9uXCIsIGFueSwgYW55LCBhbnk+PiB7XG4gIHJldHVybiBhcGkgYXMgYW55O1xufVxuXG4vKiogQHB1YmxpYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGp1c3RBY3Rpb25zPEFQST4oXG4gIGFwaTogQVBJLFxuKTogRmlsdGVyQXBpPEFQSSwgRnVuY3Rpb25SZWZlcmVuY2U8XCJhY3Rpb25cIiwgYW55LCBhbnksIGFueT4+IHtcbiAgcmV0dXJuIGFwaSBhcyBhbnk7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24ganVzdFBhZ2luYXRlZFF1ZXJpZXM8QVBJPihcbiAgYXBpOiBBUEksXG4pOiBGaWx0ZXJBcGk8XG4gIEFQSSxcbiAgRnVuY3Rpb25SZWZlcmVuY2U8XG4gICAgXCJxdWVyeVwiLFxuICAgIGFueSxcbiAgICB7IHBhZ2luYXRpb25PcHRzOiBQYWdpbmF0aW9uT3B0aW9ucyB9LFxuICAgIFBhZ2luYXRpb25SZXN1bHQ8YW55PlxuICA+XG4+IHtcbiAgcmV0dXJuIGFwaSBhcyBhbnk7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24ganVzdFNjaGVkdWxhYmxlPEFQST4oXG4gIGFwaTogQVBJLFxuKTogRmlsdGVyQXBpPEFQSSwgRnVuY3Rpb25SZWZlcmVuY2U8XCJtdXRhdGlvblwiIHwgXCJhY3Rpb25cIiwgYW55LCBhbnksIGFueT4+IHtcbiAgcmV0dXJuIGFwaSBhcyBhbnk7XG59XG5cbi8qKlxuICogTGlrZSB7QGxpbmsgRXhwYW5kfSwgdGhpcyBzaW1wbGlmaWVzIGhvdyBUeXBlU2NyaXB0IGRpc3BsYXlzIG9iamVjdCB0eXBlcy5cbiAqIFRoZSBkaWZmZXJlbmNlcyBhcmU6XG4gKiAxLiBUaGlzIHZlcnNpb24gaXMgcmVjdXJzaXZlLlxuICogMi4gVGhpcyBzdG9wcyByZWN1cnNpbmcgd2hlbiBpdCBoaXRzIGEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfS5cbiAqL1xudHlwZSBFeHBhbmRNb2R1bGVzQW5kRGlyczxPYmplY3RUeXBlPiA9IE9iamVjdFR5cGUgZXh0ZW5kcyBBbnlGdW5jdGlvblJlZmVyZW5jZVxuICA/IE9iamVjdFR5cGVcbiAgOiB7XG4gICAgICBbS2V5IGluIGtleW9mIE9iamVjdFR5cGVdOiBFeHBhbmRNb2R1bGVzQW5kRGlyczxPYmplY3RUeXBlW0tleV0+O1xuICAgIH07XG5cbi8qKlxuICogQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IG9mIGFueSB0eXBlIGFuZCBhbnkgdmlzaWJpbGl0eSB3aXRoIGFueVxuICogYXJndW1lbnRzIGFuZCBhbnkgcmV0dXJuIHR5cGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBBbnlGdW5jdGlvblJlZmVyZW5jZSA9IEZ1bmN0aW9uUmVmZXJlbmNlPGFueSwgYW55PjtcblxudHlwZSBBbnlNb2R1bGVEaXJPckZ1bmMgPSB7XG4gIFtrZXk6IHN0cmluZ106IEFueU1vZHVsZURpck9yRnVuYztcbn0gJiBBbnlGdW5jdGlvblJlZmVyZW5jZTtcblxuLyoqXG4gKiBUaGUgdHlwZSB0aGF0IENvbnZleCBhcGkgb2JqZWN0cyBleHRlbmQuIElmIHlvdSB3ZXJlIHdyaXRpbmcgYW4gYXBpIGZyb21cbiAqIHNjcmF0Y2ggaXQgc2hvdWxkIGV4dGVuZCB0aGlzIHR5cGUuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBBbnlBcGkgPSBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBBbnlNb2R1bGVEaXJPckZ1bmM+PjtcblxuLyoqXG4gKiBSZWN1cnNpdmUgcGFydGlhbCBBUEksIHVzZWZ1bCBmb3IgZGVmaW5pbmcgYSBzdWJzZXQgb2YgYW4gQVBJIHdoZW4gbW9ja2luZ1xuICogb3IgYnVpbGRpbmcgY3VzdG9tIGFwaSBvYmplY3RzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUGFydGlhbEFwaTxBUEk+ID0ge1xuICBbbW9kIGluIGtleW9mIEFQSV0/OiBBUElbbW9kXSBleHRlbmRzIEZ1bmN0aW9uUmVmZXJlbmNlPGFueSwgYW55LCBhbnksIGFueT5cbiAgICA/IEFQSVttb2RdXG4gICAgOiBQYXJ0aWFsQXBpPEFQSVttb2RdPjtcbn07XG5cbi8qKlxuICogQSB1dGlsaXR5IGZvciBjb25zdHJ1Y3Rpbmcge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfXMgaW4gcHJvamVjdHMgdGhhdFxuICogYXJlIG5vdCB1c2luZyBjb2RlIGdlbmVyYXRpb24uXG4gKlxuICogWW91IGNhbiBjcmVhdGUgYSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbiBsaWtlOlxuICogYGBganNcbiAqIGNvbnN0IHJlZmVyZW5jZSA9IGFueUFwaS5teU1vZHVsZS5teUZ1bmN0aW9uO1xuICogYGBgXG4gKlxuICogVGhpcyBzdXBwb3J0cyBhY2Nlc3NpbmcgYW55IHBhdGggcmVnYXJkbGVzcyBvZiB3aGF0IGRpcmVjdG9yaWVzIGFuZCBtb2R1bGVzXG4gKiBhcmUgaW4geW91ciBwcm9qZWN0LiBBbGwgZnVuY3Rpb24gcmVmZXJlbmNlcyBhcmUgdHlwZWQgYXNcbiAqIHtAbGluayBBbnlGdW5jdGlvblJlZmVyZW5jZX0uXG4gKlxuICpcbiAqIElmIHlvdSdyZSB1c2luZyBjb2RlIGdlbmVyYXRpb24sIHVzZSBgYXBpYCBmcm9tIGBjb252ZXgvX2dlbmVyYXRlZC9hcGlgXG4gKiBpbnN0ZWFkLiBJdCB3aWxsIGJlIG1vcmUgdHlwZS1zYWZlIGFuZCBwcm9kdWNlIGJldHRlciBhdXRvLWNvbXBsZXRlXG4gKiBpbiB5b3VyIGVkaXRvci5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBhbnlBcGk6IEFueUFwaSA9IGNyZWF0ZUFwaSgpIGFzIGFueTtcblxuLyoqXG4gKiBHaXZlbiBhIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0sIGdldCB0aGUgcmV0dXJuIHR5cGUgb2YgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgaXMgcmVwcmVzZW50ZWQgYXMgYW4gb2JqZWN0IG1hcHBpbmcgYXJndW1lbnQgbmFtZXMgdG8gdmFsdWVzLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBGdW5jdGlvbkFyZ3M8RnVuY1JlZiBleHRlbmRzIEFueUZ1bmN0aW9uUmVmZXJlbmNlPiA9XG4gIEZ1bmNSZWZbXCJfYXJnc1wiXTtcblxuLyoqXG4gKiBBIHR1cGxlIHR5cGUgb2YgdGhlIChtYXliZSBvcHRpb25hbCkgYXJndW1lbnRzIHRvIGBGdW5jUmVmYC5cbiAqXG4gKiBUaGlzIHR5cGUgaXMgdXNlZCB0byBtYWtlIG1ldGhvZHMgaW52b2x2aW5nIGFyZ3VtZW50cyB0eXBlIHNhZmUgd2hpbGUgYWxsb3dpbmdcbiAqIHNraXBwaW5nIHRoZSBhcmd1bWVudHMgZm9yIGZ1bmN0aW9ucyB0aGF0IGRvbid0IHJlcXVpcmUgYXJndW1lbnRzLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgT3B0aW9uYWxSZXN0QXJnczxGdW5jUmVmIGV4dGVuZHMgQW55RnVuY3Rpb25SZWZlcmVuY2U+ID1cbiAgRnVuY1JlZltcIl9hcmdzXCJdIGV4dGVuZHMgRW1wdHlPYmplY3RcbiAgICA/IFthcmdzPzogRW1wdHlPYmplY3RdXG4gICAgOiBbYXJnczogRnVuY1JlZltcIl9hcmdzXCJdXTtcblxuLyoqXG4gKiBBIHR1cGxlIHR5cGUgb2YgdGhlIChtYXliZSBvcHRpb25hbCkgYXJndW1lbnRzIHRvIGBGdW5jUmVmYCwgZm9sbG93ZWQgYnkgYW4gb3B0aW9uc1xuICogb2JqZWN0IG9mIHR5cGUgYE9wdGlvbnNgLlxuICpcbiAqIFRoaXMgdHlwZSBpcyB1c2VkIHRvIG1ha2UgbWV0aG9kcyBsaWtlIGB1c2VRdWVyeWAgdHlwZS1zYWZlIHdoaWxlIGFsbG93aW5nXG4gKiAxLiBTa2lwcGluZyBhcmd1bWVudHMgZm9yIGZ1bmN0aW9ucyB0aGF0IGRvbid0IHJlcXVpcmUgYXJndW1lbnRzLlxuICogMi4gU2tpcHBpbmcgdGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBBcmdzQW5kT3B0aW9uczxcbiAgRnVuY1JlZiBleHRlbmRzIEFueUZ1bmN0aW9uUmVmZXJlbmNlLFxuICBPcHRpb25zLFxuPiA9IEZ1bmNSZWZbXCJfYXJnc1wiXSBleHRlbmRzIEVtcHR5T2JqZWN0XG4gID8gW2FyZ3M/OiBFbXB0eU9iamVjdCwgb3B0aW9ucz86IE9wdGlvbnNdXG4gIDogW2FyZ3M6IEZ1bmNSZWZbXCJfYXJnc1wiXSwgb3B0aW9ucz86IE9wdGlvbnNdO1xuXG4vKipcbiAqIEdpdmVuIGEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSwgZ2V0IHRoZSByZXR1cm4gdHlwZSBvZiB0aGUgZnVuY3Rpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBGdW5jdGlvblJldHVyblR5cGU8RnVuY1JlZiBleHRlbmRzIEFueUZ1bmN0aW9uUmVmZXJlbmNlPiA9XG4gIEZ1bmNSZWZbXCJfcmV0dXJuVHlwZVwiXTtcblxudHlwZSBVbmRlZmluZWRUb051bGw8VD4gPSBUIGV4dGVuZHMgdm9pZCA/IG51bGwgOiBUO1xuXG50eXBlIE51bGxUb1VuZGVmaW5lZE9yTnVsbDxUPiA9IFQgZXh0ZW5kcyBudWxsID8gVCB8IHVuZGVmaW5lZCB8IHZvaWQgOiBUO1xuXG4vKipcbiAqIENvbnZlcnQgdGhlIHJldHVybiB0eXBlIG9mIGEgZnVuY3Rpb24gdG8gaXQncyBjbGllbnQtZmFjaW5nIGZvcm1hdC5cbiAqXG4gKiBUaGlzIG1lYW5zOlxuICogLSBDb252ZXJ0aW5nIGB1bmRlZmluZWRgIGFuZCBgdm9pZGAgdG8gYG51bGxgXG4gKiAtIFJlbW92aW5nIGFsbCBgUHJvbWlzZWAgd3JhcHBlcnNcbiAqL1xuZXhwb3J0IHR5cGUgQ29udmVydFJldHVyblR5cGU8VD4gPSBVbmRlZmluZWRUb051bGw8QXdhaXRlZDxUPj47XG5cbmV4cG9ydCB0eXBlIFZhbGlkYXRvclR5cGVUb1JldHVyblR5cGU8VD4gPVxuICB8IFByb21pc2U8TnVsbFRvVW5kZWZpbmVkT3JOdWxsPFQ+PlxuICB8IE51bGxUb1VuZGVmaW5lZE9yTnVsbDxUPjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/server/api.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/server/components/paths.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/components/paths.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractReferencePath: () => (/* binding */ extractReferencePath),\n/* harmony export */   getFunctionAddress: () => (/* binding */ getFunctionAddress),\n/* harmony export */   isFunctionHandle: () => (/* binding */ isFunctionHandle),\n/* harmony export */   setReferencePath: () => (/* binding */ setReferencePath),\n/* harmony export */   toReferencePath: () => (/* binding */ toReferencePath)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functionName.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/server/functionName.js\");\n\n\nconst toReferencePath = Symbol.for(\"toReferencePath\");\nfunction setReferencePath(obj, value) {\n    obj[toReferencePath] = value;\n}\nfunction extractReferencePath(reference) {\n    var _reference_toReferencePath;\n    return (_reference_toReferencePath = reference[toReferencePath]) !== null && _reference_toReferencePath !== void 0 ? _reference_toReferencePath : null;\n}\nfunction isFunctionHandle(s) {\n    return s.startsWith(\"function://\");\n}\nfunction getFunctionAddress(functionReference) {\n    let functionAddress;\n    if (typeof functionReference === \"string\") {\n        if (isFunctionHandle(functionReference)) {\n            functionAddress = {\n                functionHandle: functionReference\n            };\n        } else {\n            functionAddress = {\n                name: functionReference\n            };\n        }\n    } else if (functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]) {\n        functionAddress = {\n            name: functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]\n        };\n    } else {\n        const referencePath = extractReferencePath(functionReference);\n        if (!referencePath) {\n            throw new Error(\"\".concat(functionReference, \" is not a functionReference\"));\n        }\n        functionAddress = {\n            reference: referencePath\n        };\n    }\n    return functionAddress;\n} //# sourceMappingURL=paths.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2NvbXBvbmVudHMvcGF0aHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QjtBQUV0QixNQUFNLGtCQUFrQixPQUFPLElBQUksaUJBQWlCO0FBS3BELFNBQVMsaUJBQW9CLEtBQVEsT0FBZTtJQUN4RCxJQUFZLGVBQWUsSUFBSTtBQUNsQztBQUVPLFNBQVMscUJBQXFCLFdBQStCOztJQUNsRSw4Q0FBTyxDQUFVLGVBQWUsdURBQXpCLDZCQUE4QjtBQUN2QztBQUVPLFNBQVMsaUJBQWlCLEdBQW9CO0lBQ25ELE9BQU8sRUFBRSxXQUFXLGFBQWE7QUFDbkM7QUFFTyxTQUFTLG1CQUFtQixtQkFBd0I7SUFJekQsSUFBSTtJQUdKLElBQUksT0FBTyxzQkFBc0IsVUFBVTtRQUN6QyxJQUFJLGlCQUFpQixpQkFBaUIsR0FBRztZQUN2QyxrQkFBa0I7Z0JBQUUsZ0JBQWdCO1lBQWtCO1FBQ3hELE9BQU87WUFDTCxrQkFBa0I7Z0JBQUUsTUFBTTtZQUFrQjtRQUM5QztJQUNGLFdBR1Msa0JBQWtCLDBEQUFZLEdBQUc7UUFDeEMsa0JBQWtCO1lBQUUsTUFBTSxrQkFBa0IsMERBQVk7UUFBRTtJQUM1RCxPQUVLO1FBQ0gsTUFBTSxnQkFBZ0IscUJBQXFCLGlCQUFpQjtRQUM1RCxJQUFJLENBQUMsZUFBZTtZQUNsQixNQUFNLElBQUksTUFBTSxHQUFvQixPQUFqQixpQkFBaUIsOEJBQTZCO1FBQ25FO1FBQ0Esa0JBQWtCO1lBQUUsV0FBVztRQUFjO0lBQy9DO0lBQ0EsT0FBTztBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL3NlcnZlci9jb21wb25lbnRzL3BhdGhzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9mdW5jdGlvbk5hbWUuanNcIjtcblxuZXhwb3J0IGNvbnN0IHRvUmVmZXJlbmNlUGF0aCA9IFN5bWJvbC5mb3IoXCJ0b1JlZmVyZW5jZVBhdGhcIik7XG5cbi8vIE11bHRpcGxlIGluc3RhbmNlcyBvZiB0aGUgc2FtZSBTeW1ib2wuZm9yKCkgYXJlIGVxdWFsIGF0IHJ1bnRpbWUgYnV0IG5vdFxuLy8gYXQgdHlwZS10aW1lLCBzbyBgW3RvUmVmZXJlbmNlUGF0aF1gIHByb3BlcnRpZXMgYXJlbid0IHVzZWQgaW4gdHlwZXMuXG4vLyBVc2UgdGhpcyBmdW5jdGlvbiB0byBzZXQgdGhlIHByb3BlcnR5IGludmlzaWJseS5cbmV4cG9ydCBmdW5jdGlvbiBzZXRSZWZlcmVuY2VQYXRoPFQ+KG9iajogVCwgdmFsdWU6IHN0cmluZykge1xuICAob2JqIGFzIGFueSlbdG9SZWZlcmVuY2VQYXRoXSA9IHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlZmVyZW5jZVBhdGgocmVmZXJlbmNlOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIHJlZmVyZW5jZVt0b1JlZmVyZW5jZVBhdGhdID8/IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uSGFuZGxlKHM6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gcy5zdGFydHNXaXRoKFwiZnVuY3Rpb246Ly9cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdGlvbkFkZHJlc3MoZnVuY3Rpb25SZWZlcmVuY2U6IGFueSkge1xuICAvLyBUaGUgYHJ1bipgIHN5c2NhbGxzIGV4cGVjdCBlaXRoZXIgYSBVREYgcGF0aCBhdCBcIm5hbWVcIiBvciBhIHNlcmlhbGl6ZWRcbiAgLy8gcmVmZXJlbmNlIGF0IFwicmVmZXJlbmNlXCIuIERpc3BhdGNoIG9uIGBmdW5jdGlvblJlZmVyZW5jZWAgdG8gY29lcmNlXG4gIC8vIGl0IHRvIG9uZSBvciB0aGUgb3RoZXIuXG4gIGxldCBmdW5jdGlvbkFkZHJlc3M7XG5cbiAgLy8gTGVnYWN5IHBhdGggZm9yIHBhc3NpbmcgaW4gVURGIHBhdGhzIGRpcmVjdGx5IGFzIGZ1bmN0aW9uIHJlZmVyZW5jZXMuXG4gIGlmICh0eXBlb2YgZnVuY3Rpb25SZWZlcmVuY2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoaXNGdW5jdGlvbkhhbmRsZShmdW5jdGlvblJlZmVyZW5jZSkpIHtcbiAgICAgIGZ1bmN0aW9uQWRkcmVzcyA9IHsgZnVuY3Rpb25IYW5kbGU6IGZ1bmN0aW9uUmVmZXJlbmNlIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZ1bmN0aW9uQWRkcmVzcyA9IHsgbmFtZTogZnVuY3Rpb25SZWZlcmVuY2UgfTtcbiAgICB9XG4gIH1cbiAgLy8gUGF0aCBmb3IgcGFzc2luZyBpbiBhIGBGdW5jdGlvblJlZmVyZW5jZWAsIGVpdGhlciBmcm9tIGBhcGlgIG9yIGRpcmVjdGx5XG4gIC8vIGNyZWF0ZWQgZnJvbSBhIFVERiBwYXRoIHdpdGggYG1ha2VGdW5jdGlvblJlZmVyZW5jZWAuXG4gIGVsc2UgaWYgKGZ1bmN0aW9uUmVmZXJlbmNlW2Z1bmN0aW9uTmFtZV0pIHtcbiAgICBmdW5jdGlvbkFkZHJlc3MgPSB7IG5hbWU6IGZ1bmN0aW9uUmVmZXJlbmNlW2Z1bmN0aW9uTmFtZV0gfTtcbiAgfVxuICAvLyBSZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBmdW5jdGlvbiBkZXJpdmVkIGZyb20gYGFwcGAgb3IgYGNvbXBvbmVudGAuXG4gIGVsc2Uge1xuICAgIGNvbnN0IHJlZmVyZW5jZVBhdGggPSBleHRyYWN0UmVmZXJlbmNlUGF0aChmdW5jdGlvblJlZmVyZW5jZSk7XG4gICAgaWYgKCFyZWZlcmVuY2VQYXRoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZnVuY3Rpb25SZWZlcmVuY2V9IGlzIG5vdCBhIGZ1bmN0aW9uUmVmZXJlbmNlYCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uQWRkcmVzcyA9IHsgcmVmZXJlbmNlOiByZWZlcmVuY2VQYXRoIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uQWRkcmVzcztcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/server/components/paths.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/server/functionName.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/functionName.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   functionName: () => (/* binding */ functionName)\n/* harmony export */ });\n\nconst functionName = Symbol.for(\"functionName\"); //# sourceMappingURL=functionName.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2Z1bmN0aW9uTmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUdPLE1BQU0sZUFBZSxPQUFPLElBQUksY0FBYyIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvc2VydmVyL2Z1bmN0aW9uTmFtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc3ltYm9sIGZvciBhY2Nlc3NpbmcgdGhlIG5hbWUgb2YgYSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGF0IHJ1bnRpbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBmdW5jdGlvbk5hbWUgPSBTeW1ib2wuZm9yKFwiZnVuY3Rpb25OYW1lXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/server/functionName.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/base64.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/base64.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byteLength: () => (/* binding */ byteLength),\n/* harmony export */   fromByteArray: () => (/* binding */ fromByteArray),\n/* harmony export */   fromByteArrayUrlSafeNoPadding: () => (/* binding */ fromByteArrayUrlSafeNoPadding),\n/* harmony export */   toByteArray: () => (/* binding */ toByteArray)\n/* harmony export */ });\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = Uint8Array;\nvar code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfor(var i = 0, len = code.length; i < len; ++i){\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\nrevLookup[\"-\".charCodeAt(0)] = 62;\nrevLookup[\"_\".charCodeAt(0)] = 63;\nfunction getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    }\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\nfunction byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction _byteLength(_b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for(i = 0; i < len; i += 4){\n        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    return arr;\n}\nfunction tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n}\nfunction encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for(var i = start; i < end; i += 3){\n        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n        output.push(tripletToBase64(tmp));\n    }\n    return output.join(\"\");\n}\nfunction fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3;\n    var parts = [];\n    var maxChunkLength = 16383;\n    for(var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength){\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\");\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\");\n    }\n    return parts.join(\"\");\n}\nfunction fromByteArrayUrlSafeNoPadding(uint8) {\n    return fromByteArray(uint8).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n} //# sourceMappingURL=base64.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2Jhc2U2NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQVNBLElBQUksU0FBbUIsQ0FBQztBQUN4QixJQUFJLFlBQXNCLENBQUM7QUFDM0IsSUFBSSxNQUFNO0FBRVYsSUFBSSxPQUFPO0FBQ1gsUUFBUyxJQUFJLEdBQUcsTUFBTSxLQUFLLFFBQVEsSUFBSSxLQUFLLEVBQUUsRUFBRztJQUMvQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDbEIsVUFBVSxLQUFLLFdBQVcsQ0FBQyxDQUFDLElBQUk7QUFDbEM7QUFJQSxVQUFVLElBQUksV0FBVyxDQUFDLENBQUMsSUFBSTtBQUMvQixVQUFVLElBQUksV0FBVyxDQUFDLENBQUMsSUFBSTtBQUUvQixTQUFTLFFBQVEsS0FBYTtJQUM1QixJQUFJLE1BQU0sSUFBSTtJQUVkLElBQUksTUFBTSxJQUFJLEdBQUc7UUFDZixNQUFNLElBQUksTUFBTSxnREFBZ0Q7SUFDbEU7SUFJQSxJQUFJLFdBQVcsSUFBSSxRQUFRLEdBQUc7SUFDOUIsSUFBSSxhQUFhLEdBQUksWUFBVztJQUVoQyxJQUFJLGtCQUFrQixhQUFhLE1BQU0sSUFBSSxJQUFLLFdBQVc7SUFFN0QsT0FBTztRQUFDO1FBQVUsZUFBZTtLQUFBO0FBQ25DO0FBSU8sU0FBUyxXQUFXLEtBQXFCO0lBQzlDLElBQUksT0FBTyxRQUFRLEdBQUc7SUFDdEIsSUFBSSxXQUFXLEtBQUssQ0FBQztJQUNyQixJQUFJLGtCQUFrQixLQUFLLENBQUM7SUFDNUIsUUFBUyxXQUFXLG1CQUFtQixJQUFLLElBQUk7QUFDbEQ7QUFFQSxTQUFTLFlBQVksTUFBYyxVQUFrQixpQkFBeUI7SUFDNUUsUUFBUyxXQUFXLG1CQUFtQixJQUFLLElBQUk7QUFDbEQ7QUFHTyxTQUFTLFlBQVksS0FBeUI7SUFDbkQsSUFBSTtJQUNKLElBQUksT0FBTyxRQUFRLEdBQUc7SUFDdEIsSUFBSSxX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LEdBQUcsRUFDbEIsUUFBUSxPQUFPLEdBQUcsRUFDbEIsUUFBUSxNQUFNLEVBQUU7QUFDckIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3ZhbHVlcy9iYXNlNjQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbmh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iLzg4OTU3Yzk5NDNjN2UyYTBmMDNjZGY3M2U3MWQ1NzllNDMzNjI3ZDMvaW5kZXguanNcbkNvcHlyaWdodCAoYykgMjAxNCBKYW1lc29uIExpdHRsZVxuVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4qL1xuXG4vLyBWZW5kb3JlZCBiZWNhdXNlIHRoaXMgbGlicmFyeSBoYXMgbm8gRVNNIGJ1aWxkLCBhbmQgc29tZSBlbnZpcm9ubWVudHNcbi8vIChTdmVsdGVLaXQpIGFyZSBoYXBwaWVzdCB3aGVuIGFsbCBkZXBlbmRlbmNpZXMgYXJlIEVTTS5cblxudmFyIGxvb2t1cDogc3RyaW5nW10gPSBbXTtcbnZhciByZXZMb29rdXA6IG51bWJlcltdID0gW107XG52YXIgQXJyID0gVWludDhBcnJheTtcblxudmFyIGNvZGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV07XG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwW1wiLVwiLmNoYXJDb2RlQXQoMCldID0gNjI7XG5yZXZMb29rdXBbXCJfXCIuY2hhckNvZGVBdCgwKV0gPSA2MztcblxuZnVuY3Rpb24gZ2V0TGVucyhiNjQ6IHN0cmluZykge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aDtcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO1xuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZihcIj1cIik7XG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuO1xuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuID8gMCA6IDQgLSAodmFsaWRMZW4gJSA0KTtcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dO1xufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZUxlbmd0aChiNjQ6IHN0cmluZyk6IG51bWJlciB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpO1xuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdO1xuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMykgLyA0IC0gcGxhY2VIb2xkZXJzTGVuO1xufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aChfYjY0OiBzdHJpbmcsIHZhbGlkTGVuOiBudW1iZXIsIHBsYWNlSG9sZGVyc0xlbjogbnVtYmVyKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMpIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcbn1cblxuLyoqIEBwdWJsaWMgKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0J5dGVBcnJheShiNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICB2YXIgdG1wO1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KTtcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXTtcbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV07XG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSk7XG5cbiAgdmFyIGN1ckJ5dGUgPSAwO1xuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDAgPyB2YWxpZExlbiAtIDQgOiB2YWxpZExlbjtcblxuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXTtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhmZjtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweGZmO1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhmZjtcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpO1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhmZjtcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMik7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhmZjtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4ZmY7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQobnVtOiBudW1iZXIpIHtcbiAgcmV0dXJuIChcbiAgICBsb29rdXBbKG51bSA+PiAxOCkgJiAweDNmXSArXG4gICAgbG9va3VwWyhudW0gPj4gMTIpICYgMHgzZl0gK1xuICAgIGxvb2t1cFsobnVtID4+IDYpICYgMHgzZl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNmXVxuICApO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayh1aW50ODogVWludDhBcnJheSwgc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIpIHtcbiAgdmFyIHRtcDtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4ZmYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4ZmYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4ZmYpO1xuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG59XG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSh1aW50ODogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIHZhciB0bXA7XG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGg7XG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMzsgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzOyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgZW5jb2RlQ2h1bmsoXG4gICAgICAgIHVpbnQ4LFxuICAgICAgICBpLFxuICAgICAgICBpICsgbWF4Q2h1bmtMZW5ndGggPiBsZW4yID8gbGVuMiA6IGkgKyBtYXhDaHVua0xlbmd0aCxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXTtcbiAgICBwYXJ0cy5wdXNoKGxvb2t1cFt0bXAgPj4gMl0gKyBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M2ZdICsgXCI9PVwiKTtcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV07XG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNmXSArXG4gICAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzZl0gK1xuICAgICAgICBcIj1cIixcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQnl0ZUFycmF5VXJsU2FmZU5vUGFkZGluZyh1aW50ODogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIHJldHVybiBmcm9tQnl0ZUFycmF5KHVpbnQ4KVxuICAgIC5yZXBsYWNlKC9cXCsvZywgXCItXCIpXG4gICAgLnJlcGxhY2UoL1xcLy9nLCBcIl9cIilcbiAgICAucmVwbGFjZSgvPS9nLCBcIlwiKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/base64.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/compare.js":
/*!********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/compare.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareValues: () => (/* binding */ compareValues)\n/* harmony export */ });\n/* harmony import */ var _compare_utf8_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compare_utf8.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/compare_utf8.js\");\n\n\nfunction compareValues(k1, k2) {\n    return compareAsTuples(makeComparable(k1), makeComparable(k2));\n}\nfunction compareAsTuples(a, b) {\n    if (a[0] === b[0]) {\n        return compareSameTypeValues(a[1], b[1]);\n    } else if (a[0] < b[0]) {\n        return -1;\n    }\n    return 1;\n}\nfunction compareSameTypeValues(v1, v2) {\n    if (v1 === void 0 || v1 === null) {\n        return 0;\n    }\n    if (typeof v1 === \"number\") {\n        if (typeof v2 !== \"number\") {\n            throw new Error(\"Unexpected type \".concat(v2));\n        }\n        return compareNumbers(v1, v2);\n    }\n    if (typeof v1 === \"string\") {\n        if (typeof v2 !== \"string\") {\n            throw new Error(\"Unexpected type \".concat(v2));\n        }\n        return (0,_compare_utf8_js__WEBPACK_IMPORTED_MODULE_0__.compareUTF8)(v1, v2);\n    }\n    if (typeof v1 === \"bigint\" || typeof v1 === \"boolean\" || typeof v1 === \"string\") {\n        return v1 < v2 ? -1 : v1 === v2 ? 0 : 1;\n    }\n    if (!Array.isArray(v1) || !Array.isArray(v2)) {\n        throw new Error(\"Unexpected type \".concat(v1));\n    }\n    for(let i = 0; i < v1.length && i < v2.length; i++){\n        const cmp = compareAsTuples(v1[i], v2[i]);\n        if (cmp !== 0) {\n            return cmp;\n        }\n    }\n    if (v1.length < v2.length) {\n        return -1;\n    }\n    if (v1.length > v2.length) {\n        return 1;\n    }\n    return 0;\n}\nfunction compareNumbers(v1, v2) {\n    if (isNaN(v1) || isNaN(v2)) {\n        const buffer1 = new ArrayBuffer(8);\n        const buffer2 = new ArrayBuffer(8);\n        new DataView(buffer1).setFloat64(0, v1, /* little-endian */ true);\n        new DataView(buffer2).setFloat64(0, v2, /* little-endian */ true);\n        const v1Bits = BigInt(new DataView(buffer1).getBigInt64(0, /* little-endian */ true));\n        const v2Bits = BigInt(new DataView(buffer2).getBigInt64(0, /* little-endian */ true));\n        const v1Sign = (v1Bits & 0x8000000000000000n) !== 0n;\n        const v2Sign = (v2Bits & 0x8000000000000000n) !== 0n;\n        if (isNaN(v1) !== isNaN(v2)) {\n            if (isNaN(v1)) {\n                return v1Sign ? -1 : 1;\n            }\n            return v2Sign ? 1 : -1;\n        }\n        if (v1Sign !== v2Sign) {\n            return v1Sign ? -1 : 1;\n        }\n        return v1Bits < v2Bits ? -1 : v1Bits === v2Bits ? 0 : 1;\n    }\n    if (Object.is(v1, v2)) {\n        return 0;\n    }\n    if (Object.is(v1, -0)) {\n        return Object.is(v2, 0) ? -1 : -Math.sign(v2);\n    }\n    if (Object.is(v2, -0)) {\n        return Object.is(v1, 0) ? 1 : Math.sign(v1);\n    }\n    return v1 < v2 ? -1 : 1;\n}\nfunction makeComparable(v) {\n    if (v === void 0) {\n        return [\n            0,\n            void 0\n        ];\n    }\n    if (v === null) {\n        return [\n            1,\n            null\n        ];\n    }\n    if (typeof v === \"bigint\") {\n        return [\n            2,\n            v\n        ];\n    }\n    if (typeof v === \"number\") {\n        return [\n            3,\n            v\n        ];\n    }\n    if (typeof v === \"boolean\") {\n        return [\n            4,\n            v\n        ];\n    }\n    if (typeof v === \"string\") {\n        return [\n            5,\n            v\n        ];\n    }\n    if (v instanceof ArrayBuffer) {\n        return [\n            6,\n            Array.from(new Uint8Array(v)).map(makeComparable)\n        ];\n    }\n    if (Array.isArray(v)) {\n        return [\n            7,\n            v.map(makeComparable)\n        ];\n    }\n    const keys = Object.keys(v).sort();\n    const pojo = keys.map((k)=>[\n            k,\n            v[k]\n        ]);\n    return [\n        8,\n        pojo.map(makeComparable)\n    ];\n} //# sourceMappingURL=compare.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2NvbXBhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzRCO0FBRXJCLFNBQVMsY0FBYyxJQUF1QixJQUF1QjtJQUMxRSxPQUFPLGdCQUFnQixlQUFlLEVBQUUsR0FBRyxlQUFlLEVBQUUsQ0FBQztBQUMvRDtBQUVBLFNBQVMsZ0JBQW1CLEdBQWdCLEdBQXdCO0lBQ2xFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUc7UUFDakIsT0FBTyxzQkFBc0IsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDekMsV0FBVyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRztRQUN0QixPQUFPO0lBQ1Q7SUFDQSxPQUFPO0FBQ1Q7QUFFQSxTQUFTLHNCQUF5QixJQUFPLElBQWU7SUFDdEQsSUFBSSxPQUFPLFVBQWEsT0FBTyxNQUFNO1FBQ25DLE9BQU87SUFDVDtJQUNBLElBQUksT0FBTyxPQUFPLFVBQVU7UUFDMUIsSUFBSSxPQUFPLE9BQU8sVUFBVTtZQUMxQixNQUFNLElBQUksTUFBTSxtQkFBNEIsQ0FBRSxNQUFYLEVBQVM7UUFDOUM7UUFDQSxPQUFPLGVBQWUsSUFBSSxFQUFFO0lBQzlCO0lBQ0EsSUFBSSxPQUFPLE9BQU8sVUFBVTtRQUMxQixJQUFJLE9BQU8sT0FBTyxVQUFVO1lBQzFCLE1BQU0sSUFBSSxNQUFNLG1CQUE0QixDQUFFLE1BQVgsRUFBUztRQUM5QztRQUNBLE9BQU8sNkRBQVcsQ0FBQyxJQUFJLEVBQUU7SUFDM0I7SUFDQSxJQUNFLE9BQU8sT0FBTyxZQUNkLE9BQU8sT0FBTyxhQUNkLE9BQU8sT0FBTyxVQUNkO1FBQ0EsT0FBTyxLQUFLLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSTtJQUN4QztJQUNBLElBQUksQ0FBQyxNQUFNLFFBQVEsRUFBRSxLQUFLLENBQUMsTUFBTSxRQUFRLEVBQUUsR0FBRztRQUM1QyxNQUFN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LElBQU07WUFBQztZQUFHLEVBQUUsQ0FBQyxDQUFFO1NBQUM7SUFDaEQsT0FBTztRQUFDO1FBQUcsS0FBSyxJQUFJLGNBQWMsQ0FBQztLQUFBO0FBQ3JDIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3NyYy92YWx1ZXMvY29tcGFyZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYWx1ZSB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyBjb21wYXJlVVRGOCB9IGZyb20gXCIuL2NvbXBhcmVfdXRmOC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVZhbHVlcyhrMTogVmFsdWUgfCB1bmRlZmluZWQsIGsyOiBWYWx1ZSB8IHVuZGVmaW5lZCkge1xuICByZXR1cm4gY29tcGFyZUFzVHVwbGVzKG1ha2VDb21wYXJhYmxlKGsxKSwgbWFrZUNvbXBhcmFibGUoazIpKTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUFzVHVwbGVzPFQ+KGE6IFtudW1iZXIsIFRdLCBiOiBbbnVtYmVyLCBUXSk6IG51bWJlciB7XG4gIGlmIChhWzBdID09PSBiWzBdKSB7XG4gICAgcmV0dXJuIGNvbXBhcmVTYW1lVHlwZVZhbHVlcyhhWzFdLCBiWzFdKTtcbiAgfSBlbHNlIGlmIChhWzBdIDwgYlswXSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gMTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVNhbWVUeXBlVmFsdWVzPFQ+KHYxOiBULCB2MjogVCk6IG51bWJlciB7XG4gIGlmICh2MSA9PT0gdW5kZWZpbmVkIHx8IHYxID09PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKHR5cGVvZiB2MSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmICh0eXBlb2YgdjIgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlICR7djIgYXMgYW55fWApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGFyZU51bWJlcnModjEsIHYyKTtcbiAgfVxuICBpZiAodHlwZW9mIHYxID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKHR5cGVvZiB2MiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgJHt2MiBhcyBhbnl9YCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wYXJlVVRGOCh2MSwgdjIpO1xuICB9XG4gIGlmIChcbiAgICB0eXBlb2YgdjEgPT09IFwiYmlnaW50XCIgfHxcbiAgICB0eXBlb2YgdjEgPT09IFwiYm9vbGVhblwiIHx8XG4gICAgdHlwZW9mIHYxID09PSBcInN0cmluZ1wiXG4gICkge1xuICAgIHJldHVybiB2MSA8IHYyID8gLTEgOiB2MSA9PT0gdjIgPyAwIDogMTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkodjEpIHx8ICFBcnJheS5pc0FycmF5KHYyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlICR7djEgYXMgYW55fWApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdjEubGVuZ3RoICYmIGkgPCB2Mi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNtcCA9IGNvbXBhcmVBc1R1cGxlcyh2MVtpXSwgdjJbaV0pO1xuICAgIGlmIChjbXAgIT09IDApIHtcbiAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuICB9XG4gIGlmICh2MS5sZW5ndGggPCB2Mi5sZW5ndGgpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKHYxLmxlbmd0aCA+IHYyLmxlbmd0aCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVycyh2MTogbnVtYmVyLCB2MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgLy8gSGFuZGxlIE5hTiB2YWx1ZXNcbiAgaWYgKGlzTmFOKHYxKSB8fCBpc05hTih2MikpIHtcbiAgICAvLyBDcmVhdGUgRGF0YVZpZXdzIGZvciBiaXQtbGV2ZWwgY29tcGFyaXNvblxuICAgIGNvbnN0IGJ1ZmZlcjEgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgY29uc3QgYnVmZmVyMiA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcbiAgICBuZXcgRGF0YVZpZXcoYnVmZmVyMSkuc2V0RmxvYXQ2NCgwLCB2MSwgLyogbGl0dGxlLWVuZGlhbiAqLyB0cnVlKTtcbiAgICBuZXcgRGF0YVZpZXcoYnVmZmVyMikuc2V0RmxvYXQ2NCgwLCB2MiwgLyogbGl0dGxlLWVuZGlhbiAqLyB0cnVlKTtcblxuICAgIC8vIFJlYWQgYXMgQmlnSW50IHRvIGNvbXBhcmUgYml0c1xuICAgIGNvbnN0IHYxQml0cyA9IEJpZ0ludChcbiAgICAgIG5ldyBEYXRhVmlldyhidWZmZXIxKS5nZXRCaWdJbnQ2NCgwLCAvKiBsaXR0bGUtZW5kaWFuICovIHRydWUpLFxuICAgICk7XG4gICAgY29uc3QgdjJCaXRzID0gQmlnSW50KFxuICAgICAgbmV3IERhdGFWaWV3KGJ1ZmZlcjIpLmdldEJpZ0ludDY0KDAsIC8qIGxpdHRsZS1lbmRpYW4gKi8gdHJ1ZSksXG4gICAgKTtcblxuICAgIC8vIFRoZSBzaWduIGJpdCBpcyB0aGUgbW9zdCBzaWduaWZpY2FudCBiaXQgKGJpdCA2MylcbiAgICBjb25zdCB2MVNpZ24gPSAodjFCaXRzICYgMHg4MDAwMDAwMDAwMDAwMDAwbikgIT09IDBuO1xuICAgIGNvbnN0IHYyU2lnbiA9ICh2MkJpdHMgJiAweDgwMDAwMDAwMDAwMDAwMDBuKSAhPT0gMG47XG5cbiAgICAvLyBJZiBvbmUgdmFsdWUgaXMgTmFOIGFuZCB0aGUgb3RoZXIgaXNuJ3QsIHVzZSBzaWduIGJpdHMgZmlyc3RcbiAgICBpZiAoaXNOYU4odjEpICE9PSBpc05hTih2MikpIHtcbiAgICAgIC8vIElmIHYxIGlzIE5hTiwgY29tcGFyZSBiYXNlZCBvbiBzaWduIGJpdHNcbiAgICAgIGlmIChpc05hTih2MSkpIHtcbiAgICAgICAgcmV0dXJuIHYxU2lnbiA/IC0xIDogMTtcbiAgICAgIH1cbiAgICAgIC8vIElmIHYyIGlzIE5hTiwgY29tcGFyZSBiYXNlZCBvbiBzaWduIGJpdHNcbiAgICAgIHJldHVybiB2MlNpZ24gPyAxIDogLTE7XG4gICAgfVxuXG4gICAgLy8gSWYgYm90aCBhcmUgTmFOLCBjb21wYXJlIHRoZWlyIGJpbmFyeSByZXByZXNlbnRhdGlvbnNcbiAgICBpZiAodjFTaWduICE9PSB2MlNpZ24pIHtcbiAgICAgIHJldHVybiB2MVNpZ24gPyAtMSA6IDE7IC8vIHRydWUgbWVhbnMgbmVnYXRpdmVcbiAgICB9XG4gICAgcmV0dXJuIHYxQml0cyA8IHYyQml0cyA/IC0xIDogdjFCaXRzID09PSB2MkJpdHMgPyAwIDogMTtcbiAgfVxuXG4gIGlmIChPYmplY3QuaXModjEsIHYyKSkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYgKE9iamVjdC5pcyh2MSwgLTApKSB7XG4gICAgcmV0dXJuIE9iamVjdC5pcyh2MiwgMCkgPyAtMSA6IC1NYXRoLnNpZ24odjIpO1xuICB9XG4gIGlmIChPYmplY3QuaXModjIsIC0wKSkge1xuICAgIHJldHVybiBPYmplY3QuaXModjEsIDApID8gMSA6IE1hdGguc2lnbih2MSk7XG4gIH1cblxuICAvLyBIYW5kbGUgcmVndWxhciBudW1iZXIgY29tcGFyaXNvblxuICByZXR1cm4gdjEgPCB2MiA/IC0xIDogMTtcbn1cblxuLy8gUmV0dXJucyBhbiBhcnJheSB3aGljaCBjYW4gYmUgY29tcGFyZWQgdG8gb3RoZXIgYXJyYXlzIGFzIGlmIHRoZXkgd2VyZSB0dXBsZXMuXG4vLyBGb3IgZXhhbXBsZSwgWzEsIG51bGxdIDwgWzIsIDFuXSBtZWFucyBudWxsIHNvcnRzIGJlZm9yZSBhbGwgYmlnaW50c1xuLy8gQW5kIFszLCA1XSA8IFszLCA2XSBtZWFucyBmbG9hdHMgc29ydCBhcyBleHBlY3RlZFxuLy8gQW5kIFs3LCBbWzUsIFwiYVwiXV1dIDwgWzcsIFtbNSwgXCJhXCJdLCBbNSwgXCJiXCJdXV0gbWVhbnMgYXJyYXlzIHNvcnQgYXMgZXhwZWN0ZWRcbmZ1bmN0aW9uIG1ha2VDb21wYXJhYmxlKHY6IFZhbHVlIHwgdW5kZWZpbmVkKTogW251bWJlciwgYW55XSB7XG4gIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gWzAsIHVuZGVmaW5lZF07XG4gIH1cbiAgaWYgKHYgPT09IG51bGwpIHtcbiAgICByZXR1cm4gWzEsIG51bGxdO1xuICB9XG4gIGlmICh0eXBlb2YgdiA9PT0gXCJiaWdpbnRcIikge1xuICAgIHJldHVybiBbMiwgdl07XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIFszLCB2XTtcbiAgfVxuICBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIFs0LCB2XTtcbiAgfVxuICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gWzUsIHZdO1xuICB9XG4gIGlmICh2IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gWzYsIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkodikpLm1hcChtYWtlQ29tcGFyYWJsZSldO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgcmV0dXJuIFs3LCB2Lm1hcChtYWtlQ29tcGFyYWJsZSldO1xuICB9XG4gIC8vIE90aGVyd2lzZSwgaXQncyBhbiBQT0pPLlxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModikuc29ydCgpO1xuICBjb25zdCBwb2pvOiBWYWx1ZVtdID0ga2V5cy5tYXAoKGspID0+IFtrLCB2W2tdIV0pO1xuICByZXR1cm4gWzgsIHBvam8ubWFwKG1ha2VDb21wYXJhYmxlKV07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/compare.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/compare_utf8.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/compare_utf8.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareUTF8: () => (/* binding */ compareUTF8),\n/* harmony export */   greaterThan: () => (/* binding */ greaterThan),\n/* harmony export */   greaterThanEq: () => (/* binding */ greaterThanEq),\n/* harmony export */   lessThan: () => (/* binding */ lessThan),\n/* harmony export */   lessThanEq: () => (/* binding */ lessThanEq),\n/* harmony export */   utf16LengthForCodePoint: () => (/* binding */ utf16LengthForCodePoint)\n/* harmony export */ });\n\nfunction compareUTF8(a, b) {\n    const aLength = a.length;\n    const bLength = b.length;\n    const length = Math.min(aLength, bLength);\n    for(let i = 0; i < length;){\n        const aCodePoint = a.codePointAt(i);\n        const bCodePoint = b.codePointAt(i);\n        if (aCodePoint !== bCodePoint) {\n            if (aCodePoint < 128 && bCodePoint < 128) {\n                return aCodePoint - bCodePoint;\n            }\n            const aLength2 = utf8Bytes(aCodePoint, aBytes);\n            const bLength2 = utf8Bytes(bCodePoint, bBytes);\n            return compareArrays(aBytes, aLength2, bBytes, bLength2);\n        }\n        i += utf16LengthForCodePoint(aCodePoint);\n    }\n    return aLength - bLength;\n}\nfunction compareArrays(a, aLength, b, bLength) {\n    const length = Math.min(aLength, bLength);\n    for(let i = 0; i < length; i++){\n        const aValue = a[i];\n        const bValue = b[i];\n        if (aValue !== bValue) {\n            return aValue - bValue;\n        }\n    }\n    return aLength - bLength;\n}\nfunction utf16LengthForCodePoint(aCodePoint) {\n    return aCodePoint > 65535 ? 2 : 1;\n}\nconst arr = ()=>Array.from({\n        length: 4\n    }, ()=>0);\nconst aBytes = arr();\nconst bBytes = arr();\nfunction utf8Bytes(codePoint, bytes) {\n    if (codePoint < 128) {\n        bytes[0] = codePoint;\n        return 1;\n    }\n    let count;\n    let offset;\n    if (codePoint <= 2047) {\n        count = 1;\n        offset = 192;\n    } else if (codePoint <= 65535) {\n        count = 2;\n        offset = 224;\n    } else if (codePoint <= 1114111) {\n        count = 3;\n        offset = 240;\n    } else {\n        throw new Error(\"Invalid code point\");\n    }\n    bytes[0] = (codePoint >> 6 * count) + offset;\n    let i = 1;\n    for(; count > 0; count--){\n        const temp = codePoint >> 6 * (count - 1);\n        bytes[i++] = 128 | temp & 63;\n    }\n    return i;\n}\nfunction greaterThan(a, b) {\n    return compareUTF8(a, b) > 0;\n}\nfunction greaterThanEq(a, b) {\n    return compareUTF8(a, b) >= 0;\n}\nfunction lessThan(a, b) {\n    return compareUTF8(a, b) < 0;\n}\nfunction lessThanEq(a, b) {\n    return compareUTF8(a, b) <= 0;\n} //# sourceMappingURL=compare_utf8.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2NvbXBhcmVfdXRmOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBZU8sU0FBUyxZQUFZLEdBQVcsR0FBbUI7SUFDeEQsTUFBTSxVQUFVLEVBQUU7SUFDbEIsTUFBTSxVQUFVLEVBQUU7SUFDbEIsTUFBTSxTQUFTLEtBQUssSUFBSSxTQUFTLE9BQU87SUFDeEMsUUFBUyxJQUFJLEdBQUcsSUFBSSxRQUFVO1FBQzVCLE1BQU0sYUFBYSxFQUFFLFlBQVksQ0FBQztRQUNsQyxNQUFNLGFBQWEsRUFBRSxZQUFZLENBQUM7UUFDbEMsSUFBSSxlQUFlLFlBQVk7WUFHN0IsSUFBSSxhQUFhLE9BQVEsYUFBYSxLQUFNO2dCQUMxQyxPQUFPLGFBQWE7WUFDdEI7WUFHQSxNQUFNQSxXQUFVLFVBQVUsWUFBWSxNQUFNO1lBQzVDLE1BQU1DLFdBQVUsVUFBVSxZQUFZLE1BQU07WUFDNUMsT0FBTyxjQUFjLFFBQVFELFVBQVMsUUFBUUMsUUFBTztRQUN2RDtRQUVBLEtBQUssd0JBQXdCLFVBQVU7SUFDekM7SUFFQSxPQUFPLFVBQVU7QUFDbkI7QUFTQSxTQUFTLGNBQ1AsR0FDQSxTQUNBLEdBQ0EsU0FDQTtJQUNBLE1BQU0sU0FBUyxLQUFLLElBQUksU0FBUyxPQUFPO0lBQ3hDLFFBQVMsSUFBSSxHQUFHLElBQUksUUFBUSxJQUFLO1FBQy9CLE1BQU0sU0FBUyxFQUFFLENBQUM7UUFDbEIsTUFBTSxTQUFTLEVBQUUsQ0FBQztRQUNsQixJQUFJLFdBQVcsUUFBUTtZQUNyQixPQUFPLFNBQVM7UUFDbEI7SUFDRjtJQUNBLE9BQU8sVUFBVTtBQUNuQjtBQU1PLFNBQVMsd0JBQXdCLFlBQW9CO0lBQzFELE9BQU8sYUFBYSxRQUFTLElBQUk7QUFDbkM7QUFHQSxNQUFNLE1BQU0sSUFBTSxNQUFNLEtBQUs7UUFBRSxRQUFRO0lBQUUsR0FBRyxJQUFNLENBQUM7QUFDbkQsTUFBTSxTQUFTLElBQUk7QUFDbkIsTUFBTSxTQUFTLElBQUk7QUFPbkIsU0FBUyxVQUFVLFdBQW1CLE9BQWlCO0lBQ3JELElBQUksWUFBWSxLQUFNO1FBQ3BCLE1BQU0sQ0FBQyxJQUFJO1FBQ1gsT0FBTztJQUNUO0lBRUEsSUFBSTtJQUNKLElBQUk7SUFFSixJQUFJLGFBQWEsTUFBUTtRQUN2QixRQUFRO1FBQ1IsU0FBUztJQUNYLFdBQVcsYUFBYSxPQUFRO1FBQzlCLFFBQVE7UUFDUixTQUFTO0lBQ1gsV0FBVyxhQUFhLFNBQVU7UUFDaEMsUUFBUTtRQUNSLFNBQVM7SUFDWCxPQUFPO1FBQ0wsTUFBTSxJQUFJLE1BQU0sb0JBQW9CO0lBQ3RDO0lBRUEsTUFBTSxDQUFDLEtBQUssYUFBYyxJQUFJLFNBQVU7SUFDeEMsSUFBSSxJQUFJO0lBQ1IsTUFBTyxRQUFRLEdBQUcsUUFBUztRQUN6QixNQUFNLE9BQU8sYUFBYyxLQUFLLFNBQVE7UUFDeEMsTUFBTSxHQUFHLElBQUksTUFBUSxPQUFPO0lBQzlCO0lBQ0EsT0FBTztBQUNUO0FBT08sU0FBUyxZQUFZLEdBQVcsR0FBVztJQUNoRCxPQUFPLFlBQVksR0FBRyxDQUFDLElBQUk7QUFDN0I7QUFPTyxTQUFTLGNBQWMsR0FBVyxHQUFXO0lBQ2xELE9BQU8sWUFBWSxHQUFHLENBQUMsS0FBSztBQUM5QjtBQU9PLFNBQVMsU0FBUyxHQUFXLEdBQVc7SUFDN0MsT0FBTyxZQUFZLEdBQUcsQ0FBQyxJQUFJO0FBQzdCO0FBT08sU0FBUyxXQUFXLEdBQVcsR0FBVztJQUMvQyxPQUFPLFlBQVksR0FBRyxDQUFDLEtBQUs7QUFDOUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3ZhbHVlcy9jb21wYXJlX3V0ZjgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9yb2NpY29ycC9jb21wYXJlLXV0ZjgvYmxvYi9tYWluL0xJQ0VOU0VcbiAqIChBcGFjaGUgVmVyc2lvbiAyLjAsIEphbnVhcnkgMjAwNClcbiAqL1xuXG4vKipcbiAqIFRoaXMgaXMgY29waWVkIGhlcmUgaW5zdGVhZCBvZiBhZGRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gYXZvaWQgYnVuZGxpbmcgaXNzdWVzLlxuICovXG5cbi8qKlxuICogQ29tcGFyZXMgdHdvIEphdmFTY3JpcHQgc3RyaW5ncyBhcyBpZiB0aGV5IHdlcmUgVVRGLTggZW5jb2RlZCBieXRlIGFycmF5cy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVVVEY4KGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgYUxlbmd0aCA9IGEubGVuZ3RoO1xuICBjb25zdCBiTGVuZ3RoID0gYi5sZW5ndGg7XG4gIGNvbnN0IGxlbmd0aCA9IE1hdGgubWluKGFMZW5ndGgsIGJMZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgKSB7XG4gICAgY29uc3QgYUNvZGVQb2ludCA9IGEuY29kZVBvaW50QXQoaSkhO1xuICAgIGNvbnN0IGJDb2RlUG9pbnQgPSBiLmNvZGVQb2ludEF0KGkpITtcbiAgICBpZiAoYUNvZGVQb2ludCAhPT0gYkNvZGVQb2ludCkge1xuICAgICAgLy8gQ29kZSBwb2ludHMgYmVsb3cgMHg4MCBhcmUgcmVwcmVzZW50ZWQgdGhlIHNhbWUgd2F5IGluIFVURi04IGFzIGluXG4gICAgICAvLyBVVEYtMTYuXG4gICAgICBpZiAoYUNvZGVQb2ludCA8IDB4ODAgJiYgYkNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgICAgcmV0dXJuIGFDb2RlUG9pbnQgLSBiQ29kZVBvaW50O1xuICAgICAgfVxuXG4gICAgICAvLyBnZXQgdGhlIFVURi04IGJ5dGVzIGZvciB0aGUgY29kZSBwb2ludHNcbiAgICAgIGNvbnN0IGFMZW5ndGggPSB1dGY4Qnl0ZXMoYUNvZGVQb2ludCwgYUJ5dGVzKTtcbiAgICAgIGNvbnN0IGJMZW5ndGggPSB1dGY4Qnl0ZXMoYkNvZGVQb2ludCwgYkJ5dGVzKTtcbiAgICAgIHJldHVybiBjb21wYXJlQXJyYXlzKGFCeXRlcywgYUxlbmd0aCwgYkJ5dGVzLCBiTGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpICs9IHV0ZjE2TGVuZ3RoRm9yQ29kZVBvaW50KGFDb2RlUG9pbnQpO1xuICB9XG5cbiAgcmV0dXJuIGFMZW5ndGggLSBiTGVuZ3RoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBhTGVuZ3RoXG4gKiBAcGFyYW0ge251bWJlcltdfSBiXG4gKiBAcGFyYW0ge251bWJlcn0gYkxlbmd0aFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUFycmF5cyhcbiAgYTogbnVtYmVyW10sXG4gIGFMZW5ndGg6IG51bWJlcixcbiAgYjogbnVtYmVyW10sXG4gIGJMZW5ndGg6IG51bWJlcixcbikge1xuICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihhTGVuZ3RoLCBiTGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFWYWx1ZSA9IGFbaV07XG4gICAgY29uc3QgYlZhbHVlID0gYltpXTtcbiAgICBpZiAoYVZhbHVlICE9PSBiVmFsdWUpIHtcbiAgICAgIHJldHVybiBhVmFsdWUgLSBiVmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBhTGVuZ3RoIC0gYkxlbmd0aDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gYUNvZGVQb2ludFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjE2TGVuZ3RoRm9yQ29kZVBvaW50KGFDb2RlUG9pbnQ6IG51bWJlcikge1xuICByZXR1cm4gYUNvZGVQb2ludCA+IDB4ZmZmZiA/IDIgOiAxO1xufVxuXG4vLyAyIHByZWFsbG9jYXRlZCBhcnJheXMgZm9yIHV0ZjhCeXRlcy5cbmNvbnN0IGFyciA9ICgpID0+IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gMCk7XG5jb25zdCBhQnl0ZXMgPSBhcnIoKTtcbmNvbnN0IGJCeXRlcyA9IGFycigpO1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlUG9pbnRcbiAqIEBwYXJhbSB7bnVtYmVyW119IGJ5dGVzXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiB1dGY4Qnl0ZXMoY29kZVBvaW50OiBudW1iZXIsIGJ5dGVzOiBudW1iZXJbXSkge1xuICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgIGJ5dGVzWzBdID0gY29kZVBvaW50O1xuICAgIHJldHVybiAxO1xuICB9XG5cbiAgbGV0IGNvdW50O1xuICBsZXQgb2Zmc2V0O1xuXG4gIGlmIChjb2RlUG9pbnQgPD0gMHgwN2ZmKSB7XG4gICAgY291bnQgPSAxO1xuICAgIG9mZnNldCA9IDB4YzA7XG4gIH0gZWxzZSBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xuICAgIGNvdW50ID0gMjtcbiAgICBvZmZzZXQgPSAweGUwO1xuICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8PSAweDEwZmZmZikge1xuICAgIGNvdW50ID0gMztcbiAgICBvZmZzZXQgPSAweGYwO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtcbiAgfVxuXG4gIGJ5dGVzWzBdID0gKGNvZGVQb2ludCA+PiAoNiAqIGNvdW50KSkgKyBvZmZzZXQ7XG4gIGxldCBpID0gMTtcbiAgZm9yICg7IGNvdW50ID4gMDsgY291bnQtLSkge1xuICAgIGNvbnN0IHRlbXAgPSBjb2RlUG9pbnQgPj4gKDYgKiAoY291bnQgLSAxKSk7XG4gICAgYnl0ZXNbaSsrXSA9IDB4ODAgfCAodGVtcCAmIDB4M2YpO1xuICB9XG4gIHJldHVybiBpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihhOiBzdHJpbmcsIGI6IHN0cmluZykge1xuICByZXR1cm4gY29tcGFyZVVURjgoYSwgYikgPiAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbkVxKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gIHJldHVybiBjb21wYXJlVVRGOChhLCBiKSA+PSAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbihhOiBzdHJpbmcsIGI6IHN0cmluZykge1xuICByZXR1cm4gY29tcGFyZVVURjgoYSwgYikgPCAwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBhXG4gKiBAcGFyYW0ge3N0cmluZ30gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbkVxKGE6IHN0cmluZywgYjogc3RyaW5nKSB7XG4gIHJldHVybiBjb21wYXJlVVRGOChhLCBiKSA8PSAwO1xufVxuIl0sIm5hbWVzIjpbImFMZW5ndGgiLCJiTGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/compare_utf8.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/errors.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexError: () => (/* binding */ ConvexError)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a, _b;\n\nconst IDENTIFYING_FIELD = Symbol.for(\"ConvexError\");\nclass ConvexError extends (_b = Error, _a = IDENTIFYING_FIELD, _b) {\n    constructor(data){\n        super(typeof data === \"string\" ? data : (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.stringifyValueForError)(data));\n        __publicField(this, \"name\", \"ConvexError\");\n        __publicField(this, \"data\");\n        __publicField(this, _a, true);\n        this.data = data;\n    }\n} //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQThDO0FBRTlDLE1BQU0sb0JBQW9CLE9BQU8sSUFBSSxhQUFhO0FBRTNDLE1BQU0scUJBQXlDLFlBR25ELHdCQUhtRCxLQUFNO0lBSzFELFlBQVksS0FBYTtRQUN2QixNQUFNLE9BQU8sU0FBUyxXQUFXLE9BQU8saUVBQXNCLENBQUMsSUFBSSxDQUFDO1FBTHRFLDRCQUFPO1FBQ1A7UUFDQSxvQkFBQyxJQUFxQjtRQUlwQixLQUFLLE9BQU87SUFDZDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3NyYy92YWx1ZXMvZXJyb3JzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFZhbHVlLCBzdHJpbmdpZnlWYWx1ZUZvckVycm9yIH0gZnJvbSBcIi4vdmFsdWUuanNcIjtcblxuY29uc3QgSURFTlRJRllJTkdfRklFTEQgPSBTeW1ib2wuZm9yKFwiQ29udmV4RXJyb3JcIik7XG5cbmV4cG9ydCBjbGFzcyBDb252ZXhFcnJvcjxURGF0YSBleHRlbmRzIFZhbHVlPiBleHRlbmRzIEVycm9yIHtcbiAgbmFtZSA9IFwiQ29udmV4RXJyb3JcIjtcbiAgZGF0YTogVERhdGE7XG4gIFtJREVOVElGWUlOR19GSUVMRF0gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKGRhdGE6IFREYXRhKSB7XG4gICAgc3VwZXIodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgPyBkYXRhIDogc3RyaW5naWZ5VmFsdWVGb3JFcnJvcihkYXRhKSk7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Base64: () => (/* reexport module object */ _base64_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   ConvexError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError),\n/* harmony export */   asObjectValidator: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.asObjectValidator),\n/* harmony export */   compareValues: () => (/* reexport safe */ _compare_js__WEBPACK_IMPORTED_MODULE_4__.compareValues),\n/* harmony export */   convexToJson: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson),\n/* harmony export */   jsonToConvex: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex),\n/* harmony export */   v: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.v)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validator.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _compare_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./compare.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/compare.js\");\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRMkM7QUFPTjtBQTZCYjtBQUNmO0FBRUs7QUFDZ0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2Yvc3JjL3ZhbHVlcy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFV0aWxpdGllcyBmb3Igd29ya2luZyB3aXRoIHZhbHVlcyBzdG9yZWQgaW4gQ29udmV4LlxuICpcbiAqIFlvdSBjYW4gc2VlIHRoZSBmdWxsIHNldCBvZiBzdXBwb3J0ZWQgdHlwZXMgYXRcbiAqIFtUeXBlc10oaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvdXNpbmcvdHlwZXMpLlxuICogQG1vZHVsZVxuICovXG5cbmV4cG9ydCB7IGNvbnZleFRvSnNvbiwganNvblRvQ29udmV4IH0gZnJvbSBcIi4vdmFsdWUuanNcIjtcbmV4cG9ydCB0eXBlIHtcbiAgSWQgYXMgR2VuZXJpY0lkLFxuICBKU09OVmFsdWUsXG4gIFZhbHVlLFxuICBOdW1lcmljVmFsdWUsXG59IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5leHBvcnQgeyB2LCBhc09iamVjdFZhbGlkYXRvciB9IGZyb20gXCIuL3ZhbGlkYXRvci5qc1wiO1xuZXhwb3J0IHR5cGUge1xuICBBc09iamVjdFZhbGlkYXRvcixcbiAgR2VuZXJpY1ZhbGlkYXRvcixcbiAgT2JqZWN0VHlwZSxcbiAgUHJvcGVydHlWYWxpZGF0b3JzLFxufSBmcm9tIFwiLi92YWxpZGF0b3IuanNcIjtcbmV4cG9ydCB0eXBlIHtcbiAgVmFsaWRhdG9ySlNPTixcbiAgUmVjb3JkS2V5VmFsaWRhdG9ySlNPTixcbiAgUmVjb3JkVmFsdWVWYWxpZGF0b3JKU09OLFxuICBPYmplY3RGaWVsZFR5cGUsXG4gIFZhbGlkYXRvcixcbiAgT3B0aW9uYWxQcm9wZXJ0eSxcbiAgVklkLFxuICBWRmxvYXQ2NCxcbiAgVkludDY0LFxuICBWQm9vbGVhbixcbiAgVkJ5dGVzLFxuICBWU3RyaW5nLFxuICBWTnVsbCxcbiAgVkFueSxcbiAgVk9iamVjdCxcbiAgVkxpdGVyYWwsXG4gIFZBcnJheSxcbiAgVlJlY29yZCxcbiAgVlVuaW9uLFxuICBWT3B0aW9uYWwsXG59IGZyb20gXCIuL3ZhbGlkYXRvcnMuanNcIjtcbmltcG9ydCAqIGFzIEJhc2U2NCBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmV4cG9ydCB7IEJhc2U2NCB9O1xuZXhwb3J0IHR5cGUgeyBJbmZlciB9IGZyb20gXCIuL3ZhbGlkYXRvci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgeyBjb21wYXJlVmFsdWVzIH0gZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/validator.js":
/*!**********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validator.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asObjectValidator: () => (/* binding */ asObjectValidator),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   v: () => (/* binding */ v)\n/* harmony export */ });\n/* harmony import */ var _validators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validators.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/validators.js\");\n\n\nfunction isValidator(v2) {\n    return !!v2.isConvexValidator;\n}\nfunction asObjectValidator(obj) {\n    if (isValidator(obj)) {\n        return obj;\n    } else {\n        return v.object(obj);\n    }\n}\nconst v = {\n    /**\n   * Validates that the value corresponds to an ID of a document in given table.\n   * @param tableName The name of the table.\n   */ id: (tableName)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VId({\n            isOptional: \"required\",\n            tableName\n        });\n    },\n    /**\n   * Validates that the value is of type Null.\n   */ null: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VNull({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   *\n   * Alias for `v.float64()`\n   */ number: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   */ float64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * @deprecated Use `v.int64()` instead\n   */ bigint: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Int64 (BigInt in JS).\n   */ int64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type Boolean.\n   */ boolean: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBoolean({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type String.\n   */ string: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VString({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Bytes (constructed in JS via `ArrayBuffer`).\n   */ bytes: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBytes({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is equal to the given literal value.\n   * @param literal The literal value to compare against.\n   */ literal: (literal)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VLiteral({\n            isOptional: \"required\",\n            value: literal\n        });\n    },\n    /**\n   * Validates that the value is an Array of the given element type.\n   * @param element The validator for the elements of the array.\n   */ array: (element)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VArray({\n            isOptional: \"required\",\n            element\n        });\n    },\n    /**\n   * Validates that the value is an Object with the given properties.\n   * @param fields An object specifying the validator for each property.\n   */ object: (fields)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VObject({\n            isOptional: \"required\",\n            fields\n        });\n    },\n    /**\n   * Validates that the value is a Record with keys and values that match the given types.\n   * @param keys The validator for the keys of the record. This cannot contain string literals.\n   * @param values The validator for the values of the record.\n   */ record: (keys, values)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VRecord({\n            isOptional: \"required\",\n            key: keys,\n            value: values\n        });\n    },\n    /**\n   * Validates that the value matches one of the given validators.\n   * @param members The validators to match against.\n   */ union: function() {\n        for(var _len = arguments.length, members = new Array(_len), _key = 0; _key < _len; _key++){\n            members[_key] = arguments[_key];\n        }\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VUnion({\n            isOptional: \"required\",\n            members\n        });\n    },\n    /**\n   * Does not validate the value.\n   */ any: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VAny({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Allows not specifying a value for a property in an Object.\n   * @param value The property value validator to make optional.\n   *\n   * ```typescript\n   * const objectWithOptionalFields = v.object({\n   *   requiredField: v.string(),\n   *   optionalField: v.optional(v.string()),\n   * });\n   * ```\n   */ optional: (value)=>{\n        return value.asOptional();\n    },\n    /**\n   * Allows specifying a value or null.\n   */ nullable: (value)=>{\n        return v.union(value, v.null());\n    }\n}; //# sourceMappingURL=validator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbGlkYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQW1CTztBQVNBLFNBQVMsWUFBWUEsRUFBQUEsRUFBK0I7SUFDekQsT0FBTyxDQUFDLENBQUNBLEdBQUU7QUFDYjtBQVFPLFNBQVMsa0JBR2QsS0FLVTtJQUNWLElBQUksWUFBWSxHQUFHLEdBQUc7UUFDcEIsT0FBTztJQUNULE9BQU87UUFDTCxPQUFPLEVBQUUsT0FBTyxHQUF5QjtJQUMzQztBQUNGO0FBMkJPLE1BQU0sSUFBSTtJQUFBOzs7R0FBQSxHQUtmLElBQUksQ0FBMkI7UUFDN0IsT0FBTyxJQUFJLCtDQUFHLENBQXVCO1lBQ25DLFlBQVk7WUFDWjtRQUNGLENBQUM7SUFDSDtJQUFBOztHQUFBLEdBS0EsTUFBTTtRQUNKLE9BQU8sSUFBSSxpREFBSyxDQUFDO1lBQUUsWUFBWTtRQUFXLENBQUM7SUFDN0M7SUFBQTs7OztHQUFBLEdBT0EsUUFBUTtRQUNOLE9BQU8sSUFBSSxvREFBUSxDQUFDO1lBQUUsWUFBWTtRQUFXLENBQUM7SUFDaEQ7SUFBQTs7R0FBQSxHQUtBLFNBQVM7UUFDUCxPQUFPLElBQUksb0RBQVEsQ0FBQztZQUFFLFlBQVk7UUFBVyxDQUFDO0lBQ2hEO0lBQUE7O0dBQUEsR0FLQSxRQUFRO1FBQ04sT0FBTyxJQUFJLGtEQUFNLENBQUM7WUFBRSxZQUFZO1FBQVcsQ0FBQztJQUM5QztJQUFBOztHQUFBLEdBS0EsT0FBTztRQUNMLE9BQU8sSUFBSSxrREFBTSxDQUFDO1lBQUUsWUFBWTtRQUFXLENBQUM7SUFDOUM7SUFBQTs7R0FBQSxHQUtBLFNBQVM7UUFDUCxPQUFPLElBQUksb0RBQVEsQ0FBQztZQUFFLFlBQVk7UUFBVyxDQUFDO0lBQ2hEO0lBQUE7O0dBQUEsR0FLQSxRQUFRO1FBQ04sT0FBTyxJQUFJLG1EQUFPLENBQUM7WUFBRSxZQUFZO1FBQVcsQ0FBQztJQUMvQztJQUFBOztHQUFBLEdBS0EsT0FBTztRQUNMLE9BQU8sSUFBSSxrREFBTSxDQUFDO1lBQUUsWUFBWTtRQUFXLENBQUM7SUFDOUM7SUFBQTs7O0dBQUEsR0FNQSxTQUFTLENBQStDO1FBQ3RELE9BQU8sSUFBSSxvREFBUSxDQUFJO1lBQUUsWUFBWTtZQUFZLE9BQU87UUFBUSxDQUFDO0lBQ25FO0lBQUE7OztHQUFBLEdBTUEsT0FBTyxDQUE0QztRQUNqRCxPQUFPLElBQUksa0RBQU0sQ0FBaUI7WUFBRSxZQUFZO1lBQVk7UUFBUSxDQUFDO0lBQ3ZFO0lBQUE7OztHQUFBLEdBTUEsUUFBUSxDQUErQjtRQUNyQyxPQUFPLElBQUksbURBQU8sQ0FBbUI7WUFBRSxZQUFZO1lBQVk7UUFBTyxDQUFDO0lBQ3pFO0lBQUE7Ozs7R0FBQSxHQU9BLFFBQVEsQ0FJTixNQUNBO1FBRUEsT0FBTyxJQUFJLG1EQUFPLENBQWdEO1lBQ2hFLFlBQVk7WUFDWixLQUFLO1lBQ0wsT0FBTztRQUNULENBQUM7SUFDSDtJQUFBOzs7R0FBQSxHQU1BLE9BQU87O1lBQWlELFlBQWU7O1FBQ3JFLE9BQU8sSUFBSSxrREFBTSxDQUF1QjtZQUN0QyxZQUFZO1lBQ1o7UUFDRixDQUFDO0lBQ0g7SUFBQTs7R0FBQSxHQUtBLEtBQUs7UUFDSCxPQUFPLElBQUksZ0RBQUksQ0FBQztZQUFFLFlBQVk7UUFBVyxDQUFDO0lBQzVDO0lBQUE7Ozs7Ozs7Ozs7R0FBQSxHQWFBLFVBQVUsQ0FBNkI7UUFDckMsT0FBTyxNQUFNLFdBQVc7SUFDMUI7SUFBQTs7R0FBQSxHQUtBLFVBQVUsQ0FBNEM7UUFDcEQsT0FBTyxFQUFFLE1BQU0sT0FBTyxFQUFFLEtBQUssQ0FBQztJQUNoQztBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3NyYy92YWx1ZXMvdmFsaWRhdG9yLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4cGFuZCB9IGZyb20gXCIuLi90eXBlX3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBHZW5lcmljSWQgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgT3B0aW9uYWxQcm9wZXJ0eSxcbiAgVkFueSxcbiAgVkFycmF5LFxuICBWQm9vbGVhbixcbiAgVkJ5dGVzLFxuICBWRmxvYXQ2NCxcbiAgVklkLFxuICBWSW50NjQsXG4gIFZMaXRlcmFsLFxuICBWTnVsbCxcbiAgVk9iamVjdCxcbiAgVk9wdGlvbmFsLFxuICBWUmVjb3JkLFxuICBWU3RyaW5nLFxuICBWVW5pb24sXG4gIFZhbGlkYXRvcixcbn0gZnJvbSBcIi4vdmFsaWRhdG9ycy5qc1wiO1xuXG4vKipcbiAqIFRoZSB0eXBlIHRoYXQgYWxsIHZhbGlkYXRvcnMgbXVzdCBleHRlbmQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBHZW5lcmljVmFsaWRhdG9yID0gVmFsaWRhdG9yPGFueSwgYW55LCBhbnk+O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZGF0b3IodjogYW55KTogdiBpcyBHZW5lcmljVmFsaWRhdG9yIHtcbiAgcmV0dXJuICEhdi5pc0NvbnZleFZhbGlkYXRvcjtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYW4gb2JqZWN0IHdpdGggdmFsaWRhdG9ycyBhcyBwcm9wZXJ0aWVzIHRvIGEgdmFsaWRhdG9yLlxuICogSWYgYSB2YWxpZGF0b3IgaXMgcGFzc2VkLCByZXR1cm4gaXQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNPYmplY3RWYWxpZGF0b3I8XG4gIFYgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBhbnksIGFueT4gfCBQcm9wZXJ0eVZhbGlkYXRvcnMsXG4+KFxuICBvYmo6IFYsXG4pOiBWIGV4dGVuZHMgVmFsaWRhdG9yPGFueSwgYW55LCBhbnk+XG4gID8gVlxuICA6IFYgZXh0ZW5kcyBQcm9wZXJ0eVZhbGlkYXRvcnNcbiAgICA/IFZhbGlkYXRvcjxPYmplY3RUeXBlPFY+PlxuICAgIDogbmV2ZXIge1xuICBpZiAoaXNWYWxpZGF0b3Iob2JqKSkge1xuICAgIHJldHVybiBvYmogYXMgYW55O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2Lm9iamVjdChvYmogYXMgUHJvcGVydHlWYWxpZGF0b3JzKSBhcyBhbnk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb2VyY2UgYW4gb2JqZWN0IHdpdGggdmFsaWRhdG9ycyBhcyBwcm9wZXJ0aWVzIHRvIGEgdmFsaWRhdG9yLlxuICogSWYgYSB2YWxpZGF0b3IgaXMgcGFzc2VkLCByZXR1cm4gaXQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBBc09iamVjdFZhbGlkYXRvcjxcbiAgViBleHRlbmRzIFZhbGlkYXRvcjxhbnksIGFueSwgYW55PiB8IFByb3BlcnR5VmFsaWRhdG9ycyxcbj4gPVxuICBWIGV4dGVuZHMgVmFsaWRhdG9yPGFueSwgYW55LCBhbnk+XG4gICAgPyBWXG4gICAgOiBWIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3JzXG4gICAgICA/IFZhbGlkYXRvcjxPYmplY3RUeXBlPFY+PlxuICAgICAgOiBuZXZlcjtcblxuLyoqXG4gKiBUaGUgdmFsaWRhdG9yIGJ1aWxkZXIuXG4gKlxuICogVGhpcyBidWlsZGVyIGFsbG93cyB5b3UgdG8gYnVpbGQgdmFsaWRhdG9ycyBmb3IgQ29udmV4IHZhbHVlcy5cbiAqXG4gKiBWYWxpZGF0b3JzIGNhbiBiZSB1c2VkIGluIFtzY2hlbWEgZGVmaW5pdGlvbnNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2RhdGFiYXNlL3NjaGVtYXMpXG4gKiBhbmQgYXMgaW5wdXQgdmFsaWRhdG9ycyBmb3IgQ29udmV4IGZ1bmN0aW9ucy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB2ID0ge1xuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGNvcnJlc3BvbmRzIHRvIGFuIElEIG9mIGEgZG9jdW1lbnQgaW4gZ2l2ZW4gdGFibGUuXG4gICAqIEBwYXJhbSB0YWJsZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHRhYmxlLlxuICAgKi9cbiAgaWQ6IDxUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KHRhYmxlTmFtZTogVGFibGVOYW1lKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWSWQ8R2VuZXJpY0lkPFRhYmxlTmFtZT4+KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIixcbiAgICAgIHRhYmxlTmFtZSxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIHR5cGUgTnVsbC5cbiAgICovXG4gIG51bGw6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZOdWxsKHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgQ29udmV4IHR5cGUgRmxvYXQ2NCAoTnVtYmVyIGluIEpTKS5cbiAgICpcbiAgICogQWxpYXMgZm9yIGB2LmZsb2F0NjQoKWBcbiAgICovXG4gIG51bWJlcjogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiBDb252ZXggdHlwZSBGbG9hdDY0IChOdW1iZXIgaW4gSlMpLlxuICAgKi9cbiAgZmxvYXQ2NDogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgdi5pbnQ2NCgpYCBpbnN0ZWFkXG4gICAqL1xuICBiaWdpbnQ6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZJbnQ2NCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIENvbnZleCB0eXBlIEludDY0IChCaWdJbnQgaW4gSlMpLlxuICAgKi9cbiAgaW50NjQ6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZJbnQ2NCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIHR5cGUgQm9vbGVhbi5cbiAgICovXG4gIGJvb2xlYW46ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZCb29sZWFuKHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgdHlwZSBTdHJpbmcuXG4gICAqL1xuICBzdHJpbmc6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZTdHJpbmcoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiBDb252ZXggdHlwZSBCeXRlcyAoY29uc3RydWN0ZWQgaW4gSlMgdmlhIGBBcnJheUJ1ZmZlcmApLlxuICAgKi9cbiAgYnl0ZXM6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZCeXRlcyh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGVxdWFsIHRvIHRoZSBnaXZlbiBsaXRlcmFsIHZhbHVlLlxuICAgKiBAcGFyYW0gbGl0ZXJhbCBUaGUgbGl0ZXJhbCB2YWx1ZSB0byBjb21wYXJlIGFnYWluc3QuXG4gICAqL1xuICBsaXRlcmFsOiA8VCBleHRlbmRzIHN0cmluZyB8IG51bWJlciB8IGJpZ2ludCB8IGJvb2xlYW4+KGxpdGVyYWw6IFQpID0+IHtcbiAgICByZXR1cm4gbmV3IFZMaXRlcmFsPFQ+KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLCB2YWx1ZTogbGl0ZXJhbCB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGFuIEFycmF5IG9mIHRoZSBnaXZlbiBlbGVtZW50IHR5cGUuXG4gICAqIEBwYXJhbSBlbGVtZW50IFRoZSB2YWxpZGF0b3IgZm9yIHRoZSBlbGVtZW50cyBvZiB0aGUgYXJyYXkuXG4gICAqL1xuICBhcnJheTogPFQgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT4+KGVsZW1lbnQ6IFQpID0+IHtcbiAgICByZXR1cm4gbmV3IFZBcnJheTxUW1widHlwZVwiXVtdLCBUPih7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiwgZWxlbWVudCB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGFuIE9iamVjdCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gZmllbGRzIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSB2YWxpZGF0b3IgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAqL1xuICBvYmplY3Q6IDxUIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3JzPihmaWVsZHM6IFQpID0+IHtcbiAgICByZXR1cm4gbmV3IFZPYmplY3Q8T2JqZWN0VHlwZTxUPiwgVD4oeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIsIGZpZWxkcyB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGEgUmVjb3JkIHdpdGgga2V5cyBhbmQgdmFsdWVzIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIHR5cGVzLlxuICAgKiBAcGFyYW0ga2V5cyBUaGUgdmFsaWRhdG9yIGZvciB0aGUga2V5cyBvZiB0aGUgcmVjb3JkLiBUaGlzIGNhbm5vdCBjb250YWluIHN0cmluZyBsaXRlcmFscy5cbiAgICogQHBhcmFtIHZhbHVlcyBUaGUgdmFsaWRhdG9yIGZvciB0aGUgdmFsdWVzIG9mIHRoZSByZWNvcmQuXG4gICAqL1xuICByZWNvcmQ6IDxcbiAgICBLZXkgZXh0ZW5kcyBWYWxpZGF0b3I8c3RyaW5nLCBcInJlcXVpcmVkXCIsIGFueT4sXG4gICAgVmFsdWUgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT4sXG4gID4oXG4gICAga2V5czogS2V5LFxuICAgIHZhbHVlczogVmFsdWUsXG4gICkgPT4ge1xuICAgIHJldHVybiBuZXcgVlJlY29yZDxSZWNvcmQ8SW5mZXI8S2V5PiwgVmFsdWVbXCJ0eXBlXCJdPiwgS2V5LCBWYWx1ZT4oe1xuICAgICAgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLFxuICAgICAga2V5OiBrZXlzLFxuICAgICAgdmFsdWU6IHZhbHVlcyxcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIG1hdGNoZXMgb25lIG9mIHRoZSBnaXZlbiB2YWxpZGF0b3JzLlxuICAgKiBAcGFyYW0gbWVtYmVycyBUaGUgdmFsaWRhdG9ycyB0byBtYXRjaCBhZ2FpbnN0LlxuICAgKi9cbiAgdW5pb246IDxUIGV4dGVuZHMgVmFsaWRhdG9yPGFueSwgXCJyZXF1aXJlZFwiLCBhbnk+W10+KC4uLm1lbWJlcnM6IFQpID0+IHtcbiAgICByZXR1cm4gbmV3IFZVbmlvbjxUW251bWJlcl1bXCJ0eXBlXCJdLCBUPih7XG4gICAgICBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIsXG4gICAgICBtZW1iZXJzLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEb2VzIG5vdCB2YWxpZGF0ZSB0aGUgdmFsdWUuXG4gICAqL1xuICBhbnk6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZBbnkoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFsbG93cyBub3Qgc3BlY2lmeWluZyBhIHZhbHVlIGZvciBhIHByb3BlcnR5IGluIGFuIE9iamVjdC5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSBwcm9wZXJ0eSB2YWx1ZSB2YWxpZGF0b3IgdG8gbWFrZSBvcHRpb25hbC5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCBvYmplY3RXaXRoT3B0aW9uYWxGaWVsZHMgPSB2Lm9iamVjdCh7XG4gICAqICAgcmVxdWlyZWRGaWVsZDogdi5zdHJpbmcoKSxcbiAgICogICBvcHRpb25hbEZpZWxkOiB2Lm9wdGlvbmFsKHYuc3RyaW5nKCkpLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBvcHRpb25hbDogPFQgZXh0ZW5kcyBHZW5lcmljVmFsaWRhdG9yPih2YWx1ZTogVCkgPT4ge1xuICAgIHJldHVybiB2YWx1ZS5hc09wdGlvbmFsKCkgYXMgVk9wdGlvbmFsPFQ+O1xuICB9LFxuXG4gIC8qKlxuICAgKiBBbGxvd3Mgc3BlY2lmeWluZyBhIHZhbHVlIG9yIG51bGwuXG4gICAqL1xuICBudWxsYWJsZTogPFQgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT4+KHZhbHVlOiBUKSA9PiB7XG4gICAgcmV0dXJuIHYudW5pb24odmFsdWUsIHYubnVsbCgpKTtcbiAgfSxcbn07XG5cbi8qKlxuICogVmFsaWRhdG9ycyBmb3IgZWFjaCBwcm9wZXJ0eSBvZiBhbiBvYmplY3QuXG4gKlxuICogVGhpcyBpcyByZXByZXNlbnRlZCBhcyBhbiBvYmplY3QgbWFwcGluZyB0aGUgcHJvcGVydHkgbmFtZSB0byBpdHNcbiAqIHtAbGluayBWYWxpZGF0b3J9LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHJvcGVydHlWYWxpZGF0b3JzID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIFZhbGlkYXRvcjxhbnksIE9wdGlvbmFsUHJvcGVydHksIGFueT5cbj47XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgdHlwZSBvZiBhbiBvYmplY3QgZnJvbSB7QGxpbmsgUHJvcGVydHlWYWxpZGF0b3JzfS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE9iamVjdFR5cGU8RmllbGRzIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3JzPiA9IEV4cGFuZDxcbiAgLy8gTWFwIGVhY2gga2V5IHRvIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IHZhbGlkYXRvcidzIHR5cGUgbWFraW5nXG4gIC8vIHRoZSBvcHRpb25hbCBvbmVzIG9wdGlvbmFsLlxuICB7XG4gICAgLy8gVGhpcyBgRXhjbHVkZTwuLi4sIHVuZGVmaW5lZD5gIGRvZXMgbm90aGluZyB1bmxlc3NcbiAgICAvLyB0aGUgdHNjb25maWcuanNvbiBvcHRpb24gYFwiZXhhY3RPcHRpb25hbFByb3BlcnR5VHlwZXNcIjogdHJ1ZSxgXG4gICAgLy8gaXMgdXNlZC4gV2hlbiBpdCBpcyBpdCByZXN1bHRzIGluIGEgbW9yZSBhY2N1cmF0ZSB0eXBlLlxuICAgIC8vIFdoZW4gaXQgaXMgbm90IHRoZSBgRXhjbHVkZWAgcmVtb3ZlcyBgdW5kZWZpbmVkYCBidXQgaXQgaXNcbiAgICAvLyBhZGRlZCBhZ2FpbiBieSB0aGUgb3B0aW9uYWwgcHJvcGVydHkuXG4gICAgW1Byb3BlcnR5IGluIE9wdGlvbmFsS2V5czxGaWVsZHM+XT86IEV4Y2x1ZGU8XG4gICAgICBJbmZlcjxGaWVsZHNbUHJvcGVydHldPixcbiAgICAgIHVuZGVmaW5lZFxuICAgID47XG4gIH0gJiB7XG4gICAgW1Byb3BlcnR5IGluIFJlcXVpcmVkS2V5czxGaWVsZHM+XTogSW5mZXI8RmllbGRzW1Byb3BlcnR5XT47XG4gIH1cbj47XG5cbnR5cGUgT3B0aW9uYWxLZXlzPFByb3BlcnR5VmFsaWRhdG9ycyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEdlbmVyaWNWYWxpZGF0b3I+PiA9XG4gIHtcbiAgICBbUHJvcGVydHkgaW4ga2V5b2YgUHJvcGVydHlWYWxpZGF0b3JzXTogUHJvcGVydHlWYWxpZGF0b3JzW1Byb3BlcnR5XVtcImlzT3B0aW9uYWxcIl0gZXh0ZW5kcyBcIm9wdGlvbmFsXCJcbiAgICAgID8gUHJvcGVydHlcbiAgICAgIDogbmV2ZXI7XG4gIH1ba2V5b2YgUHJvcGVydHlWYWxpZGF0b3JzXTtcblxudHlwZSBSZXF1aXJlZEtleXM8UHJvcGVydHlWYWxpZGF0b3JzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgR2VuZXJpY1ZhbGlkYXRvcj4+ID1cbiAgRXhjbHVkZTxrZXlvZiBQcm9wZXJ0eVZhbGlkYXRvcnMsIE9wdGlvbmFsS2V5czxQcm9wZXJ0eVZhbGlkYXRvcnM+PjtcblxuLyoqXG4gKiBFeHRyYWN0IGEgVHlwZVNjcmlwdCB0eXBlIGZyb20gYSB2YWxpZGF0b3IuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGBgYHRzXG4gKiBjb25zdCBvYmplY3RTY2hlbWEgPSB2Lm9iamVjdCh7XG4gKiAgIHByb3BlcnR5OiB2LnN0cmluZygpLFxuICogfSk7XG4gKiB0eXBlIE15T2JqZWN0ID0gSW5mZXI8dHlwZW9mIG9iamVjdFNjaGVtYT47IC8vIHsgcHJvcGVydHk6IHN0cmluZyB9XG4gKiBgYGBcbiAqIEB0eXBlUGFyYW0gViAtIFRoZSB0eXBlIG9mIGEge0BsaW5rIFZhbGlkYXRvcn0gY29uc3RydWN0ZWQgd2l0aCB7QGxpbmsgdn0uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBJbmZlcjxUIGV4dGVuZHMgVmFsaWRhdG9yPGFueSwgT3B0aW9uYWxQcm9wZXJ0eSwgYW55Pj4gPSBUW1widHlwZVwiXTtcbiJdLCJuYW1lcyI6WyJ2Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/validator.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/validators.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validators.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VAny: () => (/* binding */ VAny),\n/* harmony export */   VArray: () => (/* binding */ VArray),\n/* harmony export */   VBoolean: () => (/* binding */ VBoolean),\n/* harmony export */   VBytes: () => (/* binding */ VBytes),\n/* harmony export */   VFloat64: () => (/* binding */ VFloat64),\n/* harmony export */   VId: () => (/* binding */ VId),\n/* harmony export */   VInt64: () => (/* binding */ VInt64),\n/* harmony export */   VLiteral: () => (/* binding */ VLiteral),\n/* harmony export */   VNull: () => (/* binding */ VNull),\n/* harmony export */   VObject: () => (/* binding */ VObject),\n/* harmony export */   VRecord: () => (/* binding */ VRecord),\n/* harmony export */   VString: () => (/* binding */ VString),\n/* harmony export */   VUnion: () => (/* binding */ VUnion)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nclass BaseValidator {\n    constructor({ isOptional }){\n        /**\n     * Only for TypeScript, the TS type of the JS values validated\n     * by this validator.\n     */ __publicField(this, \"type\");\n        /**\n     * Only for TypeScript, if this an Object validator, then\n     * this is the TS type of its property names.\n     */ __publicField(this, \"fieldPaths\");\n        /**\n     * Whether this is an optional Object property value validator.\n     */ __publicField(this, \"isOptional\");\n        /**\n     * Always `\"true\"`.\n     */ __publicField(this, \"isConvexValidator\");\n        this.isOptional = isOptional;\n        this.isConvexValidator = true;\n    }\n}\nclass VId extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: \"id\",\n            tableName: this.tableName\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VId({\n            isOptional: \"optional\",\n            tableName: this.tableName\n        });\n    }\n    /**\n   * Usually you'd use `v.id(tableName)` instead.\n   */ constructor({ isOptional, tableName }){\n        super({\n            isOptional\n        });\n        /**\n     * The name of the table that the validated IDs must belong to.\n     */ __publicField(this, \"tableName\");\n        /**\n     * The kind of validator, `\"id\"`.\n     */ __publicField(this, \"kind\", \"id\");\n        if (typeof tableName !== \"string\") {\n            throw new Error(\"v.id(tableName) requires a string\");\n        }\n        this.tableName = tableName;\n    }\n}\nclass VFloat64 extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: \"number\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VFloat64({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"float64\"`.\n     */ __publicField(this, \"kind\", \"float64\");\n    }\n}\nclass VInt64 extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: \"bigint\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VInt64({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"int64\"`.\n     */ __publicField(this, \"kind\", \"int64\");\n    }\n}\nclass VBoolean extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBoolean({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"boolean\"`.\n     */ __publicField(this, \"kind\", \"boolean\");\n    }\n}\nclass VBytes extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBytes({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"bytes\"`.\n     */ __publicField(this, \"kind\", \"bytes\");\n    }\n}\nclass VString extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VString({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"string\"`.\n     */ __publicField(this, \"kind\", \"string\");\n    }\n}\nclass VNull extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VNull({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"null\"`.\n     */ __publicField(this, \"kind\", \"null\");\n    }\n}\nclass VAny extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VAny({\n            isOptional: \"optional\"\n        });\n    }\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"any\"`.\n     */ __publicField(this, \"kind\", \"any\");\n    }\n}\nclass VObject extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map((param)=>{\n                let [k, v] = param;\n                return [\n                    k,\n                    {\n                        fieldType: v.json,\n                        optional: v.isOptional === \"optional\" ? true : false\n                    }\n                ];\n            }))\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VObject({\n            isOptional: \"optional\",\n            fields: this.fields\n        });\n    }\n    /**\n   * Create a new VObject with the specified fields omitted.\n   * @param fields The field names to omit from this VObject.\n   */ omit() {\n        for(var _len = arguments.length, fields = new Array(_len), _key = 0; _key < _len; _key++){\n            fields[_key] = arguments[_key];\n        }\n        const newFields = {\n            ...this.fields\n        };\n        for (const field of fields){\n            delete newFields[field];\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with only the specified fields.\n   * @param fields The field names to pick from this VObject.\n   */ pick() {\n        for(var _len = arguments.length, fields = new Array(_len), _key = 0; _key < _len; _key++){\n            fields[_key] = arguments[_key];\n        }\n        const newFields = {};\n        for (const field of fields){\n            newFields[field] = this.fields[field];\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with all fields marked as optional.\n   */ partial() {\n        const newFields = {};\n        for (const [key, validator] of globalThis.Object.entries(this.fields)){\n            newFields[key] = validator.asOptional();\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with additional fields merged in.\n   * @param fields An object with additional validators to merge into this VObject.\n   */ extend(fields) {\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: {\n                ...this.fields,\n                ...fields\n            }\n        });\n    }\n    /**\n   * Usually you'd use `v.object({ ... })` instead.\n   */ constructor({ isOptional, fields }){\n        super({\n            isOptional\n        });\n        /**\n     * An object with the validator for each property.\n     */ __publicField(this, \"fields\");\n        /**\n     * The kind of validator, `\"object\"`.\n     */ __publicField(this, \"kind\", \"object\");\n        globalThis.Object.values(fields).forEach((v)=>{\n            if (!v.isConvexValidator) {\n                throw new Error(\"v.object() entries must be validators\");\n            }\n        });\n        this.fields = fields;\n    }\n}\nclass VLiteral extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(this.value)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VLiteral({\n            isOptional: \"optional\",\n            value: this.value\n        });\n    }\n    /**\n   * Usually you'd use `v.literal(value)` instead.\n   */ constructor({ isOptional, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The value that the validated values must be equal to.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"literal\"`.\n     */ __publicField(this, \"kind\", \"literal\");\n        if (typeof value !== \"string\" && typeof value !== \"boolean\" && typeof value !== \"number\" && typeof value !== \"bigint\") {\n            throw new Error(\"v.literal(value) must be a string, number, or boolean\");\n        }\n        this.value = value;\n    }\n}\nclass VArray extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.element.json\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VArray({\n            isOptional: \"optional\",\n            element: this.element\n        });\n    }\n    /**\n   * Usually you'd use `v.array(element)` instead.\n   */ constructor({ isOptional, element }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the elements of the array.\n     */ __publicField(this, \"element\");\n        /**\n     * The kind of validator, `\"array\"`.\n     */ __publicField(this, \"kind\", \"array\");\n        this.element = element;\n    }\n}\nclass VRecord extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            // This cast is needed because TypeScript thinks the key type is too wide\n            keys: this.key.json,\n            values: {\n                fieldType: this.value.json,\n                optional: false\n            }\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VRecord({\n            isOptional: \"optional\",\n            key: this.key,\n            value: this.value\n        });\n    }\n    /**\n   * Usually you'd use `v.record(key, value)` instead.\n   */ constructor({ isOptional, key, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the keys of the record.\n     */ __publicField(this, \"key\");\n        /**\n     * The validator for the values of the record.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"record\"`.\n     */ __publicField(this, \"kind\", \"record\");\n        if (key.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional keys\");\n        }\n        if (value.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional values\");\n        }\n        if (!key.isConvexValidator || !value.isConvexValidator) {\n            throw new Error(\"Key and value of v.record() but be validators\");\n        }\n        this.key = key;\n        this.value = value;\n    }\n}\nclass VUnion extends BaseValidator {\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.members.map((v)=>v.json)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VUnion({\n            isOptional: \"optional\",\n            members: this.members\n        });\n    }\n    /**\n   * Usually you'd use `v.union(...members)` instead.\n   */ constructor({ isOptional, members }){\n        super({\n            isOptional\n        });\n        /**\n     * The array of validators, one of which must match the value.\n     */ __publicField(this, \"members\");\n        /**\n     * The kind of validator, `\"union\"`.\n     */ __publicField(this, \"kind\", \"union\");\n        members.forEach((member)=>{\n            if (!member.isConvexValidator) {\n                throw new Error(\"All members of v.union() must be validators\");\n            }\n        });\n        this.members = members;\n    }\n} //# sourceMappingURL=validators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbGlkYXRvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHd0M7QUFTeEMsTUFBZSxjQUliO0lBc0JBLFlBQVksRUFBRSxXQUFXLEVBQStCO1FBakJ4RDs7O0tBQUEsdUJBQVM7UUFLVDs7O0tBQUEsdUJBQVM7UUFLVDs7S0FBQSx1QkFBUztRQUtUOztLQUFBLHVCQUFTO1FBR1AsS0FBSyxhQUFhO1FBQ2xCLEtBQUssb0JBQW9CO0lBQzNCO0FBS0Y7QUFLTyxNQUFNLFlBR0gsY0FBZ0M7SUEwQnhDLGlCQUVBLElBQUksT0FBc0I7UUFDeEIsT0FBTztZQUFFLE1BQU07WUFBTSxXQUFXLEtBQUs7UUFBVTtJQUNqRDtJQUFBLGlCQUVBLGFBQWE7UUFDWCxPQUFPLElBQUksSUFBa0M7WUFDM0MsWUFBWTtZQUNaLFdBQVcsS0FBSztRQUNsQixDQUFDO0lBQ0g7SUFyQ3dDOztHQUFBLEdBY3hDLFlBQVksRUFDVixZQUNBLFdBQ0YsQ0FHRztRQUNELE1BQU07WUFBRTtRQUFXLENBQUM7UUFqQnRCOztLQUFBLHVCQUFTO1FBS1Q7O0tBQUEsdUJBQVMsUUFBTztRQWFkLElBQUksT0FBTyxjQUFjLFVBQVU7WUFDakMsTUFBTSxJQUFJLE1BQU0sbUNBQW1DO1FBQ3JEO1FBQ0EsS0FBSyxZQUFZO0lBQ25CO0FBWUY7QUFLTyxNQUFNLGlCQUdILGNBQWdDO0lBSXhCLGlCQUdoQixJQUFJLE9BQXNCO1FBRXhCLE9BQU87WUFBRSxNQUFNO1FBQVM7SUFDMUI7SUFBQSxpQkFFQSxhQUFhO1FBQ1gsT0FBTyxJQUFJLFNBQXVDO1lBQ2hELFlBQVk7UUFDZCxDQUFDO0lBQ0g7SUFuQks7UUFBQTtRQU9MOztLQUFBLHVCQUFTLFFBQU87SUFBQTtBQWFsQjtBQUtPLE1BQU0sZUFHSCxjQUFnQztJQUl4QixpQkFHaEIsSUFBSSxPQUFzQjtRQUV4QixP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OEM7UUFDaEU7UUFDQSxJQUFJLENBQUMsSUFBSSxxQkFBcUIsQ0FBQyxNQUFNLG1CQUFtQjtZQUN0RCxNQUFNLElBQUksTUFBTSwrQ0FBK0M7UUFDakU7UUFDQSxLQUFLLE1BQU07UUFDWCxLQUFLLFFBQVE7SUFDZjtBQXFCRjtBQUtPLE1BQU0sZUFLSCxjQUE0QztJQXNCcEQsaUJBRUEsSUFBSSxPQUFzQjtRQUN4QixPQUFPO1lBQ0wsTUFBTSxLQUFLO1lBQ1gsT0FBTyxLQUFLLFFBQVEsSUFBSSxDQUFDLElBQU0sRUFBRSxJQUFJO1FBQ3ZDO0lBQ0Y7SUFBQSxpQkFFQSxhQUFhO1FBQ1gsT0FBTyxJQUFJLE9BQXdDO1lBQ2pELFlBQVk7WUFDWixTQUFTLEtBQUs7UUFDaEIsQ0FBQztJQUNIO0lBcENvRDs7R0FBQSxHQWNwRCxZQUFZLEVBQUUsWUFBWSxRQUFRLEVBQTJDO1FBQzNFLE1BQU07WUFBRTtRQUFXLENBQUM7UUFYdEI7O0tBQUEsdUJBQVM7UUFLVDs7S0FBQSx1QkFBUyxRQUFPO1FBT2QsUUFBUSxRQUFRLENBQUM7WUFDZixJQUFJLENBQUMsT0FBTyxtQkFBbUI7Z0JBQzdCLE1BQU0sSUFBSSxNQUFNLDZDQUE2QztZQUMvRDtRQUNGLENBQUM7UUFDRCxLQUFLLFVBQVU7SUFDakI7QUFlRiIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvdmFsdWVzL3ZhbGlkYXRvcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhwYW5kIH0gZnJvbSBcIi4uL3R5cGVfdXRpbHMuanNcIjtcbmltcG9ydCB7IEdlbmVyaWNJZCB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBHZW5lcmljVmFsaWRhdG9yLCBPYmplY3RUeXBlIH0gZnJvbSBcIi4vdmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgeyBKU09OVmFsdWUsIGNvbnZleFRvSnNvbiB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5cbnR5cGUgVGFibGVOYW1lRnJvbVR5cGU8VD4gPVxuICBUIGV4dGVuZHMgR2VuZXJpY0lkPGluZmVyIFRhYmxlTmFtZT4gPyBUYWJsZU5hbWUgOiBzdHJpbmc7XG5cbi8qKlxuICogQXZvaWQgdXNpbmcgYGluc3RhbmNlb2YgQmFzZVZhbGlkYXRvcmA7IHRoaXMgaXMgaW5oZXJpdGVuY2UgZm9yIGNvZGUgcmV1c2VcbiAqIG5vdCB0eXBlIGhlaXJhcmNoeS5cbiAqL1xuYWJzdHJhY3QgY2xhc3MgQmFzZVZhbGlkYXRvcjxcbiAgVHlwZSxcbiAgSXNPcHRpb25hbCBleHRlbmRzIE9wdGlvbmFsUHJvcGVydHkgPSBcInJlcXVpcmVkXCIsXG4gIEZpZWxkUGF0aHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcbj4ge1xuICAvKipcbiAgICogT25seSBmb3IgVHlwZVNjcmlwdCwgdGhlIFRTIHR5cGUgb2YgdGhlIEpTIHZhbHVlcyB2YWxpZGF0ZWRcbiAgICogYnkgdGhpcyB2YWxpZGF0b3IuXG4gICAqL1xuICByZWFkb25seSB0eXBlITogVHlwZTtcbiAgLyoqXG4gICAqIE9ubHkgZm9yIFR5cGVTY3JpcHQsIGlmIHRoaXMgYW4gT2JqZWN0IHZhbGlkYXRvciwgdGhlblxuICAgKiB0aGlzIGlzIHRoZSBUUyB0eXBlIG9mIGl0cyBwcm9wZXJ0eSBuYW1lcy5cbiAgICovXG4gIHJlYWRvbmx5IGZpZWxkUGF0aHMhOiBGaWVsZFBhdGhzO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgaXMgYW4gb3B0aW9uYWwgT2JqZWN0IHByb3BlcnR5IHZhbHVlIHZhbGlkYXRvci5cbiAgICovXG4gIHJlYWRvbmx5IGlzT3B0aW9uYWw6IElzT3B0aW9uYWw7XG5cbiAgLyoqXG4gICAqIEFsd2F5cyBgXCJ0cnVlXCJgLlxuICAgKi9cbiAgcmVhZG9ubHkgaXNDb252ZXhWYWxpZGF0b3I6IHRydWU7XG5cbiAgY29uc3RydWN0b3IoeyBpc09wdGlvbmFsIH06IHsgaXNPcHRpb25hbDogSXNPcHRpb25hbCB9KSB7XG4gICAgdGhpcy5pc09wdGlvbmFsID0gaXNPcHRpb25hbDtcbiAgICB0aGlzLmlzQ29udmV4VmFsaWRhdG9yID0gdHJ1ZTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFic3RyYWN0IGdldCBqc29uKCk6IFZhbGlkYXRvckpTT047XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYWJzdHJhY3QgYXNPcHRpb25hbCgpOiBWYWxpZGF0b3I8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiLCBGaWVsZFBhdGhzPjtcbn1cblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgYHYuaWQodGFibGVOYW1lKWAgdmFsaWRhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVklkPFxuICBUeXBlLFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbj4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yPFR5cGUsIElzT3B0aW9uYWw+IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSB0YWJsZSB0aGF0IHRoZSB2YWxpZGF0ZWQgSURzIG11c3QgYmVsb25nIHRvLlxuICAgKi9cbiAgcmVhZG9ubHkgdGFibGVOYW1lOiBUYWJsZU5hbWVGcm9tVHlwZTxUeXBlPjtcblxuICAvKipcbiAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJpZFwiYC5cbiAgICovXG4gIHJlYWRvbmx5IGtpbmQgPSBcImlkXCIgYXMgY29uc3Q7XG5cbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LmlkKHRhYmxlTmFtZSlgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICB0YWJsZU5hbWUsXG4gIH06IHtcbiAgICBpc09wdGlvbmFsOiBJc09wdGlvbmFsO1xuICAgIHRhYmxlTmFtZTogVGFibGVOYW1lRnJvbVR5cGU8VHlwZT47XG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgaWYgKHR5cGVvZiB0YWJsZU5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInYuaWQodGFibGVOYW1lKSByZXF1aXJlcyBhIHN0cmluZ1wiKTtcbiAgICB9XG4gICAgdGhpcy50YWJsZU5hbWUgPSB0YWJsZU5hbWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpOiBWYWxpZGF0b3JKU09OIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImlkXCIsIHRhYmxlTmFtZTogdGhpcy50YWJsZU5hbWUgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWSWQ8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPih7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICB0YWJsZU5hbWU6IHRoaXMudGFibGVOYW1lLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGB2LmZsb2F0NjQoKWAgdmFsaWRhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVkZsb2F0NjQ8XG4gIFR5cGUgPSBudW1iZXIsXG4gIElzT3B0aW9uYWwgZXh0ZW5kcyBPcHRpb25hbFByb3BlcnR5ID0gXCJyZXF1aXJlZFwiLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbD4ge1xuICAvKipcbiAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJmbG9hdDY0XCJgLlxuICAgKi9cbiAgcmVhZG9ubHkga2luZCA9IFwiZmxvYXQ2NFwiIGFzIGNvbnN0O1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKTogVmFsaWRhdG9ySlNPTiB7XG4gICAgLy8gU2VydmVyIGV4cGVjdHMgdGhlIG9sZCBuYW1lIGBudW1iZXJgIHN0cmluZyBpbnN0ZWFkIG9mIGBmbG9hdDY0YC5cbiAgICByZXR1cm4geyB0eXBlOiBcIm51bWJlclwiIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQ8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPih7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgYHYuaW50NjQoKWAgdmFsaWRhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVkludDY0PFxuICBUeXBlID0gYmlnaW50LFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbj4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yPFR5cGUsIElzT3B0aW9uYWw+IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiaW50NjRcImAuXG4gICAqL1xuICByZWFkb25seSBraW5kID0gXCJpbnQ2NFwiIGFzIGNvbnN0O1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKTogVmFsaWRhdG9ySlNPTiB7XG4gICAgLy8gU2VydmVyIGV4cGVjdHMgdGhlIG9sZCBuYW1lIGBiaWdpbnRgLlxuICAgIHJldHVybiB7IHR5cGU6IFwiYmlnaW50XCIgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWSW50NjQ8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPih7IGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIiB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBgdi5ib29sZWFuKClgIHZhbGlkYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIFZCb29sZWFuPFxuICBUeXBlID0gYm9vbGVhbixcbiAgSXNPcHRpb25hbCBleHRlbmRzIE9wdGlvbmFsUHJvcGVydHkgPSBcInJlcXVpcmVkXCIsXG4+IGV4dGVuZHMgQmFzZVZhbGlkYXRvcjxUeXBlLCBJc09wdGlvbmFsPiB7XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJvb2xlYW5cImAuXG4gICAqL1xuICByZWFkb25seSBraW5kID0gXCJib29sZWFuXCIgYXMgY29uc3Q7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpOiBWYWxpZGF0b3JKU09OIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQm9vbGVhbjxUeXBlIHwgdW5kZWZpbmVkLCBcIm9wdGlvbmFsXCI+KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIixcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBgdi5ieXRlcygpYCB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBWQnl0ZXM8XG4gIFR5cGUgPSBBcnJheUJ1ZmZlcixcbiAgSXNPcHRpb25hbCBleHRlbmRzIE9wdGlvbmFsUHJvcGVydHkgPSBcInJlcXVpcmVkXCIsXG4+IGV4dGVuZHMgQmFzZVZhbGlkYXRvcjxUeXBlLCBJc09wdGlvbmFsPiB7XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJ5dGVzXCJgLlxuICAgKi9cbiAgcmVhZG9ubHkga2luZCA9IFwiYnl0ZXNcIiBhcyBjb25zdDtcblxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCk6IFZhbGlkYXRvckpTT04ge1xuICAgIHJldHVybiB7IHR5cGU6IHRoaXMua2luZCB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZCeXRlczxUeXBlIHwgdW5kZWZpbmVkLCBcIm9wdGlvbmFsXCI+KHsgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGB2LnN0cmluZygpYCB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBWU3RyaW5nPFxuICBUeXBlID0gc3RyaW5nLFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbj4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yPFR5cGUsIElzT3B0aW9uYWw+IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwic3RyaW5nXCJgLlxuICAgKi9cbiAgcmVhZG9ubHkga2luZCA9IFwic3RyaW5nXCIgYXMgY29uc3Q7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpOiBWYWxpZGF0b3JKU09OIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWU3RyaW5nPFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj4oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGB2Lm51bGwoKWAgdmFsaWRhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgVk51bGw8XG4gIFR5cGUgPSBudWxsLFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbj4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yPFR5cGUsIElzT3B0aW9uYWw+IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwibnVsbFwiYC5cbiAgICovXG4gIHJlYWRvbmx5IGtpbmQgPSBcIm51bGxcIiBhcyBjb25zdDtcblxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCk6IFZhbGlkYXRvckpTT04ge1xuICAgIHJldHVybiB7IHR5cGU6IHRoaXMua2luZCB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZOdWxsPFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj4oeyBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgYHYuYW55KClgIHZhbGlkYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIFZBbnk8XG4gIFR5cGUgPSBhbnksXG4gIElzT3B0aW9uYWwgZXh0ZW5kcyBPcHRpb25hbFByb3BlcnR5ID0gXCJyZXF1aXJlZFwiLFxuICBGaWVsZFBhdGhzIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbCwgRmllbGRQYXRocz4ge1xuICAvKipcbiAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJhbnlcImAuXG4gICAqL1xuICByZWFkb25seSBraW5kID0gXCJhbnlcIiBhcyBjb25zdDtcblxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCk6IFZhbGlkYXRvckpTT04ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0aGlzLmtpbmQsXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQW55PFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIiwgRmllbGRQYXRocz4oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGUgb2YgdGhlIGB2Lm9iamVjdCgpYCB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBWT2JqZWN0PFxuICBUeXBlLFxuICBGaWVsZHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBHZW5lcmljVmFsaWRhdG9yPixcbiAgSXNPcHRpb25hbCBleHRlbmRzIE9wdGlvbmFsUHJvcGVydHkgPSBcInJlcXVpcmVkXCIsXG4gIEZpZWxkUGF0aHMgZXh0ZW5kcyBzdHJpbmcgPSB7XG4gICAgW1Byb3BlcnR5IGluIGtleW9mIEZpZWxkc106XG4gICAgICB8IEpvaW5GaWVsZFBhdGhzPFByb3BlcnR5ICYgc3RyaW5nLCBGaWVsZHNbUHJvcGVydHldW1wiZmllbGRQYXRoc1wiXT5cbiAgICAgIHwgUHJvcGVydHk7XG4gIH1ba2V5b2YgRmllbGRzXSAmXG4gICAgc3RyaW5nLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbCwgRmllbGRQYXRocz4ge1xuICAvKipcbiAgICogQW4gb2JqZWN0IHdpdGggdGhlIHZhbGlkYXRvciBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICovXG4gIHJlYWRvbmx5IGZpZWxkczogRmllbGRzO1xuXG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcIm9iamVjdFwiYC5cbiAgICovXG4gIHJlYWRvbmx5IGtpbmQgPSBcIm9iamVjdFwiIGFzIGNvbnN0O1xuXG4gIC8qKlxuICAgKiBVc3VhbGx5IHlvdSdkIHVzZSBgdi5vYmplY3QoeyAuLi4gfSlgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICBmaWVsZHMsXG4gIH06IHtcbiAgICBpc09wdGlvbmFsOiBJc09wdGlvbmFsO1xuICAgIGZpZWxkczogRmllbGRzO1xuICB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhmaWVsZHMpLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGlmICghdi5pc0NvbnZleFZhbGlkYXRvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2Lm9iamVjdCgpIGVudHJpZXMgbXVzdCBiZSB2YWxpZGF0b3JzXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKTogVmFsaWRhdG9ySlNPTiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiBnbG9iYWxUaGlzLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyh0aGlzLmZpZWxkcykubWFwKChbaywgdl0pID0+IFtcbiAgICAgICAgICBrLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogdi5qc29uLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHYuaXNPcHRpb25hbCA9PT0gXCJvcHRpb25hbFwiID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0pLFxuICAgICAgKSxcbiAgICB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZPYmplY3Q8VHlwZSB8IHVuZGVmaW5lZCwgRmllbGRzLCBcIm9wdGlvbmFsXCIsIEZpZWxkUGF0aHM+KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIixcbiAgICAgIGZpZWxkczogdGhpcy5maWVsZHMsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFZPYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGZpZWxkcyBvbWl0dGVkLlxuICAgKiBAcGFyYW0gZmllbGRzIFRoZSBmaWVsZCBuYW1lcyB0byBvbWl0IGZyb20gdGhpcyBWT2JqZWN0LlxuICAgKi9cbiAgb21pdDxLIGV4dGVuZHMga2V5b2YgRmllbGRzICYgc3RyaW5nPihcbiAgICAuLi5maWVsZHM6IEtbXVxuICApOiBWT2JqZWN0PEV4cGFuZDxPbWl0PFR5cGUsIEs+PiwgRXhwYW5kPE9taXQ8RmllbGRzLCBLPj4sIElzT3B0aW9uYWw+IHtcbiAgICBjb25zdCBuZXdGaWVsZHMgPSB7IC4uLnRoaXMuZmllbGRzIH07XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgIGRlbGV0ZSBuZXdGaWVsZHNbZmllbGRdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZPYmplY3Qoe1xuICAgICAgaXNPcHRpb25hbDogdGhpcy5pc09wdGlvbmFsLFxuICAgICAgZmllbGRzOiBuZXdGaWVsZHMgYXMgYW55LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBWT2JqZWN0IHdpdGggb25seSB0aGUgc3BlY2lmaWVkIGZpZWxkcy5cbiAgICogQHBhcmFtIGZpZWxkcyBUaGUgZmllbGQgbmFtZXMgdG8gcGljayBmcm9tIHRoaXMgVk9iamVjdC5cbiAgICovXG4gIHBpY2s8SyBleHRlbmRzIGtleW9mIEZpZWxkcyAmIHN0cmluZz4oXG4gICAgLi4uZmllbGRzOiBLW11cbiAgKTogVk9iamVjdDxcbiAgICBFeHBhbmQ8UGljazxUeXBlLCBFeHRyYWN0PGtleW9mIFR5cGUsIEs+Pj4sXG4gICAgRXhwYW5kPFBpY2s8RmllbGRzLCBLPj4sXG4gICAgSXNPcHRpb25hbFxuICA+IHtcbiAgICBjb25zdCBuZXdGaWVsZHM6IFJlY29yZDxzdHJpbmcsIEdlbmVyaWNWYWxpZGF0b3I+ID0ge307XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgIG5ld0ZpZWxkc1tmaWVsZF0gPSB0aGlzLmZpZWxkc1tmaWVsZF07XG4gICAgfVxuICAgIHJldHVybiBuZXcgVk9iamVjdCh7XG4gICAgICBpc09wdGlvbmFsOiB0aGlzLmlzT3B0aW9uYWwsXG4gICAgICBmaWVsZHM6IG5ld0ZpZWxkcyBhcyBFeHBhbmQ8UGljazxGaWVsZHMsIEs+PixcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVk9iamVjdCB3aXRoIGFsbCBmaWVsZHMgbWFya2VkIGFzIG9wdGlvbmFsLlxuICAgKi9cbiAgcGFydGlhbCgpOiBWT2JqZWN0PFxuICAgIHsgW0sgaW4ga2V5b2YgVHlwZV0/OiBUeXBlW0tdIH0sXG4gICAgeyBbSyBpbiBrZXlvZiBGaWVsZHNdOiBWT3B0aW9uYWw8RmllbGRzW0tdPiB9LFxuICAgIElzT3B0aW9uYWxcbiAgPiB7XG4gICAgY29uc3QgbmV3RmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBHZW5lcmljVmFsaWRhdG9yPiA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsaWRhdG9yXSBvZiBnbG9iYWxUaGlzLk9iamVjdC5lbnRyaWVzKHRoaXMuZmllbGRzKSkge1xuICAgICAgbmV3RmllbGRzW2tleV0gPSB2YWxpZGF0b3IuYXNPcHRpb25hbCgpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFZPYmplY3Qoe1xuICAgICAgaXNPcHRpb25hbDogdGhpcy5pc09wdGlvbmFsLFxuICAgICAgZmllbGRzOiBuZXdGaWVsZHMgYXMge1xuICAgICAgICBbSyBpbiBrZXlvZiBGaWVsZHNdOiBWT3B0aW9uYWw8RmllbGRzW0tdPjtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFZPYmplY3Qgd2l0aCBhZGRpdGlvbmFsIGZpZWxkcyBtZXJnZWQgaW4uXG4gICAqIEBwYXJhbSBmaWVsZHMgQW4gb2JqZWN0IHdpdGggYWRkaXRpb25hbCB2YWxpZGF0b3JzIHRvIG1lcmdlIGludG8gdGhpcyBWT2JqZWN0LlxuICAgKi9cbiAgZXh0ZW5kPE5ld0ZpZWxkcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEdlbmVyaWNWYWxpZGF0b3I+PihcbiAgICBmaWVsZHM6IE5ld0ZpZWxkcyxcbiAgKTogVk9iamVjdDxcbiAgICBFeHBhbmQ8VHlwZSAmIE9iamVjdFR5cGU8TmV3RmllbGRzPj4sXG4gICAgRXhwYW5kPEZpZWxkcyAmIE5ld0ZpZWxkcz4sXG4gICAgSXNPcHRpb25hbFxuICA+IHtcbiAgICByZXR1cm4gbmV3IFZPYmplY3Qoe1xuICAgICAgaXNPcHRpb25hbDogdGhpcy5pc09wdGlvbmFsLFxuICAgICAgZmllbGRzOiB7IC4uLnRoaXMuZmllbGRzLCAuLi5maWVsZHMgfSBhcyBFeHBhbmQ8RmllbGRzICYgTmV3RmllbGRzPixcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBgdi5saXRlcmFsKClgIHZhbGlkYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIFZMaXRlcmFsPFxuICBUeXBlLFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbj4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yPFR5cGUsIElzT3B0aW9uYWw+IHtcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSB0aGF0IHRoZSB2YWxpZGF0ZWQgdmFsdWVzIG11c3QgYmUgZXF1YWwgdG8uXG4gICAqL1xuICByZWFkb25seSB2YWx1ZTogVHlwZTtcblxuICAvKipcbiAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJsaXRlcmFsXCJgLlxuICAgKi9cbiAgcmVhZG9ubHkga2luZCA9IFwibGl0ZXJhbFwiIGFzIGNvbnN0O1xuXG4gIC8qKlxuICAgKiBVc3VhbGx5IHlvdSdkIHVzZSBgdi5saXRlcmFsKHZhbHVlKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXNPcHRpb25hbCwgdmFsdWUgfTogeyBpc09wdGlvbmFsOiBJc09wdGlvbmFsOyB2YWx1ZTogVHlwZSB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdHlwZW9mIHZhbHVlICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgdHlwZW9mIHZhbHVlICE9PSBcIm51bWJlclwiICYmXG4gICAgICB0eXBlb2YgdmFsdWUgIT09IFwiYmlnaW50XCJcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInYubGl0ZXJhbCh2YWx1ZSkgbXVzdCBiZSBhIHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuXCIpO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpOiBWYWxpZGF0b3JKU09OIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih0aGlzLnZhbHVlIGFzIHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIgfCBiaWdpbnQpLFxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkxpdGVyYWw8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPih7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBgdi5hcnJheSgpYCB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBWQXJyYXk8XG4gIFR5cGUsXG4gIEVsZW1lbnQgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT4sXG4gIElzT3B0aW9uYWwgZXh0ZW5kcyBPcHRpb25hbFByb3BlcnR5ID0gXCJyZXF1aXJlZFwiLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbD4ge1xuICAvKipcbiAgICogVGhlIHZhbGlkYXRvciBmb3IgdGhlIGVsZW1lbnRzIG9mIHRoZSBhcnJheS5cbiAgICovXG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiYXJyYXlcImAuXG4gICAqL1xuICByZWFkb25seSBraW5kID0gXCJhcnJheVwiIGFzIGNvbnN0O1xuXG4gIC8qKlxuICAgKiBVc3VhbGx5IHlvdSdkIHVzZSBgdi5hcnJheShlbGVtZW50KWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpc09wdGlvbmFsLFxuICAgIGVsZW1lbnQsXG4gIH06IHtcbiAgICBpc09wdGlvbmFsOiBJc09wdGlvbmFsO1xuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCk6IFZhbGlkYXRvckpTT04ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0aGlzLmtpbmQsXG4gICAgICB2YWx1ZTogdGhpcy5lbGVtZW50Lmpzb24sXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQXJyYXk8VHlwZSB8IHVuZGVmaW5lZCwgRWxlbWVudCwgXCJvcHRpb25hbFwiPih7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgdHlwZSBvZiB0aGUgYHYucmVjb3JkKClgIHZhbGlkYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIFZSZWNvcmQ8XG4gIFR5cGUsXG4gIEtleSBleHRlbmRzIFZhbGlkYXRvcjxzdHJpbmcsIFwicmVxdWlyZWRcIiwgYW55PixcbiAgVmFsdWUgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT4sXG4gIElzT3B0aW9uYWwgZXh0ZW5kcyBPcHRpb25hbFByb3BlcnR5ID0gXCJyZXF1aXJlZFwiLFxuICBGaWVsZFBhdGhzIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbCwgRmllbGRQYXRocz4ge1xuICAvKipcbiAgICogVGhlIHZhbGlkYXRvciBmb3IgdGhlIGtleXMgb2YgdGhlIHJlY29yZC5cbiAgICovXG4gIHJlYWRvbmx5IGtleTogS2V5O1xuXG4gIC8qKlxuICAgKiBUaGUgdmFsaWRhdG9yIGZvciB0aGUgdmFsdWVzIG9mIHRoZSByZWNvcmQuXG4gICAqL1xuICByZWFkb25seSB2YWx1ZTogVmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwicmVjb3JkXCJgLlxuICAgKi9cbiAgcmVhZG9ubHkga2luZCA9IFwicmVjb3JkXCIgYXMgY29uc3Q7XG5cbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LnJlY29yZChrZXksIHZhbHVlKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpc09wdGlvbmFsLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgfToge1xuICAgIGlzT3B0aW9uYWw6IElzT3B0aW9uYWw7XG4gICAga2V5OiBLZXk7XG4gICAgdmFsdWU6IFZhbHVlO1xuICB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIGlmICgoa2V5LmlzT3B0aW9uYWwgYXMgT3B0aW9uYWxQcm9wZXJ0eSkgPT09IFwib3B0aW9uYWxcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIHZhbGlkYXRvciBjYW5ub3QgaGF2ZSBvcHRpb25hbCBrZXlzXCIpO1xuICAgIH1cbiAgICBpZiAoKHZhbHVlLmlzT3B0aW9uYWwgYXMgT3B0aW9uYWxQcm9wZXJ0eSkgPT09IFwib3B0aW9uYWxcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIHZhbGlkYXRvciBjYW5ub3QgaGF2ZSBvcHRpb25hbCB2YWx1ZXNcIik7XG4gICAgfVxuICAgIGlmICgha2V5LmlzQ29udmV4VmFsaWRhdG9yIHx8ICF2YWx1ZS5pc0NvbnZleFZhbGlkYXRvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiS2V5IGFuZCB2YWx1ZSBvZiB2LnJlY29yZCgpIGJ1dCBiZSB2YWxpZGF0b3JzXCIpO1xuICAgIH1cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpOiBWYWxpZGF0b3JKU09OIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgLy8gVGhpcyBjYXN0IGlzIG5lZWRlZCBiZWNhdXNlIFR5cGVTY3JpcHQgdGhpbmtzIHRoZSBrZXkgdHlwZSBpcyB0b28gd2lkZVxuICAgICAga2V5czogdGhpcy5rZXkuanNvbiBhcyBSZWNvcmRLZXlWYWxpZGF0b3JKU09OLFxuICAgICAgdmFsdWVzOiB7XG4gICAgICAgIGZpZWxkVHlwZTogdGhpcy52YWx1ZS5qc29uLFxuICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVlJlY29yZDxUeXBlIHwgdW5kZWZpbmVkLCBLZXksIFZhbHVlLCBcIm9wdGlvbmFsXCIsIEZpZWxkUGF0aHM+KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIixcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICB2YWx1ZTogdGhpcy52YWx1ZSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBgdi51bmlvbigpYCB2YWxpZGF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBWVW5pb248XG4gIFR5cGUsXG4gIFQgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBcInJlcXVpcmVkXCIsIGFueT5bXSxcbiAgSXNPcHRpb25hbCBleHRlbmRzIE9wdGlvbmFsUHJvcGVydHkgPSBcInJlcXVpcmVkXCIsXG4gIEZpZWxkUGF0aHMgZXh0ZW5kcyBzdHJpbmcgPSBUW251bWJlcl1bXCJmaWVsZFBhdGhzXCJdLFxuPiBleHRlbmRzIEJhc2VWYWxpZGF0b3I8VHlwZSwgSXNPcHRpb25hbCwgRmllbGRQYXRocz4ge1xuICAvKipcbiAgICogVGhlIGFycmF5IG9mIHZhbGlkYXRvcnMsIG9uZSBvZiB3aGljaCBtdXN0IG1hdGNoIHRoZSB2YWx1ZS5cbiAgICovXG4gIHJlYWRvbmx5IG1lbWJlcnM6IFQ7XG5cbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwidW5pb25cImAuXG4gICAqL1xuICByZWFkb25seSBraW5kID0gXCJ1bmlvblwiIGFzIGNvbnN0O1xuXG4gIC8qKlxuICAgKiBVc3VhbGx5IHlvdSdkIHVzZSBgdi51bmlvbiguLi5tZW1iZXJzKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgaXNPcHRpb25hbCwgbWVtYmVycyB9OiB7IGlzT3B0aW9uYWw6IElzT3B0aW9uYWw7IG1lbWJlcnM6IFQgfSkge1xuICAgIHN1cGVyKHsgaXNPcHRpb25hbCB9KTtcbiAgICBtZW1iZXJzLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgaWYgKCFtZW1iZXIuaXNDb252ZXhWYWxpZGF0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxsIG1lbWJlcnMgb2Ygdi51bmlvbigpIG11c3QgYmUgdmFsaWRhdG9yc1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKTogVmFsaWRhdG9ySlNPTiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiB0aGlzLm1lbWJlcnMubWFwKCh2KSA9PiB2Lmpzb24pLFxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVlVuaW9uPFR5cGUgfCB1bmRlZmluZWQsIFQsIFwib3B0aW9uYWxcIj4oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgICAgbWVtYmVyczogdGhpcy5tZW1iZXJzLFxuICAgIH0pO1xuICB9XG59XG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuZXhwb3J0IHR5cGUgVk9wdGlvbmFsPFQgZXh0ZW5kcyBWYWxpZGF0b3I8YW55LCBPcHRpb25hbFByb3BlcnR5LCBhbnk+PiA9XG4gIFQgZXh0ZW5kcyBWSWQ8aW5mZXIgVHlwZSwgT3B0aW9uYWxQcm9wZXJ0eT4gPyBWSWQ8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPlxuICA6IFQgZXh0ZW5kcyBWU3RyaW5nPGluZmVyIFR5cGUsIE9wdGlvbmFsUHJvcGVydHk+XG4gICAgPyBWU3RyaW5nPFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj5cbiAgOiBUIGV4dGVuZHMgVkZsb2F0NjQ8aW5mZXIgVHlwZSwgT3B0aW9uYWxQcm9wZXJ0eT5cbiAgICA/IFZGbG9hdDY0PFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj5cbiAgOiBUIGV4dGVuZHMgVkludDY0PGluZmVyIFR5cGUsIE9wdGlvbmFsUHJvcGVydHk+XG4gICAgPyBWSW50NjQ8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPlxuICA6IFQgZXh0ZW5kcyBWQm9vbGVhbjxpbmZlciBUeXBlLCBPcHRpb25hbFByb3BlcnR5PlxuICAgID8gVkJvb2xlYW48VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPlxuICA6IFQgZXh0ZW5kcyBWTnVsbDxpbmZlciBUeXBlLCBPcHRpb25hbFByb3BlcnR5PlxuICAgID8gVk51bGw8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPlxuICA6IFQgZXh0ZW5kcyBWQW55PGluZmVyIFR5cGUsIE9wdGlvbmFsUHJvcGVydHk+XG4gICAgPyBWQW55PFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj5cbiAgOiBUIGV4dGVuZHMgVkxpdGVyYWw8aW5mZXIgVHlwZSwgT3B0aW9uYWxQcm9wZXJ0eT5cbiAgICA/IFZMaXRlcmFsPFR5cGUgfCB1bmRlZmluZWQsIFwib3B0aW9uYWxcIj5cbiAgOiBUIGV4dGVuZHMgVkJ5dGVzPGluZmVyIFR5cGUsIE9wdGlvbmFsUHJvcGVydHk+XG4gICAgPyBWQnl0ZXM8VHlwZSB8IHVuZGVmaW5lZCwgXCJvcHRpb25hbFwiPlxuICA6IFQgZXh0ZW5kcyBWT2JqZWN0PCBpbmZlciBUeXBlLCBpbmZlciBGaWVsZHMsIE9wdGlvbmFsUHJvcGVydHksIGluZmVyIEZpZWxkUGF0aHM+XG4gICAgPyBWT2JqZWN0PFR5cGUgfCB1bmRlZmluZWQsIEZpZWxkcywgXCJvcHRpb25hbFwiLCBGaWVsZFBhdGhzPlxuICA6IFQgZXh0ZW5kcyBWQXJyYXk8aW5mZXIgVHlwZSwgaW5mZXIgRWxlbWVudCwgT3B0aW9uYWxQcm9wZXJ0eT5cbiAgICA/IFZBcnJheTxUeXBlIHwgdW5kZWZpbmVkLCBFbGVtZW50LCBcIm9wdGlvbmFsXCI+XG4gIDogVCBleHRlbmRzIFZSZWNvcmQ8IGluZmVyIFR5cGUsIGluZmVyIEtleSwgaW5mZXIgVmFsdWUsIE9wdGlvbmFsUHJvcGVydHksIGluZmVyIEZpZWxkUGF0aHM+XG4gICAgPyBWUmVjb3JkPFR5cGUgfCB1bmRlZmluZWQsIEtleSwgVmFsdWUsIFwib3B0aW9uYWxcIiwgRmllbGRQYXRocz5cbiAgOiBUIGV4dGVuZHMgVlVuaW9uPGluZmVyIFR5cGUsIGluZmVyIE1lbWJlcnMsIE9wdGlvbmFsUHJvcGVydHksIGluZmVyIEZpZWxkUGF0aHM+XG4gICAgPyBWVW5pb248VHlwZSB8IHVuZGVmaW5lZCwgTWVtYmVycywgXCJvcHRpb25hbFwiLCBGaWVsZFBhdGhzPlxuICA6IG5ldmVyXG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgd2hldGhlciBhIHByb3BlcnR5IGluIGFuIG9iamVjdCBpcyBvcHRpb25hbCBvciByZXF1aXJlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE9wdGlvbmFsUHJvcGVydHkgPSBcIm9wdGlvbmFsXCIgfCBcInJlcXVpcmVkXCI7XG5cbi8qKlxuICogQSB2YWxpZGF0b3IgZm9yIGEgQ29udmV4IHZhbHVlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGNvbnN0cnVjdGVkIHVzaW5nIHRoZSB2YWxpZGF0b3IgYnVpbGRlciwge0BsaW5rIHZ9LlxuICpcbiAqIEEgdmFsaWRhdG9yIGVuY2Fwc3VsYXRlczpcbiAqIC0gVGhlIFR5cGVTY3JpcHQgdHlwZSBvZiB0aGlzIHZhbHVlLlxuICogLSBXaGV0aGVyIHRoaXMgZmllbGQgc2hvdWxkIGJlIG9wdGlvbmFsIGlmIGl0J3MgaW5jbHVkZWQgaW4gYW4gb2JqZWN0LlxuICogLSBUaGUgVHlwZVNjcmlwdCB0eXBlIGZvciB0aGUgc2V0IG9mIGluZGV4IGZpZWxkIHBhdGhzIHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAqIGJ1aWxkIGluZGV4ZXMgb24gdGhpcyB2YWx1ZS5cbiAqIC0gQSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2YWxpZGF0b3IuXG4gKlxuICogU3BlY2lmaWMgdHlwZXMgb2YgdmFsaWRhdG9ycyBjb250YWluIGFkZGl0aW9uYWwgaW5mb3JtYXRpb246IGZvciBleGFtcGxlXG4gKiBhbiBgQXJyYXlWYWxpZGF0b3JgIGNvbnRhaW5zIGFuIGBlbGVtZW50YCBwcm9wZXJ0eSB3aXRoIHRoZSB2YWxpZGF0b3JcbiAqIHVzZWQgdG8gdmFsaWRhdGUgZWFjaCBlbGVtZW50IG9mIHRoZSBsaXN0LiBVc2UgdGhlIHNoYXJlZCAna2luZCcgcHJvcGVydHlcbiAqIHRvIGlkZW50aXR5IHRoZSB0eXBlIG9mIHZhbGlkYXRvci5cbiAqXG4gKiBNb3JlIHZhbGlkYXRvcnMgY2FuIGJlIGFkZGVkIGluIGZ1dHVyZSByZWxlYXNlcyBzbyBhbiBleGhhdXN0aXZlXG4gKiBzd2l0Y2ggc3RhdGVtZW50IG9uIHZhbGlkYXRvciBga2luZGAgc2hvdWxkIGJlIGV4cGVjdGVkIHRvIGJyZWFrXG4gKiBpbiBmdXR1cmUgcmVsZWFzZXMgb2YgQ29udmV4LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgVmFsaWRhdG9yPFxuICBUeXBlLFxuICBJc09wdGlvbmFsIGV4dGVuZHMgT3B0aW9uYWxQcm9wZXJ0eSA9IFwicmVxdWlyZWRcIixcbiAgRmllbGRQYXRocyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuPiA9XG4gIHwgVklkPFR5cGUsIElzT3B0aW9uYWw+XG4gIHwgVlN0cmluZzxUeXBlLCBJc09wdGlvbmFsPlxuICB8IFZGbG9hdDY0PFR5cGUsIElzT3B0aW9uYWw+XG4gIHwgVkludDY0PFR5cGUsIElzT3B0aW9uYWw+XG4gIHwgVkJvb2xlYW48VHlwZSwgSXNPcHRpb25hbD5cbiAgfCBWTnVsbDxUeXBlLCBJc09wdGlvbmFsPlxuICB8IFZBbnk8VHlwZSwgSXNPcHRpb25hbD5cbiAgfCBWTGl0ZXJhbDxUeXBlLCBJc09wdGlvbmFsPlxuICB8IFZCeXRlczxUeXBlLCBJc09wdGlvbmFsPlxuICB8IFZPYmplY3Q8XG4gICAgICBUeXBlLFxuICAgICAgUmVjb3JkPHN0cmluZywgVmFsaWRhdG9yPGFueSwgT3B0aW9uYWxQcm9wZXJ0eSwgYW55Pj4sXG4gICAgICBJc09wdGlvbmFsLFxuICAgICAgRmllbGRQYXRoc1xuICAgID5cbiAgfCBWQXJyYXk8VHlwZSwgVmFsaWRhdG9yPGFueSwgXCJyZXF1aXJlZFwiLCBhbnk+LCBJc09wdGlvbmFsPlxuICB8IFZSZWNvcmQ8XG4gICAgICBUeXBlLFxuICAgICAgVmFsaWRhdG9yPHN0cmluZywgXCJyZXF1aXJlZFwiLCBhbnk+LFxuICAgICAgVmFsaWRhdG9yPGFueSwgXCJyZXF1aXJlZFwiLCBhbnk+LFxuICAgICAgSXNPcHRpb25hbCxcbiAgICAgIEZpZWxkUGF0aHNcbiAgICA+XG4gIHwgVlVuaW9uPFR5cGUsIFZhbGlkYXRvcjxhbnksIFwicmVxdWlyZWRcIiwgYW55PltdLCBJc09wdGlvbmFsLCBGaWVsZFBhdGhzPjtcblxuLyoqXG4gKiBKb2luIHRvZ2V0aGVyIHR3byBpbmRleCBmaWVsZCBwYXRocy5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgd2l0aGluIHRoZSB2YWxpZGF0b3IgYnVpbGRlciwge0BsaW5rIHZ9LlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBKb2luRmllbGRQYXRoczxcbiAgU3RhcnQgZXh0ZW5kcyBzdHJpbmcsXG4gIEVuZCBleHRlbmRzIHN0cmluZyxcbj4gPSBgJHtTdGFydH0uJHtFbmR9YDtcblxuZXhwb3J0IHR5cGUgT2JqZWN0RmllbGRUeXBlID0geyBmaWVsZFR5cGU6IFZhbGlkYXRvckpTT047IG9wdGlvbmFsOiBib29sZWFuIH07XG5cbmV4cG9ydCB0eXBlIFZhbGlkYXRvckpTT04gPVxuICB8IHsgdHlwZTogXCJudWxsXCIgfVxuICB8IHsgdHlwZTogXCJudW1iZXJcIiB9XG4gIHwgeyB0eXBlOiBcImJpZ2ludFwiIH1cbiAgfCB7IHR5cGU6IFwiYm9vbGVhblwiIH1cbiAgfCB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICB8IHsgdHlwZTogXCJieXRlc1wiIH1cbiAgfCB7IHR5cGU6IFwiYW55XCIgfVxuICB8IHsgdHlwZTogXCJsaXRlcmFsXCI7IHZhbHVlOiBKU09OVmFsdWUgfVxuICB8IHsgdHlwZTogXCJpZFwiOyB0YWJsZU5hbWU6IHN0cmluZyB9XG4gIHwgeyB0eXBlOiBcImFycmF5XCI7IHZhbHVlOiBWYWxpZGF0b3JKU09OIH1cbiAgfCB7XG4gICAgICB0eXBlOiBcInJlY29yZFwiO1xuICAgICAga2V5czogUmVjb3JkS2V5VmFsaWRhdG9ySlNPTjtcbiAgICAgIHZhbHVlczogUmVjb3JkVmFsdWVWYWxpZGF0b3JKU09OO1xuICAgIH1cbiAgfCB7IHR5cGU6IFwib2JqZWN0XCI7IHZhbHVlOiBSZWNvcmQ8c3RyaW5nLCBPYmplY3RGaWVsZFR5cGU+IH1cbiAgfCB7IHR5cGU6IFwidW5pb25cIjsgdmFsdWU6IFZhbGlkYXRvckpTT05bXSB9O1xuXG5leHBvcnQgdHlwZSBSZWNvcmRLZXlWYWxpZGF0b3JKU09OID1cbiAgfCB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICB8IHsgdHlwZTogXCJpZFwiOyB0YWJsZU5hbWU6IHN0cmluZyB9XG4gIHwgeyB0eXBlOiBcInVuaW9uXCI7IHZhbHVlOiBSZWNvcmRLZXlWYWxpZGF0b3JKU09OW10gfTtcblxuZXhwb3J0IHR5cGUgUmVjb3JkVmFsdWVWYWxpZGF0b3JKU09OID0gT2JqZWN0RmllbGRUeXBlICYgeyBvcHRpb25hbDogZmFsc2UgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/validators.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/value.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBigInt: () => (/* binding */ base64ToBigInt),\n/* harmony export */   bigIntToBase64: () => (/* binding */ bigIntToBase64),\n/* harmony export */   convexOrUndefinedToJson: () => (/* binding */ convexOrUndefinedToJson),\n/* harmony export */   convexToJson: () => (/* binding */ convexToJson),\n/* harmony export */   jsonToConvex: () => (/* binding */ jsonToConvex),\n/* harmony export */   modernBase64ToBigInt: () => (/* binding */ modernBase64ToBigInt),\n/* harmony export */   modernBigIntToBase64: () => (/* binding */ modernBigIntToBase64),\n/* harmony export */   patchValueToJson: () => (/* binding */ patchValueToJson),\n/* harmony export */   slowBase64ToBigInt: () => (/* binding */ slowBase64ToBigInt),\n/* harmony export */   slowBigIntToBase64: () => (/* binding */ slowBigIntToBase64),\n/* harmony export */   stringifyValueForError: () => (/* binding */ stringifyValueForError)\n/* harmony export */ });\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base64.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(app-pages-browser)/./node_modules/convex/dist/esm/common/index.js\");\n\n\n\nconst LITTLE_ENDIAN = true;\nconst MIN_INT64 = BigInt(\"-9223372036854775808\");\nconst MAX_INT64 = BigInt(\"9223372036854775807\");\nconst ZERO = BigInt(\"0\");\nconst EIGHT = BigInt(\"8\");\nconst TWOFIFTYSIX = BigInt(\"256\");\nfunction isSpecial(n) {\n    return Number.isNaN(n) || !Number.isFinite(n) || Object.is(n, -0);\n}\nfunction slowBigIntToBase64(value) {\n    if (value < ZERO) {\n        value -= MIN_INT64 + MIN_INT64;\n    }\n    let hex = value.toString(16);\n    if (hex.length % 2 === 1) hex = \"0\" + hex;\n    const bytes = new Uint8Array(new ArrayBuffer(8));\n    let i = 0;\n    for (const hexByte of hex.match(/.{2}/g).reverse()){\n        bytes.set([\n            parseInt(hexByte, 16)\n        ], i++);\n        value >>= EIGHT;\n    }\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(bytes);\n}\nfunction slowBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(\"Received \".concat(integerBytes.byteLength, \" bytes, expected 8 for $integer\"));\n    }\n    let value = ZERO;\n    let power = ZERO;\n    for (const byte of integerBytes){\n        value += BigInt(byte) * TWOFIFTYSIX ** power;\n        power++;\n    }\n    if (value > MAX_INT64) {\n        value += MIN_INT64 + MIN_INT64;\n    }\n    return value;\n}\nfunction modernBigIntToBase64(value) {\n    if (value < MIN_INT64 || MAX_INT64 < value) {\n        throw new Error(\"BigInt \".concat(value, \" does not fit into a 64-bit signed integer.\"));\n    }\n    const buffer = new ArrayBuffer(8);\n    new DataView(buffer).setBigInt64(0, value, true);\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer));\n}\nfunction modernBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(\"Received \".concat(integerBytes.byteLength, \" bytes, expected 8 for $integer\"));\n    }\n    const intBytesView = new DataView(integerBytes.buffer);\n    return intBytesView.getBigInt64(0, true);\n}\nconst bigIntToBase64 = DataView.prototype.setBigInt64 ? modernBigIntToBase64 : slowBigIntToBase64;\nconst base64ToBigInt = DataView.prototype.getBigInt64 ? modernBase64ToBigInt : slowBase64ToBigInt;\nconst MAX_IDENTIFIER_LEN = 1024;\nfunction validateObjectField(k) {\n    if (k.length > MAX_IDENTIFIER_LEN) {\n        throw new Error(\"Field name \".concat(k, \" exceeds maximum field name length \").concat(MAX_IDENTIFIER_LEN, \".\"));\n    }\n    if (k.startsWith(\"$\")) {\n        throw new Error(\"Field name \".concat(k, \" starts with a '$', which is reserved.\"));\n    }\n    for(let i = 0; i < k.length; i += 1){\n        const charCode = k.charCodeAt(i);\n        if (charCode < 32 || charCode >= 127) {\n            throw new Error(\"Field name \".concat(k, \" has invalid character '\").concat(k[i], \"': Field names can only contain non-control ASCII characters\"));\n        }\n    }\n}\nfunction jsonToConvex(value) {\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2)=>jsonToConvex(value2));\n    }\n    if (typeof value !== \"object\") {\n        throw new Error(\"Unexpected type of \".concat(value));\n    }\n    const entries = Object.entries(value);\n    if (entries.length === 1) {\n        const key = entries[0][0];\n        if (key === \"$bytes\") {\n            if (typeof value.$bytes !== \"string\") {\n                throw new Error(\"Malformed $bytes field on \".concat(value));\n            }\n            return _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$bytes).buffer;\n        }\n        if (key === \"$integer\") {\n            if (typeof value.$integer !== \"string\") {\n                throw new Error(\"Malformed $integer field on \".concat(value));\n            }\n            return base64ToBigInt(value.$integer);\n        }\n        if (key === \"$float\") {\n            if (typeof value.$float !== \"string\") {\n                throw new Error(\"Malformed $float field on \".concat(value));\n            }\n            const floatBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$float);\n            if (floatBytes.byteLength !== 8) {\n                throw new Error(\"Received \".concat(floatBytes.byteLength, \" bytes, expected 8 for $float\"));\n            }\n            const floatBytesView = new DataView(floatBytes.buffer);\n            const float = floatBytesView.getFloat64(0, LITTLE_ENDIAN);\n            if (!isSpecial(float)) {\n                throw new Error(\"Float \".concat(float, \" should be encoded as a number\"));\n            }\n            return float;\n        }\n        if (key === \"$set\") {\n            throw new Error(\"Received a Set which is no longer supported as a Convex type.\");\n        }\n        if (key === \"$map\") {\n            throw new Error(\"Received a Map which is no longer supported as a Convex type.\");\n        }\n    }\n    const out = {};\n    for (const [k, v] of Object.entries(value)){\n        validateObjectField(k);\n        out[k] = jsonToConvex(v);\n    }\n    return out;\n}\nconst MAX_VALUE_FOR_ERROR_LEN = 16384;\nfunction stringifyValueForError(value) {\n    const str = JSON.stringify(value, (_key, value2)=>{\n        if (value2 === void 0) {\n            return \"undefined\";\n        }\n        if (typeof value2 === \"bigint\") {\n            return \"\".concat(value2.toString(), \"n\");\n        }\n        return value2;\n    });\n    if (str.length > MAX_VALUE_FOR_ERROR_LEN) {\n        const rest = \"[...truncated]\";\n        let truncateAt = MAX_VALUE_FOR_ERROR_LEN - rest.length;\n        const codePoint = str.codePointAt(truncateAt - 1);\n        if (codePoint !== void 0 && codePoint > 65535) {\n            truncateAt -= 1;\n        }\n        return str.substring(0, truncateAt) + rest;\n    }\n    return str;\n}\nfunction convexToJsonInternal(value, originalValue, context, includeTopLevelUndefined) {\n    if (value === void 0) {\n        const contextText = context && \" (present at path \".concat(context, \" in original object \").concat(stringifyValueForError(originalValue), \")\");\n        throw new Error(\"undefined is not a valid Convex value\".concat(contextText, \". To learn about Convex's supported types, see https://docs.convex.dev/using/types.\"));\n    }\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"bigint\") {\n        if (value < MIN_INT64 || MAX_INT64 < value) {\n            throw new Error(\"BigInt \".concat(value, \" does not fit into a 64-bit signed integer.\"));\n        }\n        return {\n            $integer: bigIntToBase64(value)\n        };\n    }\n    if (typeof value === \"number\") {\n        if (isSpecial(value)) {\n            const buffer = new ArrayBuffer(8);\n            new DataView(buffer).setFloat64(0, value, LITTLE_ENDIAN);\n            return {\n                $float: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer))\n            };\n        } else {\n            return value;\n        }\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (value instanceof ArrayBuffer) {\n        return {\n            $bytes: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(value))\n        };\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2, i)=>convexToJsonInternal(value2, originalValue, context + \"[\".concat(i, \"]\"), false));\n    }\n    if (value instanceof Set) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Set\", [\n            ...value\n        ], originalValue));\n    }\n    if (value instanceof Map) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Map\", [\n            ...value\n        ], originalValue));\n    }\n    if (!(0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleObject)(value)) {\n        var _value_constructor;\n        const theType = value === null || value === void 0 ? void 0 : (_value_constructor = value.constructor) === null || _value_constructor === void 0 ? void 0 : _value_constructor.name;\n        const typeName = theType ? \"\".concat(theType, \" \") : \"\";\n        throw new Error(errorMessageForUnsupportedType(context, typeName, value, originalValue));\n    }\n    const out = {};\n    const entries = Object.entries(value);\n    entries.sort((param, param1)=>{\n        let [k1, _v1] = param, [k2, _v2] = param1;\n        return k1 === k2 ? 0 : k1 < k2 ? -1 : 1;\n    });\n    for (const [k, v] of entries){\n        if (v !== void 0) {\n            validateObjectField(k);\n            out[k] = convexToJsonInternal(v, originalValue, context + \".\".concat(k), false);\n        } else if (includeTopLevelUndefined) {\n            validateObjectField(k);\n            out[k] = convexOrUndefinedToJsonInternal(v, originalValue, context + \".\".concat(k));\n        }\n    }\n    return out;\n}\nfunction errorMessageForUnsupportedType(context, typeName, value, originalValue) {\n    if (context) {\n        return \"\".concat(typeName).concat(stringifyValueForError(value), \" is not a supported Convex type (present at path \").concat(context, \" in original object \").concat(stringifyValueForError(originalValue), \"). To learn about Convex's supported types, see https://docs.convex.dev/using/types.\");\n    } else {\n        return \"\".concat(typeName).concat(stringifyValueForError(value), \" is not a supported Convex type.\");\n    }\n}\nfunction convexOrUndefinedToJsonInternal(value, originalValue, context) {\n    if (value === void 0) {\n        return {\n            $undefined: null\n        };\n    } else {\n        if (originalValue === void 0) {\n            throw new Error(\"Programming error. Current value is \".concat(stringifyValueForError(value), \" but original value is undefined\"));\n        }\n        return convexToJsonInternal(value, originalValue, context, false);\n    }\n}\nfunction convexToJson(value) {\n    return convexToJsonInternal(value, value, \"\", false);\n}\nfunction convexOrUndefinedToJson(value) {\n    return convexOrUndefinedToJsonInternal(value, value, \"\");\n}\nfunction patchValueToJson(value) {\n    return convexToJsonInternal(value, value, \"\", true);\n} //# sourceMappingURL=value.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbHVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3dCO0FBQ087QUFFL0IsTUFBTSxnQkFBZ0I7QUFFdEIsTUFBTSxZQUFZLE9BQU8sc0JBQXNCO0FBQy9DLE1BQU0sWUFBWSxPQUFPLHFCQUFxQjtBQUM5QyxNQUFNLE9BQU8sT0FBTyxHQUFHO0FBQ3ZCLE1BQU0sUUFBUSxPQUFPLEdBQUc7QUFDeEIsTUFBTSxjQUFjLE9BQU8sS0FBSztBQWtFaEMsU0FBUyxVQUFVLEdBQVc7SUFDNUIsT0FBTyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxTQUFTLENBQUMsS0FBSyxPQUFPLEdBQUcsR0FBRyxFQUFFO0FBQ2xFO0FBRU8sU0FBUyxtQkFBbUIsT0FBdUI7SUFFeEQsSUFBSSxRQUFRLE1BQU07UUFDaEIsU0FBUyxZQUFZO0lBQ3ZCO0lBQ0EsSUFBSSxNQUFNLE1BQU0sU0FBUyxFQUFFO0lBQzNCLElBQUksSUFBSSxTQUFTLE1BQU0sRUFBRyxPQUFNLE1BQU07SUFFdEMsTUFBTSxRQUFRLElBQUksV0FBVyxJQUFJLFlBQVksQ0FBQyxDQUFDO0lBQy9DLElBQUksSUFBSTtJQUNSLFdBQVcsV0FBVyxJQUFJLE1BQU0sT0FBTyxFQUFHLFFBQVEsRUFBRztRQUNuRCxNQUFNLElBQUk7WUFBQyxTQUFTLFNBQVMsRUFBRSxDQUFDO1NBQUEsRUFBRyxHQUFHO1FBQ3RDLFVBQVU7SUFDWjtJQUNBLE9BQU8scURBQU8sQ0FBYyxLQUFLO0FBQ25DO0FBRU8sU0FBUyxtQkFBbUIsU0FBeUI7SUFDMUQsTUFBTSxlQUFlLG1EQUFPLENBQVksT0FBTztJQUMvQyxJQUFJLGFBQWEsZUFBZSxHQUFHO1FBQ2pDLE1BQU0sSUFBSSxNQUNSLFlBQW1DLE9BQXZCLGFBQWEsVUFBVTtJQUV2QztJQUNBLElBQUksUUFBUTtJQUNaLElBQUksUUFBUTtJQUNaLFdB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QU8sVUFBRyxRQUFRLEVBRWpCLE9BRm9CLHVCQUNuQixRQUNEO0lBQ0g7QUFDRjtBQUlBLFNBQVMsZ0NBQ1AsT0FDQSxlQUNBLFNBQ1c7SUFDWCxJQUFJLFVBQVUsUUFBVztRQUN2QixPQUFPO1lBQUUsWUFBWTtRQUFLO0lBQzVCLE9BQU87UUFDTCxJQUFJLGtCQUFrQixRQUFXO1lBRS9CLE1BQU0sSUFBSSxNQUNSLHVDQUVDLE9BRnNDLHVCQUNyQyxRQUNEO1FBRUw7UUFDQSxPQUFPLHFCQUFxQixPQUFPLGVBQWUsU0FBUyxLQUFLO0lBQ2xFO0FBQ0Y7QUFjTyxTQUFTLGFBQWEsT0FBeUI7SUFDcEQsT0FBTyxxQkFBcUIsT0FBTyxPQUFPLElBQUksS0FBSztBQUNyRDtBQUlPLFNBQVMsd0JBQXdCLE9BQXFDO0lBQzNFLE9BQU8sZ0NBQWdDLE9BQU8sT0FBTyxFQUFFO0FBQ3pEO0FBU08sU0FBUyxpQkFBaUIsT0FBeUI7SUFDeEQsT0FBTyxxQkFBcUIsT0FBTyxPQUFPLElBQUksSUFBSTtBQUNwRCIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvdmFsdWVzL3ZhbHVlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXRpbGl0aWVzIGZvciB3b3JraW5nIHdpdGggdmFsdWVzIHN0b3JlZCBpbiBDb252ZXguXG4gKlxuICogWW91IGNhbiBzZWUgdGhlIGZ1bGwgc2V0IG9mIHN1cHBvcnRlZCB0eXBlcyBhdFxuICogW1R5cGVzXShodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcykuXG4gKiBAbW9kdWxlXG4gKi9cbmltcG9ydCAqIGFzIEJhc2U2NCBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmltcG9ydCB7IGlzU2ltcGxlT2JqZWN0IH0gZnJvbSBcIi4uL2NvbW1vbi9pbmRleC5qc1wiO1xuXG5jb25zdCBMSVRUTEVfRU5ESUFOID0gdHJ1ZTtcbi8vIFRoaXMgY29kZSBpcyB1c2VkIGJ5IGNvZGUgdGhhdCBtYXkgbm90IGhhdmUgYmlnaW50IGxpdGVyYWxzLlxuY29uc3QgTUlOX0lOVDY0ID0gQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIik7XG5jb25zdCBNQVhfSU5UNjQgPSBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpO1xuY29uc3QgWkVSTyA9IEJpZ0ludChcIjBcIik7XG5jb25zdCBFSUdIVCA9IEJpZ0ludChcIjhcIik7XG5jb25zdCBUV09GSUZUWVNJWCA9IEJpZ0ludChcIjI1NlwiKTtcblxuLyoqXG4gKiBUaGUgdHlwZSBvZiBKYXZhU2NyaXB0IHZhbHVlcyBzZXJpYWxpemFibGUgdG8gSlNPTi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEpTT05WYWx1ZSA9XG4gIHwgbnVsbFxuICB8IGJvb2xlYW5cbiAgfCBudW1iZXJcbiAgfCBzdHJpbmdcbiAgfCBKU09OVmFsdWVbXVxuICB8IHsgW2tleTogc3RyaW5nXTogSlNPTlZhbHVlIH07XG5cbi8qKlxuICogQW4gaWRlbnRpZmllciBmb3IgYSBkb2N1bWVudCBpbiBDb252ZXguXG4gKlxuICogQ29udmV4IGRvY3VtZW50cyBhcmUgdW5pcXVlbHkgaWRlbnRpZmllZCBieSB0aGVpciBgSWRgLCB3aGljaCBpcyBhY2Nlc3NpYmxlXG4gKiBvbiB0aGUgYF9pZGAgZmllbGQuIFRvIGxlYXJuIG1vcmUsIHNlZSBbRG9jdW1lbnQgSURzXShodHRwczovL2RvY3MuY29udmV4LmRldi9kYXRhYmFzZS9kb2N1bWVudC1pZHMpLlxuICpcbiAqIERvY3VtZW50cyBjYW4gYmUgbG9hZGVkIHVzaW5nIGBkYi5nZXQoaWQpYCBpbiBxdWVyeSBhbmQgbXV0YXRpb24gZnVuY3Rpb25zLlxuICpcbiAqIElEcyBhcmUgYmFzZSAzMiBlbmNvZGVkIHN0cmluZ3Mgd2hpY2ggYXJlIFVSTCBzYWZlLlxuICpcbiAqIElEcyBhcmUganVzdCBzdHJpbmdzIGF0IHJ1bnRpbWUsIGJ1dCB0aGlzIHR5cGUgY2FuIGJlIHVzZWQgdG8gZGlzdGluZ3Vpc2ggdGhlbSBmcm9tIG90aGVyXG4gKiBzdHJpbmdzIGF0IGNvbXBpbGUgdGltZS5cbiAqXG4gKiBJZiB5b3UncmUgdXNpbmcgY29kZSBnZW5lcmF0aW9uLCB1c2UgdGhlIGBJZGAgdHlwZSBnZW5lcmF0ZWQgZm9yIHlvdXIgZGF0YSBtb2RlbCBpblxuICogYGNvbnZleC9fZ2VuZXJhdGVkL2RhdGFNb2RlbC5kLnRzYC5cbiAqXG4gKiBAdHlwZVBhcmFtIFRhYmxlTmFtZSAtIEEgc3RyaW5nIGxpdGVyYWwgdHlwZSBvZiB0aGUgdGFibGUgbmFtZSAobGlrZSBcInVzZXJzXCIpLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgSWQ8VGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPiA9IHN0cmluZyAmIHsgX190YWJsZU5hbWU6IFRhYmxlTmFtZSB9O1xuXG4vKipcbiAqIEEgdmFsdWUgc3VwcG9ydGVkIGJ5IENvbnZleC5cbiAqXG4gKiBWYWx1ZXMgY2FuIGJlOlxuICogLSBzdG9yZWQgaW5zaWRlIG9mIGRvY3VtZW50cy5cbiAqIC0gdXNlZCBhcyBhcmd1bWVudHMgYW5kIHJldHVybiB0eXBlcyB0byBxdWVyaWVzIGFuZCBtdXRhdGlvbiBmdW5jdGlvbnMuXG4gKlxuICogWW91IGNhbiBzZWUgdGhlIGZ1bGwgc2V0IG9mIHN1cHBvcnRlZCB0eXBlcyBhdFxuICogW1R5cGVzXShodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcykuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBWYWx1ZSA9XG4gIHwgbnVsbFxuICB8IGJpZ2ludFxuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCBzdHJpbmdcbiAgfCBBcnJheUJ1ZmZlclxuICB8IFZhbHVlW11cbiAgfCB7IFtrZXk6IHN0cmluZ106IHVuZGVmaW5lZCB8IFZhbHVlIH07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHtAbGluayBWYWx1ZX0gdGhhdCBjYW4gYmUgdXNlZCB0byByZXByZXNlbnQgbnVtYmVycy5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE51bWVyaWNWYWx1ZSA9IGJpZ2ludCB8IG51bWJlcjtcblxuZnVuY3Rpb24gaXNTcGVjaWFsKG46IG51bWJlcikge1xuICByZXR1cm4gTnVtYmVyLmlzTmFOKG4pIHx8ICFOdW1iZXIuaXNGaW5pdGUobikgfHwgT2JqZWN0LmlzKG4sIC0wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsb3dCaWdJbnRUb0Jhc2U2NCh2YWx1ZTogYmlnaW50KTogc3RyaW5nIHtcbiAgLy8gdGhlIGNvbnZlcnNpb24gaXMgZWFzeSBpZiB3ZSBwcmV0ZW5kIGl0J3MgdW5zaWduZWRcbiAgaWYgKHZhbHVlIDwgWkVSTykge1xuICAgIHZhbHVlIC09IE1JTl9JTlQ2NCArIE1JTl9JTlQ2NDtcbiAgfVxuICBsZXQgaGV4ID0gdmFsdWUudG9TdHJpbmcoMTYpO1xuICBpZiAoaGV4Lmxlbmd0aCAlIDIgPT09IDEpIGhleCA9IFwiMFwiICsgaGV4O1xuXG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKDgpKTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGNvbnN0IGhleEJ5dGUgb2YgaGV4Lm1hdGNoKC8uezJ9L2cpIS5yZXZlcnNlKCkpIHtcbiAgICBieXRlcy5zZXQoW3BhcnNlSW50KGhleEJ5dGUsIDE2KV0sIGkrKyk7XG4gICAgdmFsdWUgPj49IEVJR0hUO1xuICB9XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShieXRlcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbG93QmFzZTY0VG9CaWdJbnQoZW5jb2RlZDogc3RyaW5nKTogYmlnaW50IHtcbiAgY29uc3QgaW50ZWdlckJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KGVuY29kZWQpO1xuICBpZiAoaW50ZWdlckJ5dGVzLmJ5dGVMZW5ndGggIT09IDgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVjZWl2ZWQgJHtpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aH0gYnl0ZXMsIGV4cGVjdGVkIDggZm9yICRpbnRlZ2VyYCxcbiAgICApO1xuICB9XG4gIGxldCB2YWx1ZSA9IFpFUk87XG4gIGxldCBwb3dlciA9IFpFUk87XG4gIGZvciAoY29uc3QgYnl0ZSBvZiBpbnRlZ2VyQnl0ZXMpIHtcbiAgICB2YWx1ZSArPSBCaWdJbnQoYnl0ZSkgKiBUV09GSUZUWVNJWCAqKiBwb3dlcjtcbiAgICBwb3dlcisrO1xuICB9XG4gIGlmICh2YWx1ZSA+IE1BWF9JTlQ2NCkge1xuICAgIHZhbHVlICs9IE1JTl9JTlQ2NCArIE1JTl9JTlQ2NDtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb2Rlcm5CaWdJbnRUb0Jhc2U2NCh2YWx1ZTogYmlnaW50KTogc3RyaW5nIHtcbiAgaWYgKHZhbHVlIDwgTUlOX0lOVDY0IHx8IE1BWF9JTlQ2NCA8IHZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEJpZ0ludCAke3ZhbHVlfSBkb2VzIG5vdCBmaXQgaW50byBhIDY0LWJpdCBzaWduZWQgaW50ZWdlci5gLFxuICAgICk7XG4gIH1cbiAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRCaWdJbnQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZGVybkJhc2U2NFRvQmlnSW50KGVuY29kZWQ6IHN0cmluZyk6IGJpZ2ludCB7XG4gIGNvbnN0IGludGVnZXJCeXRlcyA9IEJhc2U2NC50b0J5dGVBcnJheShlbmNvZGVkKTtcbiAgaWYgKGludGVnZXJCeXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlY2VpdmVkICR7aW50ZWdlckJ5dGVzLmJ5dGVMZW5ndGh9IGJ5dGVzLCBleHBlY3RlZCA4IGZvciAkaW50ZWdlcmAsXG4gICAgKTtcbiAgfVxuICBjb25zdCBpbnRCeXRlc1ZpZXcgPSBuZXcgRGF0YVZpZXcoaW50ZWdlckJ5dGVzLmJ1ZmZlcik7XG4gIHJldHVybiBpbnRCeXRlc1ZpZXcuZ2V0QmlnSW50NjQoMCwgdHJ1ZSk7XG59XG5cbi8vIEZhbGwgYmFjayB0byBhIHNsb3dlciB2ZXJzaW9uIG9uIFNhZmFyaSAxNCB3aGljaCBsYWNrcyB0aGVzZSBBUElzLlxuZXhwb3J0IGNvbnN0IGJpZ0ludFRvQmFzZTY0ID0gKERhdGFWaWV3LnByb3RvdHlwZSBhcyBhbnkpLnNldEJpZ0ludDY0XG4gID8gbW9kZXJuQmlnSW50VG9CYXNlNjRcbiAgOiBzbG93QmlnSW50VG9CYXNlNjQ7XG5leHBvcnQgY29uc3QgYmFzZTY0VG9CaWdJbnQgPSAoRGF0YVZpZXcucHJvdG90eXBlIGFzIGFueSkuZ2V0QmlnSW50NjRcbiAgPyBtb2Rlcm5CYXNlNjRUb0JpZ0ludFxuICA6IHNsb3dCYXNlNjRUb0JpZ0ludDtcblxuY29uc3QgTUFYX0lERU5USUZJRVJfTEVOID0gMTAyNDtcblxuZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RGaWVsZChrOiBzdHJpbmcpIHtcbiAgaWYgKGsubGVuZ3RoID4gTUFYX0lERU5USUZJRVJfTEVOKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEZpZWxkIG5hbWUgJHtrfSBleGNlZWRzIG1heGltdW0gZmllbGQgbmFtZSBsZW5ndGggJHtNQVhfSURFTlRJRklFUl9MRU59LmAsXG4gICAgKTtcbiAgfVxuICBpZiAoay5zdGFydHNXaXRoKFwiJFwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmllbGQgbmFtZSAke2t9IHN0YXJ0cyB3aXRoIGEgJyQnLCB3aGljaCBpcyByZXNlcnZlZC5gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBjaGFyQ29kZSA9IGsuY2hhckNvZGVBdChpKTtcbiAgICAvLyBOb24tY29udHJvbCBBU0NJSSBjaGFyYWN0ZXJzXG4gICAgaWYgKGNoYXJDb2RlIDwgMzIgfHwgY2hhckNvZGUgPj0gMTI3KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGaWVsZCBuYW1lICR7a30gaGFzIGludmFsaWQgY2hhcmFjdGVyICcke2tbaV19JzogRmllbGQgbmFtZXMgY2FuIG9ubHkgY29udGFpbiBub24tY29udHJvbCBBU0NJSSBjaGFyYWN0ZXJzYCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUGFyc2UgYSBDb252ZXggdmFsdWUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZGVzZXJpYWxpemUgc2VyaWFsaXplZCBJbnQ2NHMgdG8gYEJpZ0ludGBzLCBCeXRlcyB0byBgQXJyYXlCdWZmZXJgcyBldGMuXG4gKlxuICogVG8gbGVhcm4gbW9yZSBhYm91dCBDb252ZXggdmFsdWVzLCBzZWUgW1R5cGVzXShodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcykuXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYSBDb252ZXggdmFsdWUgcHJldmlvdXNseSBjcmVhdGVkIHdpdGgge0BsaW5rIGNvbnZleFRvSnNvbn0uXG4gKiBAcmV0dXJucyBUaGUgSmF2YVNjcmlwdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29udmV4IHZhbHVlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpzb25Ub0NvbnZleCh2YWx1ZTogSlNPTlZhbHVlKTogVmFsdWUge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHZhbHVlKSA9PiBqc29uVG9Db252ZXgodmFsdWUpKTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgb2YgJHt2YWx1ZSBhcyBhbnl9YCk7XG4gIH1cbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKTtcbiAgaWYgKGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3Qga2V5ID0gZW50cmllc1swXVswXTtcbiAgICBpZiAoa2V5ID09PSBcIiRieXRlc1wiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLiRieXRlcyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCAkYnl0ZXMgZmllbGQgb24gJHt2YWx1ZSBhcyBhbnl9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQmFzZTY0LnRvQnl0ZUFycmF5KHZhbHVlLiRieXRlcykuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRpbnRlZ2VyXCIpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUuJGludGVnZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgJGludGVnZXIgZmllbGQgb24gJHt2YWx1ZSBhcyBhbnl9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZTY0VG9CaWdJbnQodmFsdWUuJGludGVnZXIpO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRmbG9hdFwiKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlLiRmbG9hdCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1hbGZvcm1lZCAkZmxvYXQgZmllbGQgb24gJHt2YWx1ZSBhcyBhbnl9YCk7XG4gICAgICB9XG4gICAgICBjb25zdCBmbG9hdEJ5dGVzID0gQmFzZTY0LnRvQnl0ZUFycmF5KHZhbHVlLiRmbG9hdCk7XG4gICAgICBpZiAoZmxvYXRCeXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUmVjZWl2ZWQgJHtmbG9hdEJ5dGVzLmJ5dGVMZW5ndGh9IGJ5dGVzLCBleHBlY3RlZCA4IGZvciAkZmxvYXRgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgZmxvYXRCeXRlc1ZpZXcgPSBuZXcgRGF0YVZpZXcoZmxvYXRCeXRlcy5idWZmZXIpO1xuICAgICAgY29uc3QgZmxvYXQgPSBmbG9hdEJ5dGVzVmlldy5nZXRGbG9hdDY0KDAsIExJVFRMRV9FTkRJQU4pO1xuICAgICAgaWYgKCFpc1NwZWNpYWwoZmxvYXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxvYXQgJHtmbG9hdH0gc2hvdWxkIGJlIGVuY29kZWQgYXMgYSBudW1iZXJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmbG9hdDtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkc2V0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlY2VpdmVkIGEgU2V0IHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZS5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkbWFwXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlY2VpdmVkIGEgTWFwIHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZS5gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgb3V0OiB7IFtrZXk6IHN0cmluZ106IFZhbHVlIH0gPSB7fTtcbiAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKSB7XG4gICAgdmFsaWRhdGVPYmplY3RGaWVsZChrKTtcbiAgICBvdXRba10gPSBqc29uVG9Db252ZXgodik7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cblxuY29uc3QgTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4gPSAxNjM4NDtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlRm9yRXJyb3IodmFsdWU6IGFueSkge1xuICBjb25zdCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgKF9rZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEJ5IGRlZmF1bHQgYEpTT04uc3RyaW5naWZ5YCBjb252ZXJ0cyB1bmRlZmluZWQsIGZ1bmN0aW9ucywgc3ltYm9scyxcbiAgICAgIC8vIEluZmluaXR5LCBhbmQgTmFOIHRvIG51bGwgd2hpY2ggcHJvZHVjZXMgYSBjb25mdXNpbmcgZXJyb3IgbWVzc2FnZS5cbiAgICAgIC8vIFdlIGRlYWwgd2l0aCBgdW5kZWZpbmVkYCBzcGVjaWZpY2FsbHkgYmVjYXVzZSBpdCdzIHRoZSBtb3N0IGNvbW1vbi5cbiAgICAgIC8vIElkZWFsbHkgd2UnZCB1c2UgYSBwcmV0dHktcHJpbnRpbmcgbGlicmFyeSB0aGF0IHByaW50cyBgdW5kZWZpbmVkYFxuICAgICAgLy8gKG5vIHF1b3RlcyksIGJ1dCBpdCBtaWdodCBub3QgYmUgd29ydGggdGhlIGJ1bmRsZSBzaXplIGNvc3QuXG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgLy8gYEpTT04uc3RyaW5naWZ5YCB0aHJvd3Mgb24gYmlnaW50cyBieSBkZWZhdWx0LlxuICAgICAgcmV0dXJuIGAke3ZhbHVlLnRvU3RyaW5nKCl9bmA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG4gIGlmIChzdHIubGVuZ3RoID4gTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4pIHtcbiAgICBjb25zdCByZXN0ID0gXCJbLi4udHJ1bmNhdGVkXVwiO1xuICAgIGxldCB0cnVuY2F0ZUF0ID0gTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4gLSByZXN0Lmxlbmd0aDtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQodHJ1bmNhdGVBdCAtIDEpO1xuICAgIGlmIChjb2RlUG9pbnQgIT09IHVuZGVmaW5lZCAmJiBjb2RlUG9pbnQgPiAweGZmZmYpIHtcbiAgICAgIC8vIGRvbid0IHNwbGl0IGEgc3Vycm9nYXRlIHBhaXIgaW4gaGFsZlxuICAgICAgdHJ1bmNhdGVBdCAtPSAxO1xuICAgIH1cbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCB0cnVuY2F0ZUF0KSArIHJlc3Q7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gY29udmV4VG9Kc29uSW50ZXJuYWwoXG4gIHZhbHVlOiBWYWx1ZSxcbiAgb3JpZ2luYWxWYWx1ZTogVmFsdWUsXG4gIGNvbnRleHQ6IHN0cmluZyxcbiAgaW5jbHVkZVRvcExldmVsVW5kZWZpbmVkOiBib29sZWFuLFxuKTogSlNPTlZhbHVlIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBjb250ZXh0VGV4dCA9XG4gICAgICBjb250ZXh0ICYmXG4gICAgICBgIChwcmVzZW50IGF0IHBhdGggJHtjb250ZXh0fSBpbiBvcmlnaW5hbCBvYmplY3QgJHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgICBvcmlnaW5hbFZhbHVlLFxuICAgICAgKX0pYDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgdW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIENvbnZleCB2YWx1ZSR7Y29udGV4dFRleHR9LiBUbyBsZWFybiBhYm91dCBDb252ZXgncyBzdXBwb3J0ZWQgdHlwZXMsIHNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcy5gLFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICBpZiAodmFsdWUgPCBNSU5fSU5UNjQgfHwgTUFYX0lOVDY0IDwgdmFsdWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEJpZ0ludCAke3ZhbHVlfSBkb2VzIG5vdCBmaXQgaW50byBhIDY0LWJpdCBzaWduZWQgaW50ZWdlci5gLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgJGludGVnZXI6IGJpZ0ludFRvQmFzZTY0KHZhbHVlKSB9O1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoaXNTcGVjaWFsKHZhbHVlKSkge1xuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICAgICAgbmV3IERhdGFWaWV3KGJ1ZmZlcikuc2V0RmxvYXQ2NCgwLCB2YWx1ZSwgTElUVExFX0VORElBTik7XG4gICAgICByZXR1cm4geyAkZmxvYXQ6IEJhc2U2NC5mcm9tQnl0ZUFycmF5KG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB7ICRieXRlczogQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkodmFsdWUpKSB9O1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHZhbHVlLCBpKSA9PlxuICAgICAgY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQgKyBgWyR7aX1dYCwgZmFsc2UpLFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIFwiU2V0XCIsIFsuLi52YWx1ZV0sIG9yaWdpbmFsVmFsdWUpLFxuICAgICk7XG4gIH1cbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIFwiTWFwXCIsIFsuLi52YWx1ZV0sIG9yaWdpbmFsVmFsdWUpLFxuICAgICk7XG4gIH1cblxuICBpZiAoIWlzU2ltcGxlT2JqZWN0KHZhbHVlKSkge1xuICAgIGNvbnN0IHRoZVR5cGUgPSB2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWU7XG4gICAgY29uc3QgdHlwZU5hbWUgPSB0aGVUeXBlID8gYCR7dGhlVHlwZX0gYCA6IFwiXCI7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgZXJyb3JNZXNzYWdlRm9yVW5zdXBwb3J0ZWRUeXBlKGNvbnRleHQsIHR5cGVOYW1lLCB2YWx1ZSwgb3JpZ2luYWxWYWx1ZSksXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG91dDogeyBba2V5OiBzdHJpbmddOiBKU09OVmFsdWUgfSA9IHt9O1xuICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWUpO1xuICBlbnRyaWVzLnNvcnQoKFtrMSwgX3YxXSwgW2syLCBfdjJdKSA9PiAoazEgPT09IGsyID8gMCA6IGsxIDwgazIgPyAtMSA6IDEpKTtcbiAgZm9yIChjb25zdCBbaywgdl0gb2YgZW50cmllcykge1xuICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRlT2JqZWN0RmllbGQoayk7XG4gICAgICBvdXRba10gPSBjb252ZXhUb0pzb25JbnRlcm5hbCh2LCBvcmlnaW5hbFZhbHVlLCBjb250ZXh0ICsgYC4ke2t9YCwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoaW5jbHVkZVRvcExldmVsVW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0ZU9iamVjdEZpZWxkKGspO1xuICAgICAgb3V0W2tdID0gY29udmV4T3JVbmRlZmluZWRUb0pzb25JbnRlcm5hbChcbiAgICAgICAgdixcbiAgICAgICAgb3JpZ2luYWxWYWx1ZSxcbiAgICAgICAgY29udGV4dCArIGAuJHtrfWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBlcnJvck1lc3NhZ2VGb3JVbnN1cHBvcnRlZFR5cGUoXG4gIGNvbnRleHQ6IHN0cmluZyxcbiAgdHlwZU5hbWU6IHN0cmluZyxcbiAgdmFsdWU6IGFueSxcbiAgb3JpZ2luYWxWYWx1ZTogYW55LFxuKSB7XG4gIGlmIChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGAke3R5cGVOYW1lfSR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIHZhbHVlLFxuICAgICl9IGlzIG5vdCBhIHN1cHBvcnRlZCBDb252ZXggdHlwZSAocHJlc2VudCBhdCBwYXRoICR7Y29udGV4dH0gaW4gb3JpZ2luYWwgb2JqZWN0ICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIG9yaWdpbmFsVmFsdWUsXG4gICAgKX0pLiBUbyBsZWFybiBhYm91dCBDb252ZXgncyBzdXBwb3J0ZWQgdHlwZXMsIHNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcy5gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHt0eXBlTmFtZX0ke3N0cmluZ2lmeVZhbHVlRm9yRXJyb3IoXG4gICAgICB2YWx1ZSxcbiAgICApfSBpcyBub3QgYSBzdXBwb3J0ZWQgQ29udmV4IHR5cGUuYDtcbiAgfVxufVxuXG4vLyBjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsIHdyYXBwZXIgZXhpc3RzIHNvIHdlIGNhbiBwaXBlIHRocm91Z2ggdGhlXG4vLyBgb3JpZ2luYWxWYWx1ZWAgYW5kIGBjb250ZXh0YCB0aHJvdWdoIGZvciBiZXR0ZXIgZXJyb3IgbWVzc2FnaW5nLlxuZnVuY3Rpb24gY29udmV4T3JVbmRlZmluZWRUb0pzb25JbnRlcm5hbChcbiAgdmFsdWU6IFZhbHVlIHwgdW5kZWZpbmVkLFxuICBvcmlnaW5hbFZhbHVlOiBWYWx1ZSB8IHVuZGVmaW5lZCxcbiAgY29udGV4dDogc3RyaW5nLFxuKTogSlNPTlZhbHVlIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4geyAkdW5kZWZpbmVkOiBudWxsIH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9yaWdpbmFsVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbi5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFByb2dyYW1taW5nIGVycm9yLiBDdXJyZW50IHZhbHVlIGlzICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgKX0gYnV0IG9yaWdpbmFsIHZhbHVlIGlzIHVuZGVmaW5lZGAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQsIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSBDb252ZXggdmFsdWUgdG8gaXRzIEpTT04gcmVwcmVzZW50YXRpb24uXG4gKlxuICogVXNlIHtAbGluayBqc29uVG9Db252ZXh9IHRvIHJlY3JlYXRlIHRoZSBvcmlnaW5hbCB2YWx1ZS5cbiAqXG4gKiBUbyBsZWFybiBtb3JlIGFib3V0IENvbnZleCB2YWx1ZXMsIHNlZSBbVHlwZXNdKGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL3R5cGVzKS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBBIENvbnZleCB2YWx1ZSB0byBjb252ZXJ0IGludG8gSlNPTi5cbiAqIEByZXR1cm5zIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGB2YWx1ZWAuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmV4VG9Kc29uKHZhbHVlOiBWYWx1ZSk6IEpTT05WYWx1ZSB7XG4gIHJldHVybiBjb252ZXhUb0pzb25JbnRlcm5hbCh2YWx1ZSwgdmFsdWUsIFwiXCIsIGZhbHNlKTtcbn1cblxuLy8gQ29udmVydCBhIENvbnZleCB2YWx1ZSBvciBgdW5kZWZpbmVkYCBpbnRvIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uLlxuLy8gYHVuZGVmaW5lZGAgaXMgdXNlZCBpbiBmaWx0ZXJzIHRvIHJlcHJlc2VudCBhIG1pc3Npbmcgb2JqZWN0IGZpZWxkLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uKHZhbHVlOiBWYWx1ZSB8IHVuZGVmaW5lZCk6IEpTT05WYWx1ZSB7XG4gIHJldHVybiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsKHZhbHVlLCB2YWx1ZSwgXCJcIik7XG59XG5cbi8qKlxuICogU2ltaWxhciB0byBjb252ZXhUb0pzb24gYnV0IGFsc28gc2VyaWFsaXplcyB0b3AgbGV2ZWwgdW5kZWZpbmVkIGZpZWxkc1xuICogdXNpbmcgY29udmV4T3JVbmRlZmluZWRUb0pzb24oKS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBBIENvbnZleCB2YWx1ZSB0byBjb252ZXJ0IGludG8gSlNPTi5cbiAqIEByZXR1cm5zIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGB2YWx1ZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXRjaFZhbHVlVG9Kc29uKHZhbHVlOiBWYWx1ZSk6IEpTT05WYWx1ZSB7XG4gIHJldHVybiBjb252ZXhUb0pzb25JbnRlcm5hbCh2YWx1ZSwgdmFsdWUsIFwiXCIsIHRydWUpO1xufVxuIl0sIm5hbWVzIjpbInZhbHVlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/values/value.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/vendor/jwt-decode/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   jwtDecode: () => (/* binding */ jwtDecode)\n/* harmony export */ });\n\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (_m, p)=>{\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch(output.length % 4){\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    } catch (e) {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: missing part #\".concat(pos + 1));\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: invalid base64 for part #\".concat(pos + 1, \" (\").concat(e.message, \")\"));\n    }\n    try {\n        return JSON.parse(decoded);\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: invalid json for part #\".concat(pos + 1, \" (\").concat(e.message, \")\"));\n    }\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmVuZG9yL2p3dC1kZWNvZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBb0JPLE1BQU0sMEJBQTBCLE1BQU07QUFBQztBQUU5QyxrQkFBa0IsVUFBVSxPQUFPO0FBRW5DLFNBQVMsaUJBQWlCLEtBQWE7SUFDckMsT0FBTyxtQkFDTCxLQUFLLEdBQUcsRUFBRSxRQUFRLFFBQVEsQ0FBQyxJQUFJO1FBQzdCLElBQUksT0FBUSxFQUFhLFdBQVcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLFlBQVk7UUFDaEUsSUFBSSxLQUFLLFNBQVMsR0FBRztZQUNuQixPQUFPLE1BQU07UUFDZjtRQUNBLE9BQU8sTUFBTTtJQUNmLENBQUM7QUFFTDtBQUVBLFNBQVMsZ0JBQWdCLEtBQWE7SUFDcEMsSUFBSSxTQUFTLElBQUksUUFBUSxNQUFNLEdBQUcsRUFBRSxRQUFRLE1BQU0sR0FBRztJQUNyRCxPQUFRLE9BQU8sU0FBUyxHQUFHO1FBQ3pCLEtBQUs7WUFDSDtRQUNGLEtBQUs7WUFDSCxVQUFVO1lBQ1Y7UUFDRixLQUFLO1lBQ0gsVUFBVTtZQUNWO1FBQ0Y7WUFDRSxNQUFNLElBQUksTUFBTSw0Q0FBNEM7SUFDaEU7SUFFQSxJQUFJO1FBQ0YsT0FBTyxpQkFBaUIsTUFBTTtJQUNoQyxZQUFRO1FBQ04sT0FBTyxLQUFLLE1BQU07SUFDcEI7QUFDRjtBQVVPLFNBQVMsVUFDZCxPQUNBLFNBQ0c7SUFDSCxJQUFJLE9BQU8sVUFBVSxVQUFVO1FBQzdCLE1BQU0sSUFBSSxrQkFBa0IsMkNBQTJDO0lBQ3pFO0lBRUEsc0JBQVksRUFBQztJQUViLE1BQU0sTUFBTSxRQUFRLFdBQVcsT0FBTyxJQUFJO0lBQzFDLE1BQU0sT0FBTyxNQUFNLE1BQU0sR0FBRyxFQUFFLEdBQUc7SUFFakMsSUFBSSxPQUFPLFNBQVMsVUFBVTtRQUM1QixNQUFNLElBQUksa0JBQ1IsMENBQWlELE9BQVAsTUFBTSxDQUFDO0lBRXJEO0lBRUEsSUFBSTtJQUNKLElBQUk7UUFDRixVQUFVLGdCQUFnQixJQUFJO0lBQ2hDLFNBQVMsR0FBRztRQUNWLE1BQU0sSUFBSSxrQkFDUiw0REFBcUQsTUFBTSxDQUFDLFFBQXlCLE9BQW5CLEVBQVksT0FBTztJQUV6RjtJQUVBLElBQUk7UUFDRixPQUFPLEtBQUssTUFBTSxPQUFPO0lBQzNCLFNBQVMsR0FBRztRQUNWLE1BQU0sSUFBSSxrQkFDUiwwREFBbUQsTUFBTSxDQUFDLFFBQXlCLE9BQW5CLEVBQVksT0FBTztJQUV2RjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL3ZlbmRvci9qd3QtZGVjb2RlL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgSnd0RGVjb2RlT3B0aW9ucyB7XG4gIGhlYWRlcj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSnd0SGVhZGVyIHtcbiAgdHlwPzogc3RyaW5nO1xuICBhbGc/OiBzdHJpbmc7XG4gIGtpZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBKd3RQYXlsb2FkIHtcbiAgaXNzPzogc3RyaW5nO1xuICBzdWI/OiBzdHJpbmc7XG4gIGF1ZD86IHN0cmluZ1tdIHwgc3RyaW5nO1xuICBleHA/OiBudW1iZXI7XG4gIG5iZj86IG51bWJlcjtcbiAgaWF0PzogbnVtYmVyO1xuICBqdGk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBJbnZhbGlkVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbkludmFsaWRUb2tlbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJJbnZhbGlkVG9rZW5FcnJvclwiO1xuXG5mdW5jdGlvbiBiNjREZWNvZGVVbmljb2RlKHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoXG4gICAgYXRvYihzdHIpLnJlcGxhY2UoLyguKS9nLCAoX20sIHApID0+IHtcbiAgICAgIGxldCBjb2RlID0gKHAgYXMgc3RyaW5nKS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKGNvZGUubGVuZ3RoIDwgMikge1xuICAgICAgICBjb2RlID0gXCIwXCIgKyBjb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiJVwiICsgY29kZTtcbiAgICB9KSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gYmFzZTY0VXJsRGVjb2RlKHN0cjogc3RyaW5nKSB7XG4gIGxldCBvdXRwdXQgPSBzdHIucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gIHN3aXRjaCAob3V0cHV0Lmxlbmd0aCAlIDQpIHtcbiAgICBjYXNlIDA6XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBvdXRwdXQgKz0gXCI9PVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgb3V0cHV0ICs9IFwiPVwiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImJhc2U2NCBzdHJpbmcgaXMgbm90IG9mIHRoZSBjb3JyZWN0IGxlbmd0aFwiKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGI2NERlY29kZVVuaWNvZGUob3V0cHV0KTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGF0b2Iob3V0cHV0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gand0RGVjb2RlPFQgPSBKd3RIZWFkZXI+KFxuICB0b2tlbjogc3RyaW5nLFxuICBvcHRpb25zOiBKd3REZWNvZGVPcHRpb25zICYgeyBoZWFkZXI6IHRydWUgfSxcbik6IFQ7XG5leHBvcnQgZnVuY3Rpb24gand0RGVjb2RlPFQgPSBKd3RQYXlsb2FkPihcbiAgdG9rZW46IHN0cmluZyxcbiAgb3B0aW9ucz86IEp3dERlY29kZU9wdGlvbnMsXG4pOiBUO1xuZXhwb3J0IGZ1bmN0aW9uIGp3dERlY29kZTxUID0gSnd0SGVhZGVyIHwgSnd0UGF5bG9hZD4oXG4gIHRva2VuOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBKd3REZWNvZGVPcHRpb25zLFxuKTogVCB7XG4gIGlmICh0eXBlb2YgdG9rZW4gIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRva2VuRXJyb3IoXCJJbnZhbGlkIHRva2VuIHNwZWNpZmllZDogbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgfVxuXG4gIG9wdGlvbnMgfHw9IHt9O1xuXG4gIGNvbnN0IHBvcyA9IG9wdGlvbnMuaGVhZGVyID09PSB0cnVlID8gMCA6IDE7XG4gIGNvbnN0IHBhcnQgPSB0b2tlbi5zcGxpdChcIi5cIilbcG9zXTtcblxuICBpZiAodHlwZW9mIHBhcnQgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRva2VuRXJyb3IoXG4gICAgICBgSW52YWxpZCB0b2tlbiBzcGVjaWZpZWQ6IG1pc3NpbmcgcGFydCAjJHtwb3MgKyAxfWAsXG4gICAgKTtcbiAgfVxuXG4gIGxldCBkZWNvZGVkOiBzdHJpbmc7XG4gIHRyeSB7XG4gICAgZGVjb2RlZCA9IGJhc2U2NFVybERlY29kZShwYXJ0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkVG9rZW5FcnJvcihcbiAgICAgIGBJbnZhbGlkIHRva2VuIHNwZWNpZmllZDogaW52YWxpZCBiYXNlNjQgZm9yIHBhcnQgIyR7cG9zICsgMX0gKCR7KGUgYXMgRXJyb3IpLm1lc3NhZ2V9KWAsXG4gICAgKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZCkgYXMgVDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkVG9rZW5FcnJvcihcbiAgICAgIGBJbnZhbGlkIHRva2VuIHNwZWNpZmllZDogaW52YWxpZCBqc29uIGZvciBwYXJ0ICMke3BvcyArIDF9ICgkeyhlIGFzIEVycm9yKS5tZXNzYWdlfSlgLFxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/convex/dist/esm/vendor/long.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/vendor/long.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Long: () => (/* binding */ Long)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass Long {\n    static isLong(obj) {\n        return (obj && obj.__isUnsignedLong__) === true;\n    }\n    // prettier-ignore\n    static fromBytesLE(bytes) {\n        return new Long(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24);\n    }\n    // prettier-ignore\n    toBytesLE() {\n        const hi = this.high;\n        const lo = this.low;\n        return [\n            lo & 255,\n            lo >>> 8 & 255,\n            lo >>> 16 & 255,\n            lo >>> 24,\n            hi & 255,\n            hi >>> 8 & 255,\n            hi >>> 16 & 255,\n            hi >>> 24\n        ];\n    }\n    static fromNumber(value) {\n        if (isNaN(value)) return UZERO;\n        if (value < 0) return UZERO;\n        if (value >= TWO_PWR_64_DBL) return MAX_UNSIGNED_VALUE;\n        return new Long(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0);\n    }\n    toString() {\n        return (BigInt(this.high) * BigInt(TWO_PWR_32_DBL) + BigInt(this.low)).toString();\n    }\n    equals(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.high >>> 31 === 1 && other.high >>> 31 === 1) return false;\n        return this.high === other.high && this.low === other.low;\n    }\n    notEquals(other) {\n        return !this.equals(other);\n    }\n    comp(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.equals(other)) return 0;\n        return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n    }\n    lessThanOrEqual(other) {\n        return this.comp(/* validates */ other) <= 0;\n    }\n    static fromValue(val) {\n        if (typeof val === \"number\") return Long.fromNumber(val);\n        return new Long(val.low, val.high);\n    }\n    constructor(low, high){\n        __publicField(this, \"low\");\n        __publicField(this, \"high\");\n        __publicField(this, \"__isUnsignedLong__\");\n        this.low = low | 0;\n        this.high = high | 0;\n        this.__isUnsignedLong__ = true;\n    }\n}\nconst UZERO = new Long(0, 0);\nconst TWO_PWR_16_DBL = 1 << 16;\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nconst MAX_UNSIGNED_VALUE = new Long(4294967295 | 0, 4294967295 | 0); //# sourceMappingURL=long.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmVuZG9yL2xvbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQXFOTyxNQUFNLEtBQUs7SUFLaEIsT0FBTyxPQUFPLEtBQVc7UUFDdkIsUUFBUSxPQUFPLElBQUksd0JBQXdCO0lBQzdDO0lBQUE7SUFTQSxPQUFPLFlBQVksT0FBdUI7UUFDeEMsT0FBTyxJQUFJLEtBQ1QsTUFBTSxDQUFDLElBQ1AsTUFBTSxDQUFDLEtBQUssSUFDWixNQUFNLENBQUMsS0FBSyxLQUNaLE1BQU0sQ0FBQyxLQUFLLElBQ1osTUFBTSxDQUFDLElBQ1AsTUFBTSxDQUFDLEtBQUssSUFDWixNQUFNLENBQUMsS0FBSyxLQUNaLE1BQU0sQ0FBQyxLQUFLO0lBRWhCO0lBQUE7SUFHQSxZQUFZO1FBQ1YsTUFBTSxLQUFLLEtBQUs7UUFDaEIsTUFBTSxLQUFLLEtBQUs7UUFDaEIsT0FBTztZQUNMLEtBQUs7WUFDTCxPQUFPLElBQUk7WUFDWCxPQUFPLEtBQUs7WUFDWixPQUFPO1lBQ1AsS0FBSztZQUNMLE9BQU8sSUFBSTtZQUNYLE9BQU8sS0FBSztZQUNaLE9BQU87U0FDVDtJQUNGO0lBRUEsT0FBTyxXQUFXLE9BQWU7UUFDL0IsSUFBSSxNQUFNLEtBQUssRUFBRyxRQUFPO1FBQ3pCLElBQUksUUFBUSxFQUFHLFFBQU87UUFDdEIsSUFBSSxTQUFTLGVBQWdCLFFBQU87UUFDcEMsT0FBTyxJQUFJLEtBQUssUUFBUSxpQkFBaUIsR0FBSSxRQUFRLGlCQUFrQixDQUFDO0lBQzFFO0lBRUEsV0FBVztRQUNULFFBQ0UsT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLGNBQWMsSUFDekMsT0FBTyxLQUFLLElBQUcsRUFDZixTQUFTO0lBQ2I7SUFFQSxPQUFPLE9BQWE7UUFDbEIsSUFBSSxDQUFDLEtBQUssT0FBTyxLQUFLLEVBQUcsU0FBUSxLQUFLLFVBQVUsS0FBSztRQUNyRCxJQUFJLEtBQUssU0FBUyxPQUFPLEtBQUssTUFBTSxTQUFTLE9BQU8sRUFBRyxRQUFPO1FBQzlELE9BQU8sS0FBSyxTQUFTLE1BQU0sUUFBUSxLQUFLLFFBQVEsTUFBTTtJQUN4RDtJQUVBLFVBQVUsT0FBYTtRQUNyQixPQUFPLENBQUMsS0FBSyxPQUFPLEtBQUs7SUFDM0I7SUFFQSxLQUFLLE9BQWE7UUFDaEIsSUFBSSxDQUFDLEtBQUssT0FBTyxLQUFLLEVBQUcsU0FBUSxLQUFLLFVBQVUsS0FBSztRQUNyRCxJQUFJLEtBQUssT0FBTyxLQUFLLEVBQUcsUUFBTztRQUMvQixPQUFPLE1BQU0sU0FBUyxJQUFJLEtBQUssU0FBUyxLQUNyQyxNQUFNLFNBQVMsS0FBSyxRQUFRLE1BQU0sUUFBUSxJQUFJLEtBQUssUUFBUSxJQUMxRCxLQUNBO0lBQ047SUFFQSxnQkFBZ0IsT0FBYTtRQUMzQixPQUFPLEtBQUsscUJBQXFCLFVBQVU7SUFDN0M7SUFFQSxPQUFPLFVBQVUsS0FBVTtRQUN6QixJQUFJLE9BQU8sUUFBUSxTQUFVLFFBQU8sS0FBSyxXQUFXLEdBQUc7UUFFdkQsT0FBTyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSTtJQUNuQztJQTdFQSxZQUFZLEtBQWEsS0FBYztRQVJ2QztRQUNBO1FBQ0E7UUFPRSxLQUFLLE1BQU0sTUFBTTtRQUNqQixLQUFLLE9BQU8sT0FBTztRQUNuQixLQUFLLHFCQUFxQjtJQUM1QjtBQTBFRjtBQUVBLE1BQU0sUUFBUSxJQUFJLEtBQUssR0FBRyxDQUFDO0FBQzNCLE1BQU0saUJBQWlCLEtBQUs7QUFDNUIsTUFBTSxpQkFBaUIsaUJBQWlCO0FBQ3hDLE1BQU0saUJBQWlCLGlCQUFpQjtBQUN4QyxNQUFNLHFCQUFxQixJQUFJLEtBQUssYUFBYSxHQUFHLGFBQWEsQ0FBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9zcmMvdmVuZG9yL2xvbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wbGVtZW50cyBhbiB1bnNpZ25lZCBsb25nLlxuLy8gVGhpcyBpcyBhIHN1YnNldCBvZiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9Mb25nLmpzLFxuLy8gdmVuZG9yZWQgdG8gZGVjcmVhc2UgYnVuZGxlIHNpemUuXG4vLyBDb3B5cmlnaHQgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cbi8vIExpY2Vuc2U6IEFwYWNoZSBWZXJzaW9uIDIuMFxuLypcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXBhY2hlIExpY2Vuc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlcnNpb24gMi4wLCBKYW51YXJ5IDIwMDRcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9cblxuICAgVEVSTVMgQU5EIENPTkRJVElPTlMgRk9SIFVTRSwgUkVQUk9EVUNUSU9OLCBBTkQgRElTVFJJQlVUSU9OXG5cbiAgIDEuIERlZmluaXRpb25zLlxuXG4gICAgICBcIkxpY2Vuc2VcIiBzaGFsbCBtZWFuIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBmb3IgdXNlLCByZXByb2R1Y3Rpb24sXG4gICAgICBhbmQgZGlzdHJpYnV0aW9uIGFzIGRlZmluZWQgYnkgU2VjdGlvbnMgMSB0aHJvdWdoIDkgb2YgdGhpcyBkb2N1bWVudC5cblxuICAgICAgXCJMaWNlbnNvclwiIHNoYWxsIG1lYW4gdGhlIGNvcHlyaWdodCBvd25lciBvciBlbnRpdHkgYXV0aG9yaXplZCBieVxuICAgICAgdGhlIGNvcHlyaWdodCBvd25lciB0aGF0IGlzIGdyYW50aW5nIHRoZSBMaWNlbnNlLlxuXG4gICAgICBcIkxlZ2FsIEVudGl0eVwiIHNoYWxsIG1lYW4gdGhlIHVuaW9uIG9mIHRoZSBhY3RpbmcgZW50aXR5IGFuZCBhbGxcbiAgICAgIG90aGVyIGVudGl0aWVzIHRoYXQgY29udHJvbCwgYXJlIGNvbnRyb2xsZWQgYnksIG9yIGFyZSB1bmRlciBjb21tb25cbiAgICAgIGNvbnRyb2wgd2l0aCB0aGF0IGVudGl0eS4gRm9yIHRoZSBwdXJwb3NlcyBvZiB0aGlzIGRlZmluaXRpb24sXG4gICAgICBcImNvbnRyb2xcIiBtZWFucyAoaSkgdGhlIHBvd2VyLCBkaXJlY3Qgb3IgaW5kaXJlY3QsIHRvIGNhdXNlIHRoZVxuICAgICAgZGlyZWN0aW9uIG9yIG1hbmFnZW1lbnQgb2Ygc3VjaCBlbnRpdHksIHdoZXRoZXIgYnkgY29udHJhY3Qgb3JcbiAgICAgIG90aGVyd2lzZSwgb3IgKGlpKSBvd25lcnNoaXAgb2YgZmlmdHkgcGVyY2VudCAoNTAlKSBvciBtb3JlIG9mIHRoZVxuICAgICAgb3V0c3RhbmRpbmcgc2hhcmVzLCBvciAoaWlpKSBiZW5lZmljaWFsIG93bmVyc2hpcCBvZiBzdWNoIGVudGl0eS5cblxuICAgICAgXCJZb3VcIiAob3IgXCJZb3VyXCIpIHNoYWxsIG1lYW4gYW4gaW5kaXZpZHVhbCBvciBMZWdhbCBFbnRpdHlcbiAgICAgIGV4ZXJjaXNpbmcgcGVybWlzc2lvbnMgZ3JhbnRlZCBieSB0aGlzIExpY2Vuc2UuXG5cbiAgICAgIFwiU291cmNlXCIgZm9ybSBzaGFsbCBtZWFuIHRoZSBwcmVmZXJyZWQgZm9ybSBmb3IgbWFraW5nIG1vZGlmaWNhdGlvbnMsXG4gICAgICBpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkIHRvIHNvZnR3YXJlIHNvdXJjZSBjb2RlLCBkb2N1bWVudGF0aW9uXG4gICAgICBzb3VyY2UsIGFuZCBjb25maWd1cmF0aW9uIGZpbGVzLlxuXG4gICAgICBcIk9iamVjdFwiIGZvcm0gc2hhbGwgbWVhbiBhbnkgZm9ybSByZXN1bHRpbmcgZnJvbSBtZWNoYW5pY2FsXG4gICAgICB0cmFuc2Zvcm1hdGlvbiBvciB0cmFuc2xhdGlvbiBvZiBhIFNvdXJjZSBmb3JtLCBpbmNsdWRpbmcgYnV0XG4gICAgICBub3QgbGltaXRlZCB0byBjb21waWxlZCBvYmplY3QgY29kZSwgZ2VuZXJhdGVkIGRvY3VtZW50YXRpb24sXG4gICAgICBhbmQgY29udmVyc2lvbnMgdG8gb3RoZXIgbWVkaWEgdHlwZXMuXG5cbiAgICAgIFwiV29ya1wiIHNoYWxsIG1lYW4gdGhlIHdvcmsgb2YgYXV0aG9yc2hpcCwgd2hldGhlciBpbiBTb3VyY2Ugb3JcbiAgICAgIE9iamVjdCBmb3JtLCBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgTGljZW5zZSwgYXMgaW5kaWNhdGVkIGJ5IGFcbiAgICAgIGNvcHlyaWdodCBub3RpY2UgdGhhdCBpcyBpbmNsdWRlZCBpbiBvciBhdHRhY2hlZCB0byB0aGUgd29ya1xuICAgICAgKGFuIGV4YW1wbGUgaXMgcHJvdmlkZWQgaW4gdGhlIEFwcGVuZGl4IGJlbG93KS5cblxuICAgICAgXCJEZXJpdmF0aXZlIFdvcmtzXCIgc2hhbGwgbWVhbiBhbnkgd29yaywgd2hldGhlciBpbiBTb3VyY2Ugb3IgT2JqZWN0XG4gICAgICBmb3JtLCB0aGF0IGlzIGJhc2VkIG9uIChvciBkZXJpdmVkIGZyb20pIHRoZSBXb3JrIGFuZCBmb3Igd2hpY2ggdGhlXG4gICAgICBlZGl0b3JpYWwgcmV2aXNpb25zLCBhbm5vdGF0aW9ucywgZWxhYm9yYXRpb25zLCBvciBvdGhlciBtb2RpZmljYXRpb25zXG4gICAgICByZXByZXNlbnQsIGFzIGEgd2hvbGUsIGFuIG9yaWdpbmFsIHdvcmsgb2YgYXV0aG9yc2hpcC4gRm9yIHRoZSBwdXJwb3Nlc1xuICAgICAgb2YgdGhpcyBMaWNlbnNlLCBEZXJpdmF0aXZlIFdvcmtzIHNoYWxsIG5vdCBpbmNsdWRlIHdvcmtzIHRoYXQgcmVtYWluXG4gICAgICBzZXBhcmFibGUgZnJvbSwgb3IgbWVyZWx5IGxpbmsgKG9yIGJpbmQgYnkgbmFtZSkgdG8gdGhlIGludGVyZmFjZXMgb2YsXG4gICAgICB0aGUgV29yayBhbmQgRGVyaXZhdGl2ZSBXb3JrcyB0aGVyZW9mLlxuXG4gICAgICBcIkNvbnRyaWJ1dGlvblwiIHNoYWxsIG1lYW4gYW55IHdvcmsgb2YgYXV0aG9yc2hpcCwgaW5jbHVkaW5nXG4gICAgICB0aGUgb3JpZ2luYWwgdmVyc2lvbiBvZiB0aGUgV29yayBhbmQgYW55IG1vZGlmaWNhdGlvbnMgb3IgYWRkaXRpb25zXG4gICAgICB0byB0aGF0IFdvcmsgb3IgRGVyaXZhdGl2ZSBXb3JrcyB0aGVyZW9mLCB0aGF0IGlzIGludGVudGlvbmFsbHlcbiAgICAgIHN1Ym1pdHRlZCB0byBMaWNlbnNvciBmb3IgaW5jbHVzaW9uIGluIHRoZSBXb3JrIGJ5IHRoZSBjb3B5cmlnaHQgb3duZXJcbiAgICAgIG9yIGJ5IGFuIGluZGl2aWR1YWwgb3IgTGVnYWwgRW50aXR5IGF1dGhvcml6ZWQgdG8gc3VibWl0IG9uIGJlaGFsZiBvZlxuICAgICAgdGhlIGNvcHlyaWdodCBvd25lci4gRm9yIHRoZSBwdXJwb3NlcyBvZiB0aGlzIGRlZmluaXRpb24sIFwic3VibWl0dGVkXCJcbiAgICAgIG1lYW5zIGFueSBmb3JtIG9mIGVsZWN0cm9uaWMsIHZlcmJhbCwgb3Igd3JpdHRlbiBjb21tdW5pY2F0aW9uIHNlbnRcbiAgICAgIHRvIHRoZSBMaWNlbnNvciBvciBpdHMgcmVwcmVzZW50YXRpdmVzLCBpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkIHRvXG4gICAgICBjb21tdW5pY2F0aW9uIG9uIGVsZWN0cm9uaWMgbWFpbGluZyBsaXN0cywgc291cmNlIGNvZGUgY29udHJvbCBzeXN0ZW1zLFxuICAgICAgYW5kIGlzc3VlIHRyYWNraW5nIHN5c3RlbXMgdGhhdCBhcmUgbWFuYWdlZCBieSwgb3Igb24gYmVoYWxmIG9mLCB0aGVcbiAgICAgIExpY2Vuc29yIGZvciB0aGUgcHVycG9zZSBvZiBkaXNjdXNzaW5nIGFuZCBpbXByb3ZpbmcgdGhlIFdvcmssIGJ1dFxuICAgICAgZXhjbHVkaW5nIGNvbW11bmljYXRpb24gdGhhdCBpcyBjb25zcGljdW91c2x5IG1hcmtlZCBvciBvdGhlcndpc2VcbiAgICAgIGRlc2lnbmF0ZWQgaW4gd3JpdGluZyBieSB0aGUgY29weXJpZ2h0IG93bmVyIGFzIFwiTm90IGEgQ29udHJpYnV0aW9uLlwiXG5cbiAgICAgIFwiQ29udHJpYnV0b3JcIiBzaGFsbCBtZWFuIExpY2Vuc29yIGFuZCBhbnkgaW5kaXZpZHVhbCBvciBMZWdhbCBFbnRpdHlcbiAgICAgIG9uIGJlaGFsZiBvZiB3aG9tIGEgQ29udHJpYnV0aW9uIGhhcyBiZWVuIHJlY2VpdmVkIGJ5IExpY2Vuc29yIGFuZFxuICAgICAgc3Vic2VxdWVudGx5IGluY29ycG9yYXRlZCB3aXRoaW4gdGhlIFdvcmsuXG5cbiAgIDIuIEdyYW50IG9mIENvcHlyaWdodCBMaWNlbnNlLiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZlxuICAgICAgdGhpcyBMaWNlbnNlLCBlYWNoIENvbnRyaWJ1dG9yIGhlcmVieSBncmFudHMgdG8gWW91IGEgcGVycGV0dWFsLFxuICAgICAgd29ybGR3aWRlLCBub24tZXhjbHVzaXZlLCBuby1jaGFyZ2UsIHJveWFsdHktZnJlZSwgaXJyZXZvY2FibGVcbiAgICAgIGNvcHlyaWdodCBsaWNlbnNlIHRvIHJlcHJvZHVjZSwgcHJlcGFyZSBEZXJpdmF0aXZlIFdvcmtzIG9mLFxuICAgICAgcHVibGljbHkgZGlzcGxheSwgcHVibGljbHkgcGVyZm9ybSwgc3VibGljZW5zZSwgYW5kIGRpc3RyaWJ1dGUgdGhlXG4gICAgICBXb3JrIGFuZCBzdWNoIERlcml2YXRpdmUgV29ya3MgaW4gU291cmNlIG9yIE9iamVjdCBmb3JtLlxuXG4gICAzLiBHcmFudCBvZiBQYXRlbnQgTGljZW5zZS4gU3ViamVjdCB0byB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2ZcbiAgICAgIHRoaXMgTGljZW5zZSwgZWFjaCBDb250cmlidXRvciBoZXJlYnkgZ3JhbnRzIHRvIFlvdSBhIHBlcnBldHVhbCxcbiAgICAgIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGlycmV2b2NhYmxlXG4gICAgICAoZXhjZXB0IGFzIHN0YXRlZCBpbiB0aGlzIHNlY3Rpb24pIHBhdGVudCBsaWNlbnNlIHRvIG1ha2UsIGhhdmUgbWFkZSxcbiAgICAgIHVzZSwgb2ZmZXIgdG8gc2VsbCwgc2VsbCwgaW1wb3J0LCBhbmQgb3RoZXJ3aXNlIHRyYW5zZmVyIHRoZSBXb3JrLFxuICAgICAgd2hlcmUgc3VjaCBsaWNlbnNlIGFwcGxpZXMgb25seSB0byB0aG9zZSBwYXRlbnQgY2xhaW1zIGxpY2Vuc2FibGVcbiAgICAgIGJ5IHN1Y2ggQ29udHJpYnV0b3IgdGhhdCBhcmUgbmVjZXNzYXJpbHkgaW5mcmluZ2VkIGJ5IHRoZWlyXG4gICAgICBDb250cmlidXRpb24ocykgYWxvbmUgb3IgYnkgY29tYmluYXRpb24gb2YgdGhlaXIgQ29udHJpYnV0aW9uKHMpXG4gICAgICB3aXRoIHRoZSBXb3JrIHRvIHdoaWNoIHN1Y2ggQ29udHJpYnV0aW9uKHMpIHdhcyBzdWJtaXR0ZWQuIElmIFlvdVxuICAgICAgaW5zdGl0dXRlIHBhdGVudCBsaXRpZ2F0aW9uIGFnYWluc3QgYW55IGVudGl0eSAoaW5jbHVkaW5nIGFcbiAgICAgIGNyb3NzLWNsYWltIG9yIGNvdW50ZXJjbGFpbSBpbiBhIGxhd3N1aXQpIGFsbGVnaW5nIHRoYXQgdGhlIFdvcmtcbiAgICAgIG9yIGEgQ29udHJpYnV0aW9uIGluY29ycG9yYXRlZCB3aXRoaW4gdGhlIFdvcmsgY29uc3RpdHV0ZXMgZGlyZWN0XG4gICAgICBvciBjb250cmlidXRvcnkgcGF0ZW50IGluZnJpbmdlbWVudCwgdGhlbiBhbnkgcGF0ZW50IGxpY2Vuc2VzXG4gICAgICBncmFudGVkIHRvIFlvdSB1bmRlciB0aGlzIExpY2Vuc2UgZm9yIHRoYXQgV29yayBzaGFsbCB0ZXJtaW5hdGVcbiAgICAgIGFzIG9mIHRoZSBkYXRlIHN1Y2ggbGl0aWdhdGlvbiBpcyBmaWxlZC5cblxuICAgNC4gUmVkaXN0cmlidXRpb24uIFlvdSBtYXkgcmVwcm9kdWNlIGFuZCBkaXN0cmlidXRlIGNvcGllcyBvZiB0aGVcbiAgICAgIFdvcmsgb3IgRGVyaXZhdGl2ZSBXb3JrcyB0aGVyZW9mIGluIGFueSBtZWRpdW0sIHdpdGggb3Igd2l0aG91dFxuICAgICAgbW9kaWZpY2F0aW9ucywgYW5kIGluIFNvdXJjZSBvciBPYmplY3QgZm9ybSwgcHJvdmlkZWQgdGhhdCBZb3VcbiAgICAgIG1lZXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gICAgICAoYSkgWW91IG11c3QgZ2l2ZSBhbnkgb3RoZXIgcmVjaXBpZW50cyBvZiB0aGUgV29yayBvclxuICAgICAgICAgIERlcml2YXRpdmUgV29ya3MgYSBjb3B5IG9mIHRoaXMgTGljZW5zZTsgYW5kXG5cbiAgICAgIChiKSBZb3UgbXVzdCBjYXVzZSBhbnkgbW9kaWZpZWQgZmlsZXMgdG8gY2FycnkgcHJvbWluZW50IG5vdGljZXNcbiAgICAgICAgICBzdGF0aW5nIHRoYXQgWW91IGNoYW5nZWQgdGhlIGZpbGVzOyBhbmRcblxuICAgICAgKGMpIFlvdSBtdXN0IHJldGFpbiwgaW4gdGhlIFNvdXJjZSBmb3JtIG9mIGFueSBEZXJpdmF0aXZlIFdvcmtzXG4gICAgICAgICAgdGhhdCBZb3UgZGlzdHJpYnV0ZSwgYWxsIGNvcHlyaWdodCwgcGF0ZW50LCB0cmFkZW1hcmssIGFuZFxuICAgICAgICAgIGF0dHJpYnV0aW9uIG5vdGljZXMgZnJvbSB0aGUgU291cmNlIGZvcm0gb2YgdGhlIFdvcmssXG4gICAgICAgICAgZXhjbHVkaW5nIHRob3NlIG5vdGljZXMgdGhhdCBkbyBub3QgcGVydGFpbiB0byBhbnkgcGFydCBvZlxuICAgICAgICAgIHRoZSBEZXJpdmF0aXZlIFdvcmtzOyBhbmRcblxuICAgICAgKGQpIElmIHRoZSBXb3JrIGluY2x1ZGVzIGEgXCJOT1RJQ0VcIiB0ZXh0IGZpbGUgYXMgcGFydCBvZiBpdHNcbiAgICAgICAgICBkaXN0cmlidXRpb24sIHRoZW4gYW55IERlcml2YXRpdmUgV29ya3MgdGhhdCBZb3UgZGlzdHJpYnV0ZSBtdXN0XG4gICAgICAgICAgaW5jbHVkZSBhIHJlYWRhYmxlIGNvcHkgb2YgdGhlIGF0dHJpYnV0aW9uIG5vdGljZXMgY29udGFpbmVkXG4gICAgICAgICAgd2l0aGluIHN1Y2ggTk9USUNFIGZpbGUsIGV4Y2x1ZGluZyB0aG9zZSBub3RpY2VzIHRoYXQgZG8gbm90XG4gICAgICAgICAgcGVydGFpbiB0byBhbnkgcGFydCBvZiB0aGUgRGVyaXZhdGl2ZSBXb3JrcywgaW4gYXQgbGVhc3Qgb25lXG4gICAgICAgICAgb2YgdGhlIGZvbGxvd2luZyBwbGFjZXM6IHdpdGhpbiBhIE5PVElDRSB0ZXh0IGZpbGUgZGlzdHJpYnV0ZWRcbiAgICAgICAgICBhcyBwYXJ0IG9mIHRoZSBEZXJpdmF0aXZlIFdvcmtzOyB3aXRoaW4gdGhlIFNvdXJjZSBmb3JtIG9yXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbiwgaWYgcHJvdmlkZWQgYWxvbmcgd2l0aCB0aGUgRGVyaXZhdGl2ZSBXb3Jrczsgb3IsXG4gICAgICAgICAgd2l0aGluIGEgZGlzcGxheSBnZW5lcmF0ZWQgYnkgdGhlIERlcml2YXRpdmUgV29ya3MsIGlmIGFuZFxuICAgICAgICAgIHdoZXJldmVyIHN1Y2ggdGhpcmQtcGFydHkgbm90aWNlcyBub3JtYWxseSBhcHBlYXIuIFRoZSBjb250ZW50c1xuICAgICAgICAgIG9mIHRoZSBOT1RJQ0UgZmlsZSBhcmUgZm9yIGluZm9ybWF0aW9uYWwgcHVycG9zZXMgb25seSBhbmRcbiAgICAgICAgICBkbyBub3QgbW9kaWZ5IHRoZSBMaWNlbnNlLiBZb3UgbWF5IGFkZCBZb3VyIG93biBhdHRyaWJ1dGlvblxuICAgICAgICAgIG5vdGljZXMgd2l0aGluIERlcml2YXRpdmUgV29ya3MgdGhhdCBZb3UgZGlzdHJpYnV0ZSwgYWxvbmdzaWRlXG4gICAgICAgICAgb3IgYXMgYW4gYWRkZW5kdW0gdG8gdGhlIE5PVElDRSB0ZXh0IGZyb20gdGhlIFdvcmssIHByb3ZpZGVkXG4gICAgICAgICAgdGhhdCBzdWNoIGFkZGl0aW9uYWwgYXR0cmlidXRpb24gbm90aWNlcyBjYW5ub3QgYmUgY29uc3RydWVkXG4gICAgICAgICAgYXMgbW9kaWZ5aW5nIHRoZSBMaWNlbnNlLlxuXG4gICAgICBZb3UgbWF5IGFkZCBZb3VyIG93biBjb3B5cmlnaHQgc3RhdGVtZW50IHRvIFlvdXIgbW9kaWZpY2F0aW9ucyBhbmRcbiAgICAgIG1heSBwcm92aWRlIGFkZGl0aW9uYWwgb3IgZGlmZmVyZW50IGxpY2Vuc2UgdGVybXMgYW5kIGNvbmRpdGlvbnNcbiAgICAgIGZvciB1c2UsIHJlcHJvZHVjdGlvbiwgb3IgZGlzdHJpYnV0aW9uIG9mIFlvdXIgbW9kaWZpY2F0aW9ucywgb3JcbiAgICAgIGZvciBhbnkgc3VjaCBEZXJpdmF0aXZlIFdvcmtzIGFzIGEgd2hvbGUsIHByb3ZpZGVkIFlvdXIgdXNlLFxuICAgICAgcmVwcm9kdWN0aW9uLCBhbmQgZGlzdHJpYnV0aW9uIG9mIHRoZSBXb3JrIG90aGVyd2lzZSBjb21wbGllcyB3aXRoXG4gICAgICB0aGUgY29uZGl0aW9ucyBzdGF0ZWQgaW4gdGhpcyBMaWNlbnNlLlxuXG4gICA1LiBTdWJtaXNzaW9uIG9mIENvbnRyaWJ1dGlvbnMuIFVubGVzcyBZb3UgZXhwbGljaXRseSBzdGF0ZSBvdGhlcndpc2UsXG4gICAgICBhbnkgQ29udHJpYnV0aW9uIGludGVudGlvbmFsbHkgc3VibWl0dGVkIGZvciBpbmNsdXNpb24gaW4gdGhlIFdvcmtcbiAgICAgIGJ5IFlvdSB0byB0aGUgTGljZW5zb3Igc2hhbGwgYmUgdW5kZXIgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mXG4gICAgICB0aGlzIExpY2Vuc2UsIHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgdGVybXMgb3IgY29uZGl0aW9ucy5cbiAgICAgIE5vdHdpdGhzdGFuZGluZyB0aGUgYWJvdmUsIG5vdGhpbmcgaGVyZWluIHNoYWxsIHN1cGVyc2VkZSBvciBtb2RpZnlcbiAgICAgIHRoZSB0ZXJtcyBvZiBhbnkgc2VwYXJhdGUgbGljZW5zZSBhZ3JlZW1lbnQgeW91IG1heSBoYXZlIGV4ZWN1dGVkXG4gICAgICB3aXRoIExpY2Vuc29yIHJlZ2FyZGluZyBzdWNoIENvbnRyaWJ1dGlvbnMuXG5cbiAgIDYuIFRyYWRlbWFya3MuIFRoaXMgTGljZW5zZSBkb2VzIG5vdCBncmFudCBwZXJtaXNzaW9uIHRvIHVzZSB0aGUgdHJhZGVcbiAgICAgIG5hbWVzLCB0cmFkZW1hcmtzLCBzZXJ2aWNlIG1hcmtzLCBvciBwcm9kdWN0IG5hbWVzIG9mIHRoZSBMaWNlbnNvcixcbiAgICAgIGV4Y2VwdCBhcyByZXF1aXJlZCBmb3IgcmVhc29uYWJsZSBhbmQgY3VzdG9tYXJ5IHVzZSBpbiBkZXNjcmliaW5nIHRoZVxuICAgICAgb3JpZ2luIG9mIHRoZSBXb3JrIGFuZCByZXByb2R1Y2luZyB0aGUgY29udGVudCBvZiB0aGUgTk9USUNFIGZpbGUuXG5cbiAgIDcuIERpc2NsYWltZXIgb2YgV2FycmFudHkuIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvclxuICAgICAgYWdyZWVkIHRvIGluIHdyaXRpbmcsIExpY2Vuc29yIHByb3ZpZGVzIHRoZSBXb3JrIChhbmQgZWFjaFxuICAgICAgQ29udHJpYnV0b3IgcHJvdmlkZXMgaXRzIENvbnRyaWJ1dGlvbnMpIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAgICAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvclxuICAgICAgaW1wbGllZCwgaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGFueSB3YXJyYW50aWVzIG9yIGNvbmRpdGlvbnNcbiAgICAgIG9mIFRJVExFLCBOT04tSU5GUklOR0VNRU5ULCBNRVJDSEFOVEFCSUxJVFksIG9yIEZJVE5FU1MgRk9SIEFcbiAgICAgIFBBUlRJQ1VMQVIgUFVSUE9TRS4gWW91IGFyZSBzb2xlbHkgcmVzcG9uc2libGUgZm9yIGRldGVybWluaW5nIHRoZVxuICAgICAgYXBwcm9wcmlhdGVuZXNzIG9mIHVzaW5nIG9yIHJlZGlzdHJpYnV0aW5nIHRoZSBXb3JrIGFuZCBhc3N1bWUgYW55XG4gICAgICByaXNrcyBhc3NvY2lhdGVkIHdpdGggWW91ciBleGVyY2lzZSBvZiBwZXJtaXNzaW9ucyB1bmRlciB0aGlzIExpY2Vuc2UuXG5cbiAgIDguIExpbWl0YXRpb24gb2YgTGlhYmlsaXR5LiBJbiBubyBldmVudCBhbmQgdW5kZXIgbm8gbGVnYWwgdGhlb3J5LFxuICAgICAgd2hldGhlciBpbiB0b3J0IChpbmNsdWRpbmcgbmVnbGlnZW5jZSksIGNvbnRyYWN0LCBvciBvdGhlcndpc2UsXG4gICAgICB1bmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgKHN1Y2ggYXMgZGVsaWJlcmF0ZSBhbmQgZ3Jvc3NseVxuICAgICAgbmVnbGlnZW50IGFjdHMpIG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzaGFsbCBhbnkgQ29udHJpYnV0b3IgYmVcbiAgICAgIGxpYWJsZSB0byBZb3UgZm9yIGRhbWFnZXMsIGluY2x1ZGluZyBhbnkgZGlyZWN0LCBpbmRpcmVjdCwgc3BlY2lhbCxcbiAgICAgIGluY2lkZW50YWwsIG9yIGNvbnNlcXVlbnRpYWwgZGFtYWdlcyBvZiBhbnkgY2hhcmFjdGVyIGFyaXNpbmcgYXMgYVxuICAgICAgcmVzdWx0IG9mIHRoaXMgTGljZW5zZSBvciBvdXQgb2YgdGhlIHVzZSBvciBpbmFiaWxpdHkgdG8gdXNlIHRoZVxuICAgICAgV29yayAoaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZCB0byBkYW1hZ2VzIGZvciBsb3NzIG9mIGdvb2R3aWxsLFxuICAgICAgd29yayBzdG9wcGFnZSwgY29tcHV0ZXIgZmFpbHVyZSBvciBtYWxmdW5jdGlvbiwgb3IgYW55IGFuZCBhbGxcbiAgICAgIG90aGVyIGNvbW1lcmNpYWwgZGFtYWdlcyBvciBsb3NzZXMpLCBldmVuIGlmIHN1Y2ggQ29udHJpYnV0b3JcbiAgICAgIGhhcyBiZWVuIGFkdmlzZWQgb2YgdGhlIHBvc3NpYmlsaXR5IG9mIHN1Y2ggZGFtYWdlcy5cblxuICAgOS4gQWNjZXB0aW5nIFdhcnJhbnR5IG9yIEFkZGl0aW9uYWwgTGlhYmlsaXR5LiBXaGlsZSByZWRpc3RyaWJ1dGluZ1xuICAgICAgdGhlIFdvcmsgb3IgRGVyaXZhdGl2ZSBXb3JrcyB0aGVyZW9mLCBZb3UgbWF5IGNob29zZSB0byBvZmZlcixcbiAgICAgIGFuZCBjaGFyZ2UgYSBmZWUgZm9yLCBhY2NlcHRhbmNlIG9mIHN1cHBvcnQsIHdhcnJhbnR5LCBpbmRlbW5pdHksXG4gICAgICBvciBvdGhlciBsaWFiaWxpdHkgb2JsaWdhdGlvbnMgYW5kL29yIHJpZ2h0cyBjb25zaXN0ZW50IHdpdGggdGhpc1xuICAgICAgTGljZW5zZS4gSG93ZXZlciwgaW4gYWNjZXB0aW5nIHN1Y2ggb2JsaWdhdGlvbnMsIFlvdSBtYXkgYWN0IG9ubHlcbiAgICAgIG9uIFlvdXIgb3duIGJlaGFsZiBhbmQgb24gWW91ciBzb2xlIHJlc3BvbnNpYmlsaXR5LCBub3Qgb24gYmVoYWxmXG4gICAgICBvZiBhbnkgb3RoZXIgQ29udHJpYnV0b3IsIGFuZCBvbmx5IGlmIFlvdSBhZ3JlZSB0byBpbmRlbW5pZnksXG4gICAgICBkZWZlbmQsIGFuZCBob2xkIGVhY2ggQ29udHJpYnV0b3IgaGFybWxlc3MgZm9yIGFueSBsaWFiaWxpdHlcbiAgICAgIGluY3VycmVkIGJ5LCBvciBjbGFpbXMgYXNzZXJ0ZWQgYWdhaW5zdCwgc3VjaCBDb250cmlidXRvciBieSByZWFzb25cbiAgICAgIG9mIHlvdXIgYWNjZXB0aW5nIGFueSBzdWNoIHdhcnJhbnR5IG9yIGFkZGl0aW9uYWwgbGlhYmlsaXR5LlxuXG4gICBFTkQgT0YgVEVSTVMgQU5EIENPTkRJVElPTlNcblxuICAgQVBQRU5ESVg6IEhvdyB0byBhcHBseSB0aGUgQXBhY2hlIExpY2Vuc2UgdG8geW91ciB3b3JrLlxuXG4gICAgICBUbyBhcHBseSB0aGUgQXBhY2hlIExpY2Vuc2UgdG8geW91ciB3b3JrLCBhdHRhY2ggdGhlIGZvbGxvd2luZ1xuICAgICAgYm9pbGVycGxhdGUgbm90aWNlLCB3aXRoIHRoZSBmaWVsZHMgZW5jbG9zZWQgYnkgYnJhY2tldHMgXCJbXVwiXG4gICAgICByZXBsYWNlZCB3aXRoIHlvdXIgb3duIGlkZW50aWZ5aW5nIGluZm9ybWF0aW9uLiAoRG9uJ3QgaW5jbHVkZVxuICAgICAgdGhlIGJyYWNrZXRzISkgIFRoZSB0ZXh0IHNob3VsZCBiZSBlbmNsb3NlZCBpbiB0aGUgYXBwcm9wcmlhdGVcbiAgICAgIGNvbW1lbnQgc3ludGF4IGZvciB0aGUgZmlsZSBmb3JtYXQuIFdlIGFsc28gcmVjb21tZW5kIHRoYXQgYVxuICAgICAgZmlsZSBvciBjbGFzcyBuYW1lIGFuZCBkZXNjcmlwdGlvbiBvZiBwdXJwb3NlIGJlIGluY2x1ZGVkIG9uIHRoZVxuICAgICAgc2FtZSBcInByaW50ZWQgcGFnZVwiIGFzIHRoZSBjb3B5cmlnaHQgbm90aWNlIGZvciBlYXNpZXJcbiAgICAgIGlkZW50aWZpY2F0aW9uIHdpdGhpbiB0aGlyZC1wYXJ0eSBhcmNoaXZlcy5cblxuICAgQ29weXJpZ2h0IDIwMjMgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cblxuICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAgIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cbiAgIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAgIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAgIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG4vLyBUaGlzIHdvcmtzLi4uIGJ1dCBkb24ndCB0cnkgdG8gY29tcGFyZSBvbmUgdG8gYSByZWFsIExvbmcuanMgTG9uZyFcbi8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cbi8vIGB8IDBgIGFzc3VyZXMgdGhlIHJ1bnRpbWUgdGhhdCB3ZSBhcmUgdXNpbmcgaW50ZWdlciBhcml0aG1ldGljXG5leHBvcnQgY2xhc3MgTG9uZyB7XG4gIGxvdzogbnVtYmVyO1xuICBoaWdoOiBudW1iZXI7XG4gIF9faXNVbnNpZ25lZExvbmdfXzogYm9vbGVhbjtcblxuICBzdGF0aWMgaXNMb25nKG9iajogTG9uZykge1xuICAgIHJldHVybiAob2JqICYmIG9iai5fX2lzVW5zaWduZWRMb25nX18pID09PSB0cnVlO1xuICB9XG5cbiAgY29uc3RydWN0b3IobG93OiBudW1iZXIsIGhpZ2g6IG51bWJlcikge1xuICAgIHRoaXMubG93ID0gbG93IHwgMDtcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcbiAgICB0aGlzLl9faXNVbnNpZ25lZExvbmdfXyA9IHRydWU7XG4gIH1cblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgc3RhdGljIGZyb21CeXRlc0xFKGJ5dGVzOiBudW1iZXJbXSk6IExvbmcge1xuICAgIHJldHVybiBuZXcgTG9uZyhcbiAgICAgIGJ5dGVzWzBdIHxcbiAgICAgIGJ5dGVzWzFdIDw8IDggfFxuICAgICAgYnl0ZXNbMl0gPDwgMTYgfFxuICAgICAgYnl0ZXNbM10gPDwgMjQsXG4gICAgICBieXRlc1s0XSB8XG4gICAgICBieXRlc1s1XSA8PCA4IHxcbiAgICAgIGJ5dGVzWzZdIDw8IDE2IHxcbiAgICAgIGJ5dGVzWzddIDw8IDI0LFxuICAgICk7XG4gIH1cblxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgdG9CeXRlc0xFKCkge1xuICAgIGNvbnN0IGhpID0gdGhpcy5oaWdoO1xuICAgIGNvbnN0IGxvID0gdGhpcy5sb3c7XG4gICAgcmV0dXJuIFtcbiAgICAgIGxvICYgMHhmZixcbiAgICAgIGxvID4+PiA4ICYgMHhmZixcbiAgICAgIGxvID4+PiAxNiAmIDB4ZmYsXG4gICAgICBsbyA+Pj4gMjQsXG4gICAgICBoaSAmIDB4ZmYsXG4gICAgICBoaSA+Pj4gOCAmIDB4ZmYsXG4gICAgICBoaSA+Pj4gMTYgJiAweGZmLFxuICAgICAgaGkgPj4+IDI0XG4gICAgXTtcbiAgfVxuXG4gIHN0YXRpYyBmcm9tTnVtYmVyKHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gVVpFUk87XG4gICAgaWYgKHZhbHVlIDwgMCkgcmV0dXJuIFVaRVJPO1xuICAgIGlmICh2YWx1ZSA+PSBUV09fUFdSXzY0X0RCTCkgcmV0dXJuIE1BWF9VTlNJR05FRF9WQUxVRTtcbiAgICByZXR1cm4gbmV3IExvbmcodmFsdWUgJSBUV09fUFdSXzMyX0RCTCB8IDAsICh2YWx1ZSAvIFRXT19QV1JfMzJfREJMKSB8IDApO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIEJpZ0ludCh0aGlzLmhpZ2gpICogQmlnSW50KFRXT19QV1JfMzJfREJMKSArXG4gICAgICBCaWdJbnQodGhpcy5sb3cpXG4gICAgKS50b1N0cmluZygpO1xuICB9XG5cbiAgZXF1YWxzKG90aGVyOiBMb25nKSB7XG4gICAgaWYgKCFMb25nLmlzTG9uZyhvdGhlcikpIG90aGVyID0gTG9uZy5mcm9tVmFsdWUob3RoZXIpO1xuICAgIGlmICh0aGlzLmhpZ2ggPj4+IDMxID09PSAxICYmIG90aGVyLmhpZ2ggPj4+IDMxID09PSAxKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gb3RoZXIuaGlnaCAmJiB0aGlzLmxvdyA9PT0gb3RoZXIubG93O1xuICB9XG5cbiAgbm90RXF1YWxzKG90aGVyOiBMb25nKSB7XG4gICAgcmV0dXJuICF0aGlzLmVxdWFscyhvdGhlcik7XG4gIH1cblxuICBjb21wKG90aGVyOiBMb25nKSB7XG4gICAgaWYgKCFMb25nLmlzTG9uZyhvdGhlcikpIG90aGVyID0gTG9uZy5mcm9tVmFsdWUob3RoZXIpO1xuICAgIGlmICh0aGlzLmVxdWFscyhvdGhlcikpIHJldHVybiAwO1xuICAgIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8XG4gICAgICAob3RoZXIuaGlnaCA9PT0gdGhpcy5oaWdoICYmIG90aGVyLmxvdyA+Pj4gMCA+IHRoaXMubG93ID4+PiAwKVxuICAgICAgPyAtMVxuICAgICAgOiAxO1xuICB9XG5cbiAgbGVzc1RoYW5PckVxdWFsKG90aGVyOiBMb25nKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDw9IDA7XG4gIH1cblxuICBzdGF0aWMgZnJvbVZhbHVlKHZhbDogYW55KSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHJldHVybiBMb25nLmZyb21OdW1iZXIodmFsKTtcbiAgICAvLyBUaHJvd3MgZm9yIG5vbi1vYmplY3RzLCBjb252ZXJ0cyBub24taW5zdGFuY2VvZiBMb25nOlxuICAgIHJldHVybiBuZXcgTG9uZyh2YWwubG93LCB2YWwuaGlnaCk7XG4gIH1cbn1cblxuY29uc3QgVVpFUk8gPSBuZXcgTG9uZygwLCAwKTtcbmNvbnN0IFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcbmNvbnN0IFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcbmNvbnN0IFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcbmNvbnN0IE1BWF9VTlNJR05FRF9WQUxVRSA9IG5ldyBMb25nKDB4ZmZmZmZmZmYgfCAwLCAweGZmZmZmZmZmIHwgMCk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/convex/dist/esm/vendor/long.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fcomponents%2FConvexClientProvider.tsx%22%2C%22ids%22%3A%5B%22ConvexAuthProvider%22%5D%7D&server=false!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fcomponents%2FConvexClientProvider.tsx%22%2C%22ids%22%3A%5B%22ConvexAuthProvider%22%5D%7D&server=false! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/globals.css */ \"(app-pages-browser)/./src/app/globals.css\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/ConvexClientProvider.tsx */ \"(app-pages-browser)/./src/components/ConvexClientProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZiZ2YlMkZwcm9qZWN0cyUyRnVzZXItZmVlZGJhY2stYXBwbGljYXRpb24lMkZ1c2VyLWZlZWRiYWNrLW5leHQlMkZzcmMlMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmJnZiUyRnByb2plY3RzJTJGdXNlci1mZWVkYmFjay1hcHBsaWNhdGlvbiUyRnVzZXItZmVlZGJhY2stbmV4dCUyRnNyYyUyRmNvbXBvbmVudHMlMkZDb252ZXhDbGllbnRQcm92aWRlci50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJDb252ZXhBdXRoUHJvdmlkZXIlMjIlNUQlN0Qmc2VydmVyPWZhbHNlISIsIm1hcHBpbmdzIjoiQUFBQSxvS0FBeUg7QUFDekg7QUFDQSw0TUFBcUwiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9iZ2YvcHJvamVjdHMvdXNlci1mZWVkYmFjay1hcHBsaWNhdGlvbi91c2VyLWZlZWRiYWNrLW5leHQvc3JjL2FwcC9nbG9iYWxzLmNzc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiQ29udmV4QXV0aFByb3ZpZGVyXCJdICovIFwiL1VzZXJzL2JnZi9wcm9qZWN0cy91c2VyLWZlZWRiYWNrLWFwcGxpY2F0aW9uL3VzZXItZmVlZGJhY2stbmV4dC9zcmMvY29tcG9uZW50cy9Db252ZXhDbGllbnRQcm92aWRlci50c3hcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fcomponents%2FConvexClientProvider.tsx%22%2C%22ids%22%3A%5B%22ConvexAuthProvider%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n true &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return type.displayName || \"Context\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(type, key, props, owner, debugStack, debugTask) {\n      var refProp = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== refProp ? refProp : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        maybeKey,\n        getOwner(),\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n      REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      react_stack_bottom_frame: function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React.react_stack_bottom_frame.bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsxDEV = function (type, config, maybeKey, isStaticChildren) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        isStaticChildren,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYixLQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCwrQ0FBK0MsNkJBQTZCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQWdEO0FBQ2hFLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQSxnQ0FBZ0Msa0NBQWtDLE9BQU87QUFDekU7QUFDQSxnR0FBZ0csU0FBUyxVQUFVLHNGQUFzRixhQUFhLFVBQVUsVUFBVTtBQUMxTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsc0dBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0JBQWdCO0FBQ3BCLElBQUksY0FBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2YvcHJvamVjdHMvdXNlci1mZWVkYmFjay1hcHBsaWNhdGlvbi91c2VyLWZlZWRiYWNrLW5leHQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgICBjYXNlIFJFQUNUX0FDVElWSVRZX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiQWN0aXZpdHlcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhc2tOYW1lKHR5cGUpIHtcbiAgICAgIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSByZXR1cm4gXCI8PlwiO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRVxuICAgICAgKVxuICAgICAgICByZXR1cm4gXCI8Li4uPlwiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHJldHVybiBuYW1lID8gXCI8XCIgKyBuYW1lICsgXCI+XCIgOiBcIjwuLi4+XCI7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIjwuLi4+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBVbmtub3duT3duZXIoKSB7XG4gICAgICByZXR1cm4gRXJyb3IoXCJyZWFjdC1zdGFjay10b3AtZnJhbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcHJvcHMsIG93bmVyLCBkZWJ1Z1N0YWNrLCBkZWJ1Z1Rhc2spIHtcbiAgICAgIHZhciByZWZQcm9wID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHJlZlByb3AgPyByZWZQcm9wIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdTdGFja1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBkZWJ1Z1N0YWNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z1Rhc2tcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogZGVidWdUYXNrXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgZGVidWdTdGFjayxcbiAgICAgIGRlYnVnVGFza1xuICAgICkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gY2hpbGRyZW4pXG4gICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPSAwO1xuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuIDwgY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuKytcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baXNTdGF0aWNDaGlsZHJlbl0pO1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiBVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICBlbHNlIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuKTtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlcIiAhPT0gaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aFxuICAgICAgICAgICAgPyBcIntrZXk6IHNvbWVLZXksIFwiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCJcbiAgICAgICAgICAgIDogXCJ7a2V5OiBzb21lS2V5fVwiO1xuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSB8fFxuICAgICAgICAgICgoa2V5cyA9XG4gICAgICAgICAgICAwIDwga2V5cy5sZW5ndGggPyBcIntcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7fVwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0EgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMgey4uLnByb3BzfSAvPlxcblJlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JyxcbiAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dID0gITApKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZvaWQgMCAhPT0gbWF5YmVLZXkgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgbWF5YmVLZXkpKTtcbiAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICBpZiAoXCJrZXlcIiBpbiBjb25maWcpIHtcbiAgICAgICAgbWF5YmVLZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmIChtYXliZUtleVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH0gZWxzZSBtYXliZUtleSA9IGNvbmZpZztcbiAgICAgIGNoaWxkcmVuICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIG1heWJlS2V5LFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudChcbiAgICAgICAgdHlwZSxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIG1heWJlS2V5LFxuICAgICAgICBnZXRPd25lcigpLFxuICAgICAgICBkZWJ1Z1N0YWNrLFxuICAgICAgICBkZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG51bGwgIT09IG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgIG5vZGUuX3N0b3JlICYmXG4gICAgICAgIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfQUNUSVZJVFlfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5hY3Rpdml0eVwiKSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgY3JlYXRlVGFzayA9IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA/IGNvbnNvbGUuY3JlYXRlVGFza1xuICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH07XG4gICAgUmVhY3QgPSB7XG4gICAgICByZWFjdF9zdGFja19ib3R0b21fZnJhbWU6IGZ1bmN0aW9uIChjYWxsU3RhY2tGb3JFcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbFN0YWNrRm9yRXJyb3IoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciB1bmtub3duT3duZXJEZWJ1Z1N0YWNrID0gUmVhY3QucmVhY3Rfc3RhY2tfYm90dG9tX2ZyYW1lLmJpbmQoXG4gICAgICBSZWFjdCxcbiAgICAgIFVua25vd25Pd25lclxuICAgICkoKTtcbiAgICB2YXIgdW5rbm93bk93bmVyRGVidWdUYXNrID0gY3JlYXRlVGFzayhnZXRUYXNrTmFtZShVbmtub3duT3duZXIpKTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBtYXliZUtleSwgaXNTdGF0aWNDaGlsZHJlbikge1xuICAgICAgdmFyIHRyYWNrQWN0dWFsT3duZXIgPVxuICAgICAgICAxZTQgPiBSZWFjdFNoYXJlZEludGVybmFscy5yZWNlbnRseUNyZWF0ZWRPd25lclN0YWNrcysrO1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwoXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgbWF5YmVLZXksXG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgIHRyYWNrQWN0dWFsT3duZXJcbiAgICAgICAgICA/IEVycm9yKFwicmVhY3Qtc3RhY2stdG9wLWZyYW1lXCIpXG4gICAgICAgICAgOiB1bmtub3duT3duZXJEZWJ1Z1N0YWNrLFxuICAgICAgICB0cmFja0FjdHVhbE93bmVyID8gY3JlYXRlVGFzayhnZXRUYXNrTmFtZSh0eXBlKSkgOiB1bmtub3duT3duZXJEZWJ1Z1Rhc2tcbiAgICAgICk7XG4gICAgfTtcbiAgfSkoKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9iZ2YvcHJvamVjdHMvdXNlci1mZWVkYmFjay1hcHBsaWNhdGlvbi91c2VyLWZlZWRiYWNrLW5leHQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d2ade4fc0ff7\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyIvVXNlcnMvYmdmL3Byb2plY3RzL3VzZXItZmVlZGJhY2stYXBwbGljYXRpb24vdXNlci1mZWVkYmFjay1uZXh0L3NyYy9hcHAvZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkMmFkZTRmYzBmZjdcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/ConvexClientProvider.tsx":
/*!*************************************************!*\
  !*** ./src/components/ConvexClientProvider.tsx ***!
  \*************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexAuthProvider: () => (/* binding */ ConvexAuthProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _convex_dev_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @convex-dev/auth/react */ \"(app-pages-browser)/./node_modules/@convex-dev/auth/dist/react/index.js\");\n/* harmony import */ var convex_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! convex/react */ \"(app-pages-browser)/./node_modules/convex/dist/esm/react/index.js\");\n/* __next_internal_client_entry_do_not_use__ ConvexAuthProvider auto */ \n\n\nconst convex = new convex_react__WEBPACK_IMPORTED_MODULE_1__.ConvexReactClient(\"https://earnest-bee-892.convex.cloud\");\nfunction ConvexAuthProvider(param) {\n    let { children } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_convex_dev_auth_react__WEBPACK_IMPORTED_MODULE_2__.ConvexAuthProvider, {\n        client: convex,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/bgf/projects/user-feedback-application/user-feedback-next/src/components/ConvexClientProvider.tsx\",\n        lineNumber: 11,\n        columnNumber: 5\n    }, this);\n}\n_c = ConvexAuthProvider;\nvar _c;\n$RefreshReg$(_c, \"ConvexAuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0NvbnZleENsaWVudFByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUUwRjtBQUN6QztBQUdqRCxNQUFNRyxTQUFTLElBQUlELDJEQUFpQkEsQ0FBQ0Usc0NBQWtDO0FBRWhFLFNBQVNKLG1CQUFtQixLQUFxQztRQUFyQyxFQUFFTyxRQUFRLEVBQTJCLEdBQXJDO0lBQ2pDLHFCQUNFLDhEQUFDTixzRUFBMEJBO1FBQUNPLFFBQVFMO2tCQUNqQ0k7Ozs7OztBQUdQO0tBTmdCUCIsInNvdXJjZXMiOlsiL1VzZXJzL2JnZi9wcm9qZWN0cy91c2VyLWZlZWRiYWNrLWFwcGxpY2F0aW9uL3VzZXItZmVlZGJhY2stbmV4dC9zcmMvY29tcG9uZW50cy9Db252ZXhDbGllbnRQcm92aWRlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IENvbnZleEF1dGhQcm92aWRlciBhcyBDb252ZXhBdXRoUHJvdmlkZXJPcmlnaW5hbCB9IGZyb20gXCJAY29udmV4LWRldi9hdXRoL3JlYWN0XCI7XG5pbXBvcnQgeyBDb252ZXhSZWFjdENsaWVudCB9IGZyb20gXCJjb252ZXgvcmVhY3RcIjtcbmltcG9ydCB7IFJlYWN0Tm9kZSB9IGZyb20gXCJyZWFjdFwiO1xuXG5jb25zdCBjb252ZXggPSBuZXcgQ29udmV4UmVhY3RDbGllbnQocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ09OVkVYX1VSTCEpO1xuXG5leHBvcnQgZnVuY3Rpb24gQ29udmV4QXV0aFByb3ZpZGVyKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8Q29udmV4QXV0aFByb3ZpZGVyT3JpZ2luYWwgY2xpZW50PXtjb252ZXh9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29udmV4QXV0aFByb3ZpZGVyT3JpZ2luYWw+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiQ29udmV4QXV0aFByb3ZpZGVyIiwiQ29udmV4QXV0aFByb3ZpZGVyT3JpZ2luYWwiLCJDb252ZXhSZWFjdENsaWVudCIsImNvbnZleCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19DT05WRVhfVVJMIiwiY2hpbGRyZW4iLCJjbGllbnQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/ConvexClientProvider.tsx\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fbgf%2Fprojects%2Fuser-feedback-application%2Fuser-feedback-next%2Fsrc%2Fcomponents%2FConvexClientProvider.tsx%22%2C%22ids%22%3A%5B%22ConvexAuthProvider%22%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);